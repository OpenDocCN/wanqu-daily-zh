# 图解正确-艾伦·派克

> 原文:[http://www.allenpike.com/2016/systems-design/?UTM _ source = Wanqu . co&UTM _ campaign = Wanqu+Daily&UTM _ medium = website](http://www.allenpike.com/2016/systems-design/?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)

原型黑客，架构师图。

曾几何时，当网景漫游地球时，软件开发是困难的。桌面应用装在纸箱里，网络应用在 Solaris 盒子上运行，视频游戏装在小塑料盒里。在这个疯狂的世界里，确保软件第一次就正确是非常重要的。

那时候，编写一个应用程序——或当时古英语中的“应用程序”——是一个艰巨的过程。好的设计模式仍在发展，系统库帮助不大。实际上，任何给定应用程序中的大部分代码都是样板文件。集合类、同步框架、窗口系统、内存管理方案——一堆棘手的计算科学问题。

同时，众所周知，软件项目，尤其是大型项目，有令人不安的失败趋势。虽然每个领域都有失误，但研究发现，作为一门学科，软件开发人员在实际实现他们设定的目标方面表现得非常糟糕。

作为回应，软件开发商武装了自己。他们越来越多地采用工具和系统来规划、交流和记录他们的系统。他们在设计前正式确定需求，在编码前绘制对象图，在订购价值 200 万美元的服务器前讨论架构。“如果你没有计划，那就计划失败，”他们会说，然后继续构建他们系统的 UML，以达到最佳的领域协同。那是一个奇怪的时代。

## 多年后

最近，我的一个好朋友，这个软件工程镀金时代的幸存者，问我一个招聘问题。你看，他正在面试一位高级软件工程师，但是他的许多候选人都在面试的系统设计部分苦苦挣扎。这些人应该是高级工程师，但他们似乎完全没有制图技能。你在 Steamclock 做了多少系统图表？

“呃，好吧……系统图解嘿？嗯，我们不完全…我不会说我们正式…我的意思是…嗯。”

在我平息了一阵内疚之后，我承认我们做得不多。当然，我们会画出提议的 AWS 设置，画出粗糙的保留周期问题，并在白板上写下该死的 UI 流程，但是在公司的历史上，我们还没有制作过 UML 文档。虽然我们孜孜不倦地设计和改进我们的用户界面，但在我们开始原型制作之前，我们的技术设计很少是正式的。

虽然这不是我们在学校学到的，但这种现代的特别流程现在在行业中非常普遍。对于每一篇关于图表和系统架构的博客文章或播客，都有一万篇关于选择框架或招聘的文章。为什么要预先设计一个将要改变的系统呢？为什么要制作一个快要过时的文档呢？

嗯，因为有时这是扩展软件所必需的，这就是原因。我们知道图表作为一种思考难题的工具是多么有价值。我们也知道，深思熟虑的系统设计对于构建复杂、新颖的系统非常重要。预先的系统设计让我们登上了月球。那么，我们为什么不做呢？

## 见见原型

从技术角度来看，今天的大多数软件项目并没有那么特别。如果你想探究大多数软件项目有多不特别，让自己接受加拿大税收抵免的项目审查。该计划为技术上新颖的软件开发提供税收抵免，当你深入研究时，这与典型的软件项目中发生的事情相差甚远。回顾在一个具有挑战性的项目上一年的时间条目，你会经常发现十个小时中有九个小时，你只是在挑选库、适应新的需求和改进 UI。

现代软件项目通常只是不透明的第三方代码的手推车大小的圣代上的樱桃。当你可以通过导入 [200，000 行依赖关系](https://www.caseyliss.com/2016/3/27/node-is-weird)，用几百行代码就能做出一个完全符合你需求的博客引擎时，为什么要从头开始写呢？当你可以将`gem install wheel`或`wheel 0.1.x`添加到你的 package.json 时，为什么要重新发明轮子呢？

在这种环境下，越来越多的软件开发人员开始了他们的原型开发生涯。初创公司、产品咨询公司和独立企业通常会花很多时间来创业，而相对来说，花很少的时间来扩大规模。在这类业务中，原型的运输技能是无价的。任何给定的项目可能相对较小，可能会也可能不会变成大项目，但是如果你能发布它，你已经克服了大多数新软件的最大威胁:从一开始就不发布。

[![](../Images/fc632a3373f3694e64aa527b171be02e.png)T2】](http://cube-drone.com/comics/c/missing-the-point)

我们的文化从未如此关注航运。敏捷——宣言，而不是口号 T2——毫不掩饰交付宜早不宜迟的必要性:

> 我们最优先考虑的是通过早期和持续交付有价值的软件来满足客户。…工作软件是进步的主要衡量标准。

说出你对敏捷的想法，这是一句口头禅，但是对迭代和交付越来越多的关注已经成为行业中一股巨大的积极力量。十五年后，我们有了全新一代的开发人员，对他们来说，这种心态一直是常态。

虽然这是一个净赢，但这种心态也有一些有趣的后果。从事一系列小型迭代项目的人倾向于较少考虑传统的软件工程，而更多考虑直接的用户目标和短期改进。除了导致预先的系统设计和计划的优先级降低，这种心态还会导致对文档、单元测试和重构的放任态度。OG 软件工程师不会同意的。

不管是好是坏，现在迭代，以后计划的哲学已经主导了围绕软件开发的流行讨论。这种观点在精益创业公司、专注于 UX 的开发公司以及任何更专注于解决用户问题而非技术问题的工作室都很容易接受:谁会喜欢编写规范呢？结果，我们现在有整整一代软件开发人员是在“快速行动，打破常规”的方法下成长起来的。

## 哥们，我的复合结构图呢？

不幸的是，在一定范围内，打破东西是不可取的。或者，更准确地说，打破东西变得非常昂贵。快速移动固然很好，但是如果你每天要服务[数十亿条推送通知](http://www.bizjournals.com/sanjose/news/2013/06/11/14-eye-popping-apple-statistics-from.html)，确保一切顺利就变得更加重要了。

大规模的项目会产生巨大的影响，早期的错误会变得难以弥补。一个项目越大，技术上越新颖，你就越会遭受“这里不可维护”的痛苦，设计和构建你自己的定制框架和其他组件就越困难。

自然地，那些致力于大规模构建和维护大型系统的人通常会花更多的时间来思考系统设计和软件工程。在某一点上，适用于典型系统的通用“最佳实践”停止工作，并且推测性地迭代您的服务器不会着火可能是站不住脚的。

所有这些都需要严肃的业务系统规划、图表绘制和预测。后端系统更是如此，它变得比我们亲爱的客户更复杂，寿命更长。

那么，高级系统设计师在哪里？嗯，他们正在做他们最擅长的事情:在亚马逊、苹果和谷歌建立大规模可扩展的后端。他们正在向火星发射宇宙飞船，运营核电站。他们正在努力应对复杂而脆弱的企业系统，这些系统让航空公司、银行和电信在数十年的技术债务下免于崩溃。基本上，他们是在拯救我们的培根。

尽管如此，随着时间的推移，这些有经验的系统设计师在软件开发人员中所占的比例越来越小。不幸的是，他们各自的公司官僚机构经常阻止他们写博客、播客，甚至在推特上谈论他们的工作。这加强了初创公司和独立产品开发人员的回声室，他们喜欢庆祝过程的缺乏，并认为快速迭代和深思熟虑的软件工程是相互排斥的。钟摆摆动得如此之大，以至于预先设计的想法被认为是陈旧和失败的。

## 一滴就够了

我很乐意承认，我戴着“快速行动”的帽子最舒服。我们开发了很多新的应用程序，非常关注 UX，并为初创公司做了很多工作。像许多工作室一样，陷入详尽的前期规划对我们的大多数项目来说并不是一个很好的权衡。

也就是说，我们必须牢记软件工程工具箱中工具的好处，并慎重选择何时使用它们，何时不使用。我们不应该争论是否所有的项目都应该采用这个过程或者那个过程，我们应该争论如何判断某个项目何时证明更正式的工程是正当的。

例如，大公司的项目通常有更高的可能性达到规模，因此这是一个标志，表明他们的项目值得花费更多资源进行细致的规划、测试和准备。相比之下，创业公司的实验产品更有可能从尽可能快速高效的移动中受益。

所以，下次你开始一个新项目的时候，要留心了。这里一张图，那里一份简短的规划文件——哪里有技术风险，哪里就有机会使用系统设计。它可能不性感也不超前，当然也不需要 UML，但是有时候，一点点计划就可以走很长的路。