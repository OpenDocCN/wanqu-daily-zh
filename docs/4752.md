# 为什么许多开发人员仍然更喜欢 Objective-C 而不是 Swift——使用 Swift 进行黑客攻击

> 原文:[https://www . hacking with swift . com/articles/27/why-many-developers-still-prefere-objective-c-to-swift？UTM _ source = Wanqu . co&UTM _ campaign = Wanqu+Daily&UTM _ medium = website](https://www.hackingwithswift.com/articles/27/why-many-developers-still-prefer-objective-c-to-swift?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)

在 iOS SDK 宣布后的几年里，开发人员纷纷涌向 Objective-C，因为他们试图在应用开发淘金热中分得一杯羹。但是那些时光已经一去不复返了:Swift 已经和我们在一起三年多了，并在很大程度上把它的哥哥从聚光灯下推了出来。

objective-C——曾经是应用程序开发界的后起之秀——已经开始成为苹果生态系统中的二等公民。是的，它可能偶尔会在 WWDC 会议上出现一两张幻灯片，但全球大多数会议都是在 Swift 上进行的，苹果正在教育领域大力推动 Swift，主要语言功能首先出现在 Swift 上。

但是如果你仍然在使用 Objective-C，你并不孤单——许多其他开发者仍然更喜欢 Objective-C 而不是 Swift，并且有很好的理由。我联系了一些 Objective-C 开发人员，询问是什么阻碍了他们的发展，他们是否觉得 Objective-C 开发已经被打上了烙印，等等——以下是他们不得不说的话…

**注:**此处表达的观点为个人观点，可能不代表其雇主的观点；人们按他们回答的顺序排列；部分回答因篇幅原因被编辑。

[与 Swift 一起赞助黑客活动，接触全球最大的 Swift 社区！](/sponsor)

### 阻碍您将 Swift 作为主要语言的主要原因是什么？

**史蒂夫·特劳顿-史密斯**:我避开 Swift 的原因有很多。首先也是最重要的，我不喜欢使用它——我发现语言*比 ObjC 更难阅读和解析，尤其是在循环和 switch 语句中的 if-let 变量赋值(这在苹果的示例代码中被混乱地过度使用，比如 ARKit)。我不是不同语言的新手，为各种平台编写过东西，Swift 对我来说绝对是易读性谱的最低端。*

我还不确定苹果对该语言的参与程度——四年过去了，Swift 并没有被用于 iOS、OS 或框架的重要部分(我在 Twitter 上维护着一份来自苹果的 Swift 应用程序的运行列表，macOS 肯定不像 iOS 那样羞于在新功能中采用它)。我明白为什么会这样(ABI 的稳定性，等等)，但是如果苹果没有把它用在所有事情上，我不明白为什么我要代表他们进行测试。在等待 Swift“就绪”之前，我不会失去任何东西，同时我还获得了 Objective-C 的所有好处。

> 我完全相信，仅仅因为苹果制造了一些东西，说它是前进的方向，并不意味着它是正确的选择

有趣的是，在最初几年，我听说苹果和任何人一样对 Swift 有分歧——当然，苹果是一个庞大的 ObjC 开发者群体，Swift 对他们中的许多人来说和对我们来说一样令人惊讶。我完全相信，仅仅因为苹果制造了一些东西，并说这是前进的方向，并不意味着这是正确的选择——我们在过去几年里已经看到了苹果的一系列失误(discoveryd，iOS 7，iOS 8)或“mehs”(MAC OS，Touch Bar)，等着看它如何实现肯定没有坏处。

迈克尔·劳尔:我看不出有什么动机。我在 Objective-C 语言方面非常高效，我认为这种语言非常优雅、简洁、富有表现力。如果 Swift 有一流的(异步)并发性，我会马上跳起来。相比之下，我听说编译速度慢，运行时库大量重复，我还没有看到显著的运行时性能改进。

Dan Leivers: 对于原型或者非常小的项目，我会使用 Objective-C，纯粹是为了在一段重要的时间过去后易于更新(这种类型的客户通常都是这样)。我还为许多客户维护 Objective-C 应用程序，但根本没有时间(或理由让他们转用 Swift)。在 Swift 中为这些项目剪切新代码通常会导致与原型相同的场景。

老实说，在 3.0 版本之前，对我来说主要的障碍是缺少源代码兼容性，即使在 4.0 版本之后，我仍然在等待 ABI 的稳定。我认为这是唯一剩下的一个问题，而且我个人认为，如果源代码兼容的话，这个问题对我来说不太重要。

Todd Thomas: Xcode 对 Swift 的支持似乎很可笑。从大型项目冗长的编译时间到蹩脚的重构和调试。用于 Mac 的 Tweetbot 是一个相当大的项目，在 2012 年的视网膜 MBP 上编译它需要 44 秒。这包括 1 个框架，1 个库和应用程序本身。此外，Swift 在 ABI 还不稳定——当我不需要在应用程序中附带 Swift 库时，我更有可能开始慢慢地将应用程序的某些部分转换到 Swift。

> 对于一个完全干净的构建，我们的构建时间大约是 6 个小时，增加这个时间并不好。

伊恩·麦克道尔:我们有一个*吨*的共享 C++代码用于我们的业务逻辑，它与 Windows & Android 共享。我们用 Objective-C 的原生 UIKit/AppKit 编写我们的 UI，并且有许多 Objective-C++文件来在两种语言之间架起桥梁。到目前为止，除了一些脚本&内部工具，我们还没有采用 Swift 太多。从其他使用 Swift 的团队那里听说，编译时间比 Objective-C/C++慢。

我们有数百个 Xcode 项目，最终都编译成一个巨大的静态库，链接到每个应用程序二进制文件中。这样做是为了减少应用程序的启动时间。对于一个完全干净的构建，我们的构建时间大约是 6 个小时，增加这个时间并不好。

我的主要编码项目是为一个客户做的，它是一个大型的代码库，已经发展了好几年。虽然我将引入一些 Swift，因为我做的很多工作涉及编辑现有代码，这防止我使用太多 Swift。

作为一名顾问，我也意识到，每次 Swift 有新的主要版本时，我要么必须向他们收费，以更新他们看到的内容(正确！)作为工作代码或者把他本人。两者都不是理想的主张。

**Marco Arment:** 对我来说，这不是对 Swift 本身的判断，而是一个务实的决定:我已经是 Objective-C 方面的专家，在使用它时效率极高，对我来说，转换到 Swift 的好处不足以抵消成本。

Marcel Weiher: 我的许多优秀作品包括大量的元编程，以及 Objective-C 的 C 部分与动态消息传递部分的明智混合。所有这些都变得更加困难，以至于你无法用 Swift 编写 CoreData。还有流失:我刚刚试图找到一些 Apple Pencil 的样本代码。一切都很快。今天没有一个可以编译。

### 你有没有感觉到开发人员可能会因为使用 Objective-C 或者在社交媒体上谈论它而受到指责？

史蒂夫·特劳顿-史密斯:一点点？使用 ObjC 或者说你喜欢 ObjC 胜过 Swift 是非常不受欢迎的。Swift 有一个真正大规模的宣传列车，你肯定不想阻碍它。

就像任何创造热情和完全接受的粉丝的事情一样，进行理性的讨论是没有意义的。Swift 用户和我一样(也更多地)意识到了它的缺点，但他们乐于做出妥协，因为他们意识到了好处。我不是，也没有感受到同样的好处。

迈克尔·劳尔:绝对是。我觉得我必须不断地为自己“是恐龙”辩护。

> 我相信艾米·沃拉尔在 iOSDevUK 的演讲是客观的，观众中有一些不安，似乎人们不理解它。

丹·莱弗斯:毫无疑问，这是一股追求新奇和闪亮的潮流。这可能是 iOS 社区中有多少人最终站在了第一位，所以这并不完全令人惊讶，仍然有一个推动出血的边缘。我相信艾米·沃拉尔在 iOSDevUK 的演讲是客观的，观众中有一些不安，似乎人们不理解它。

Peter Molnar: 我在阅读职位名称和职位描述时更有这种感觉，不一定是在社交媒体上。现在每个人都在寻找高级 Swift 开发人员

托德·托马斯:我对此并不太担心。应用程序应该自己说话。如果它是好的，用户不会在意它写了什么。

**Ian McDowell:** 我对仍然使用 Objective-C 感到有些耻辱，但不是很多。我在所有的个人项目中都使用 Swift，我喜欢它，并且理解我们在工作中不使用它的原因。

**Simon Wolf:** 有一点，但是因为我不相信 Swift 是坏的和客观的——C 是一种真正的可可语言，所以我倾向于避免关于 Swift 的利弊的激烈争论。我也没见过有人对 Objective-C 开发人员太粗鲁，但作为一名 Mac 开发人员，我倾向于站在 iOS 社区的边缘，这可能是冲突最多的地方。我不认为 Mac 开发者热衷于使用最新最棒的。我们仍在与 NSCell 作战。

**Marco Arment:** 这已经开始了，但每一个转变都是这样发生的。Objective-C 开发者取笑碳开发者。每当你的语言不再被认为是“进步的语言”时，这只是一个自然的副作用，但你仍然出于实用的原因使用它。作为 web 端的 PHP 开发人员，我对此已经习以为常。

### 当您看到会议大部分时间(如果不是全部时间)使用 Swift 时，您有什么感受？

史蒂夫·特劳顿-史密斯:完全排除；仅限 Swift 的会议对我来说毫无意义。在这种语言完全形成之前，在苹果大规模使用它之前，我不想现在就去关心 Swift 的最佳实践或设计模式。我不想整理一打社区主导的设计模式，我想做苹果做的事情。

> 仅限 Swift 的会议对我来说毫无意义。

知道 Swift 是苹果开发的一个真正的“未来”,让我不再想直接开发应用程序；iOS 7 用户界面与快速过渡的结合当然让我觉得这不再是我想开发的平台了。

迈克尔·劳尔:很悲伤。当然我能翻译我看到的一切，但这比以前更努力。我拒绝向任何要求 Swift 示例的会议提交报告。谢天谢地，仍然有“我们其他人”的会议。

丹·莱弗斯:至少他们基本上是一致的！

**Peter Molnar:** 我认为这是进化的一部分，但这是真的——Objective-c 周围没有太多的生命。Swift 是新的，由于它不断变化，有很多东西值得谈论，显然很多东西到明天也会过时。

**Todd Thomas:** 我想如果你想有前瞻性，会议应该使用 Swift。我个人不介意，但也不太关注会议。

伊恩·麦克道尔:我感觉棒极了，这是未来！

**西蒙狼:**我不介意。我意识到 Swift 是一个闪亮的新事物，因为我对 Swift 足够了解，所以我真的不担心它。如果我把头埋在沙子里，懒得学习 Swift，我可能会觉得被冷落了，但我不认为这种方法有助于成为一名优秀的开发人员。

Marco Arment: 我不介意。大多数会议组织者和与会者比我更接近前沿，所以他们当然应该使用 Swift。将会议、教程和堆栈溢出中的 Swift 片段翻译成 Objective-C 只是今天继续使用 Objective-C 的成本之一，到目前为止，这还没有被证明是特别繁重的。随着时间的推移，这一负担将会加重。

我不得不承认，我发现很多 Swift 的谈话非常肤浅，而且往往可笑地缺乏见识，所以我想我会感到失望。我知道这听起来很刺耳，显然也有例外，但是 OMG。

### 你认为 Swift 的引入帮助还是阻碍了 Objective-C 语言的发展？

Steve Troughton-Smith : Swift 对于 Objective-C 开发来说绝对是灾难性的；对于任何新的 API 或功能，我不再有样本代码，WWDC 幻灯片，教程，GitHub 或 StackOverflow。不管 StackOverflow 千年笑话怎么样，但是失去对所有这些背景和知识的访问是毁灭性的。从好的方面来看，ObjC 语言本身已经获得了许多生活质量/语法糖特性，帮助它更好地与 Swift 互操作，所有这些都非常棒。

> Swift 对于 Objective-C 开发来说绝对是灾难性的。

我真的很反感 ObjC 必须死才能让 Swift 活下去的事实——如果这两种语言能够独立存在，对于像我这样的开发人员来说一切都会好的，他们可以选择最适合手头任务的语言。Swift 背后充满激情的大规模运动，以及苹果停止为开发者创造 ObjC 资源，让这一切几乎成为不可能。

**迈克尔·劳尔:**大多受阻。感谢 Swift 给我们带来的好处是轻量级泛型和可空性，但仅此而已。我只能梦想什么可能是客观的——如果背后有同样的人力。

Dan Leivers: 我认为它最初是有帮助的，但我不禁感到它现在基本上被搁置了。

托德·托马斯:我认为这很有帮助。他们为 Swift 的语言添加了许多有用的东西，所以我们不能对此抱怨。

**Ian McDowell:** Objective-C 从 Swift 获得了一些不错的特性，包括`@available`语法和可空性说明符。它是一种稳定的语言，我并不期望它会有更多的变化。

> 在 Swift 中解包可能很痛苦，但它帮助我在 Objective-C 中采用了更好的实践。

这是有帮助的，因为 Swift 对 Objective-C 做了一些改变和改进。此外，写一点 Swift 鼓励我把它看做是我的一些 Objective-C 编码实践，我不太倾向于让 nil 对象掩盖事实。在 Swift 中解包可能很痛苦，但它帮助我在 Objective-C 中采用了更好的实践。

**Marco Arment:** Swift 已经有效地停止了 Objective-C 语言的开发。这并不奇怪，也不是没有道理，但幸运的是，Objective-C 已经相当成熟了。Swift 推出前的几年带来了许多改进，这些改进应该保持 Objective-C 的可用性，直到我们大多数人转向 Swift。

显然受阻了，但客观-C 还可以，比进一步发展更需要一颗子弹！

更令人惊讶和有些不安的是，在 Swift 到来之前，库和“首选编码风格”中有多少明显的缺陷在没有引入全新语言的情况下本来是微不足道的，但现在却归因于 Swift。这似乎是为了让 Swift 看起来更好而推迟了这些改进，尽管我很确定事情不是这样发生的。

然而，最大的负面影响将是，它很可能会阻止继任者的发展，这是一个实际的改进。我们现在真的有足够的信息来建造这样一个庞然大物，而苹果几乎忽略了所有的信息。这是犯罪。

### 你怎么看？

除了上面的所有问题，我还问了人们使用 Objective-C 多久了，因为我认为公平地说，在选择留下还是离开时，熟悉一门语言总是很重要的。

当听到大多数人说他们在 iPhone SDK 发布后不久就开始使用 Objective-C 时，这并不奇怪，有一对夫妇已经使用了十多年，还有一个人使用了 27 年，是的，27 年。我应该补充一点，一个回答者说他们最近才开始 Objective-C，所以也许这只老狗还活着。

还有一件事:去年我写了一本名为[Objective-C for Swift Developers](/store/objective-c-for-swift-developers)的书，在前言中我加入了一个标题为“我喜欢 Objective-C 吗？”这是我在里面写的:

当我通读这本书的第一份完整草稿时，我心想，“哇，这读起来像是 Snark 的 Objective-C 指南，”因为感觉几乎每一章都在抱怨什么。

*因此，我花了一些时间编辑这本书，让它变得更乐观一些——不是因为我试图以一种人造的方式向你展示事物，而是因为我真的很喜欢使用 Objective-C。在它发布的当天，我就换成了 Swift，并在第一天就在 App Store 上发布了 Swift 应用程序。因此，在许多方面，Objective- C 看起来很糟糕，因为 Swift 更好——我与 Swift 合作了很长时间，回到 Objective-C 感觉有点像回到你的农村家乡过圣诞节，而你已经习惯了在大城市生活。*

我不知道我喜欢 Objective-C 是因为我有斯德哥尔摩综合症，还是因为苹果的 API 太强大了。不管怎样，我认为重要的是你要意识到一些令人惊奇的软件是用 Objective-C 构建的，而且今天许多人都像以前一样喜欢它。

当你发现这本书里的东西让你畏缩的时候，温柔点:这是一门古老的语言，它已经走过了漫长的道路，并且很好地为我们服务。最起码，退休也值得有尊严！

感谢 Steve Troughton-Smith、Michael Lauer、Dan Leivers、Peter Molnar、Todd Thomas、Ian McDowell、Simon Wolf、Marco Arment 和 Marcel Weiher 抽出时间为本文提供他们的观点。

现在轮到你了——如果你仍然喜欢使用 Objective-C 而不是 Swift，[在 Twitter 上告诉我](https://twitter.com/twostraws)！

[与 Swift 一起赞助黑客活动，接触全球最大的 Swift 社区！](/sponsor)