# 网站速度优化初学者指南(WordPress 友好)

> 原文:[https://kinsta.com/learn/page-speed/?utm_source=wanqu.co&UTM _ campaign = Wanqu+Daily&UTM _ medium =网站](https://kinsta.com/learn/page-speed/?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)

网站性能优化，技术卓越的网站设计的焦点，是决定现代在线业务成功的主要因素。毕竟，当等待缓慢的网页加载的折磨使访问者寻求替代方案时，不起眼的网站性能扼杀了企业的底线——不耐烦是一种数字美德！

**速度是卖点！**

我们创建了以下六章深入的速度优化指南，向您展示拥有一个快速加载、简洁的网站是多么重要！无数的研究论文和基准证明，优化您的网站的速度是最实惠和最高的投资回报率提供的投资之一！

在下面的指南中，我们将尝试解释技术细节，同时为您提供易于遵循的说明，您可以立即开始实施！我们希望你会发现它的价值，也许值得分享！😄

闪电般的页面加载速度提高了访问者的参与度、忠诚度，并促进了销售。根据最近的 [Aberdeen Group research](http://loadstorm.com/2014/04/infographic-web-performance-impacts-conversion-rates/) 的研究，即时的网站响应导致更高的转化率，页面加载每延迟 1 秒，客户满意度下降 16%，页面浏览量下降 11%，转化率下降 7%。

### 强调网站速度优化的关键方面:

## 第一章:网站速度优化介绍

### 到底什么是页面速度？

术语“页面速度”本质上是指网页或媒体内容从网站托管服务器下载并显示在发出请求的网络浏览器上的时间长度。页面加载时间是从单击链接到在请求浏览器上显示网页的全部内容之间的持续时间。

![Page load time](../Images/227d5374416005f0ed4f6e8695eac21d.png)

Page load time



要理解用户体验和网站性能背景下的页面速度，有三个核心方面是必要的:

*   将所请求的材料以及附带的 HTML 内容传递给浏览器所用的时间视图。
*   浏览器对页面加载请求的响应。
*   当请求的网页呈现在浏览器上时，最终用户的视图–这是对页面加载速度的最终经验测量。

网站性能随后**影响** **在[搜索引擎](https://kinsta.com/blog/alternative-search-engines/)** 中的排名，这些搜索引擎是根据专有和未公开的算法开发的，包含了包括页面速度、用户体验、网站响应能力和许多其他网站性能指标在内的关键因素。

最大化网站性能的绝对关键原则是从头开始关注页面速度优化。性能优化插件、服务器端脚本和最终调整对页面速度和加载时间的影响很小，尽管很明显。然而，网络开发人员和在线企业所有者在他们的网站开发和设计策略中往往会忽略页面加载时间。

### 慢？有多慢？

任何比眨眼慢的时间-[400 毫秒](https://www.nytimes.com/2012/03/01/technology/impatient-web-users-flee-slow-loading-sites.html?pagewanted=all)。谷歌的工程师发现，几乎察觉不到的页面加载时间 0.4 秒已经足够长，足以导致用户减少搜索。
这项技术在改善互联网体验方面取得了长足的进步。20 世纪 90 年代过度拥挤的网络世界通常被称为全球等待，但通信和网络技术的创新已经彻底改变了数字信息在互联网上的传输方式。下一代在线企业拥有即时交付内容所需的所有资源，但为了利用和补充这些资源，企业需要速度优化的网站，以提供最佳的用户体验。

> 微软速度专家和计算机科学家 Harry Shum 认为 0.25 秒的页面加载时间差异——更快或更慢——是决定在线业务竞争优势的神奇数字。

如果他们不这样做，会发生什么？

如果加载时间超过 4 秒，1/4 的访问者会放弃网站。46%的用户不会再访问表现不佳的网站。网站所有者在考虑离开之前只有 5 秒钟的时间来吸引访问者。如果加载时间超过 5 秒，74%访问移动网站的用户会离开。对于像亚马逊这样大的在线商家来说，页面加载时间每延迟一秒钟都可能导致[16 亿美元的年度损失](https://www.fastcompany.com/1825005/how-one-second-could-cost-amazon-16-billion-sales)。

![Slow load times](../Images/ba3dd5ce1e16707dd9c14d6611fe27a9.png)

Slow



[47%](https://neilpatel.com/blog/loading-time/)的电子商务客户**希望页面加载时间少于两秒**,然后才会考虑离开——40%的用户会在等待的第三秒放弃网站，甚至在性能分析工具捕捉到他们在网站上的存在之前。转换的平均峰值加载时间仅为 2 秒，比数百万网站都要快。

当它们加速时会发生什么？

当 Mozilla 将页面速度提高 2.2 秒时，Firefox 的下载量增加了 15.4%，即每年 1000 万次。沃尔玛[的页面加载速度每提高 1 秒](https://www.akamai.com/us/en/multimedia/documents/report/akamai-state-of-online-retail-performance-spring-2017.pdf)，转化率就会提高 2%。数字不会说谎！

![Speed increase](../Images/baf35f34727d6fd5597dc72a4ea2c05e.png)

Speed increase



### 可接受的网站表现——神经科学和节奏

100 毫秒。这是我们大脑中枕叶作为感官记忆储存视觉信息的时间。

谷歌研究人员表示，页面加载时间少于 100 毫秒会给访问者带来网站即时响应的错觉，因为我们大脑中的视觉感官记忆处理器以 100 毫秒的脉冲工作。随着眼睛中的感光细胞向枕叶传输更多的信息，0.1 秒后，记忆存储会自行清除。

![Acceptable website performance](../Images/a10e8f21d45d9fcd2636008fd576b433.png)

Acceptable website performance



1 秒钟的页面加载时间确实足以保持无缝的思维流动——用户感觉自己在控制他们的网页浏览活动，并且精神压力不会加剧，除非网站未能按照预期做出响应。

延迟 10 秒钟，游客的注意力几乎无法保持。不耐烦、沮丧和被抛弃的感觉通常很强烈，足以阻止访问者再次访问这样缓慢的网站。

### 实用主义心理学难题

然而，由于页面速度慢而放弃一个网站并不总是获取网上所需信息的最快途径。普通用户会多花几分钟浏览快速响应但不相关的网站，而不是多等几秒钟等待缓慢的相关网站响应。

考虑到 web 上的资源海洋，用户最终会在某个网站上找到所需的信息。但是最终的输家是在线企业，它们无法足够快地接触到它们的在线客户，尽管它们拥有所寻求的确切信息和服务。

奇怪的是，访问者宁愿花过多的时间浏览其他地方的信息，也不愿等待几秒钟来加载正确的网站。这种经历类似于几年前的休斯顿机场事件，导致了一个聪明的解决方案。

![Play with human psychology](../Images/d770ced25de7b50d886eb6254bf13e68.png)

Play with human psychology



机场的乘客必须步行 1 分钟到行李认领处，然后在那里等 7 分钟来领取行李。客户关系中心最终被对缓慢服务的抱怨淹没了。

因此，机场管理人员想出了一个巧妙的解决方案来“解决”这个问题。他们把到达门移得很远，把行李送到最外面的传送带上。

乘客现在必须步行 *6 分钟*到行李认领处，在那里他们可以在 2 分钟内拿到行李。结果呢？零投诉。绝对没有乘客不满意——除了腿有些累。

类似地，电梯里有镜子，所以乘客们忙着打扮自己，不去想旅行的时间。这种乘客行为类似于网络世界中网站访问者的行为。同样的一般原则也适用于在线业务:是等待的客观时间长度决定了等待的体验。

现在，在线企业可以像休斯顿机场的管理人员一样玩弄人类心理，加速进化，但实际上没有特定的公式来使网站的响应时间对每个访问者来说都是可以忍受的。或者，他们实际上可以**通过一个快速响应的网站来减少向在线访问者提供所请求内容的客观等待时间**——当网站旨在提供即时响应和高质量、无缝的用户体验时，这都是可能的。

本指南将关注后一种做法，并通过优化网站性能来帮助您最大限度地发挥在线业务的潜力，从而提高客户满意度、保留率和忠诚度。

该指南的核心内容包括:



## 第二章:网站绩效影响商业成功

### 绩效影响销售

网站性能就是用户体验——网页速度的力量，转化为吸引人的网上购物体验，激发销售数字，并最终决定网上业务的成功。自从经历了网站性能下降影响销售的令人信服的后果后，行业龙头谷歌开始将页面速度纳入其专有的搜索算法。这个搜索引擎巨头曾经经历过由于页面加载时间延迟半秒而导致流量下降 20%的 T2。

虽然谷歌很快解决了几乎削弱其市场份额的问题，但在线企业尚未在竞争激烈的在线市场建立自己的存在时，情况并非总是如此。

问:那么，对于一个普通的在线企业来说，网站表现是如何影响销售的呢？

**答:**戏剧性地，是唯一的答案！

Forrester 咨询公司最近研究了消费者在线购物预期的状况，并评估了表现不佳的网站如何扼杀商业底线，而高水平的网站表现则迅速促进销售。

研究发现，88%的互联网用户选择提供高性能和用户友好网站体验的在线零售商，几乎有**50%的人放弃了无法在 3 秒内加载的网站**。

这些行为会影响销售。79%不满意的客户不再访问表现不佳的网站——除非你是谷歌或亚马逊。46%不满意的顾客留下了持久的负面印象，44%的顾客与世界其他地方分享他们的购物经历。这种影响远远超出了网络世界，因为 87%的顾客在网上和实体零售店购物。

![Abandon slow websites](../Images/75268460f9590788d4f12e96b1000b7a.png)

Abandon slow websites



虽然服务和产品质量显然对企业销售有最大的影响，但在网络世界中，将网站访问者转化为购买客户在很大程度上取决于建立积极的客户印象。这就是电子商务网站性能参数(如超快页面速度和快速结账流程)发挥作用的地方，最终给客户留下积极的心理印象，鼓励销售和客户忠诚度。

### 绩效影响转换

作为在线业务最重要和最强大的互联网指标，转化率在为在线零售平台建立竞争优势时完全取决于网站 KPI。

在网络世界中，如果不改善网站用户体验(包括页面速度和网站响应能力),仅靠传统营销活动无法提高转化率。

2011 年总统选举期间，奥巴马的筹款活动额外筹集了 3400 万美元，当时“奥巴马为美国”网站将页面加载时间从 5 秒缩短到 2 秒——这意味着捐款转化率增加了 14%，而网站性能仅提高了 3 秒！

![Fast load times equal better conversions](../Images/5621f4c39261a0a4c08f214a83060372.png)

Fast load times equal better conversions



将潜在顾客带到实体零售店门口通常需要周密计划的营销和广告活动。一旦顾客进入商店，他们通常不会不买东西就离开。

让网上顾客访问网上零售店要容易得多——互联网用户不介意随意点击几下打开他们以前从未访问过的网页。搜索引擎优化和社交媒体广告经常会达到目的。

对于访问者来说，同样方便的是，如果所需的信息在可忍受的几秒钟内无法获得，就离开网站——对于无动于衷的访问者来说，这也只需要几次任性的点击！

**网站性能和响应方面的用户体验**因此，成为影响在线市场转化率的最终因素。电子商务首先是关于客户便利和在正确的时间用正确的信息、产品和服务有效地接触潜在客户。

如果网页速度不比用户因网站性能问题而放弃访问的速度更快，这两者都不可能实现。不知道你的网站性能影响转化率？像谷歌的[测试我的网站工具](https://www.thinkwithgoogle.com/feature/testmysite/)这样的工具可以帮助回答这个问题(见下面的例子)。

![Conversion speed calculator](../Images/da9ed758e24ed386d854723b23f4b557.png)

Conversion speed calculator



### 绩效影响用户参与度

用户参与度统计数据为网站分析提供了强大的支持，有助于开发优化在线销售的最佳策略。在竞争激烈的网络空间中建立的在线企业非常了解网站性能和工具的重要性，这些工具可以分析和预测与页面速度和收入相关的下一个最佳行动。

响应迅速、加载速度快的网站所带来的增强的用户参与度信息通常被视为在线业务成功的一个标志。用户参与度在很大程度上取决于人类在存储超过几秒钟的短期记忆方面的局限性，以及人类在所有情况下对控制机器的渴望。

![Under performing websites](../Images/1ffef3eab398894bea7264ffd8f6a794.png)

Underperforming websites



对于表现不佳的网站——注意，表现不佳是一个相对的术语——页面加载时间超过了人的极限，而未能处理用户请求会给人一种无知或无法高效准确地提供所需响应的错误印象。

![High-performing websites](../Images/0f20777b591f7629fa64efb776c56a7a.png)

High-performing websites



另一方面，高性能网站——注意高性能也是一个相对术语——影响决定用户参与度的三个参数:用户感受、用户心理状态和用户互动。这三个方面在人类访客之间建立了一种情感、认知和行为的联系(关于机器人不能说太多！)和网站。

有了这种联系，在线企业可以利用用户参与特征，如专注的注意力、动机和信任，将访问者转化为客户、回头客甚至品牌大使，从而在社交媒体和互联网世界之外产生线索。

### 性能影响运营支出和收入

虽然投资网站性能优化增加了资本支出，有利于减少几秒钟的页面加载时间，但回报不可避免地表现为收入增加、运营成本和硬件投资减少。

通过将页面加载时间从 7 秒缩短到 2 秒，电子商务巨头 Shopzilla 的运营预算减少了 50%。网站设计革新带来的性能提升使该公司能够利用相同的硬件资源高效地处理相同数量的网站用户请求。网站响应能力的提高也使**的收入增加了 12%**,因为零售店适应了不断扩大的网络流量，而没有促进额外的投资，从而扩大了硬件资源。

网站 KPI 的提高也带来了更好的 [Google AdWords](https://kinsta.com/blog/how-to-use-google-adwords/) 质量分数，从而降低了每次点击成本(CPC)。具有高质量分数和页面速度的在线企业能够高效且有效地花费广告预算，从而最大化覆盖范围并吸引客户，而无需额外的运营支出。

另一方面，速度变慢会降低资源利用率。Bing 对其影响收入的网站性能进行了一项独立研究，发现搜索查询延迟 2 秒会导致每个用户损失 4.3%的收入。

当延迟消除后，客户行为并没有显著改变。当谷歌在提供搜索结果时消除了 0.4 秒的延迟，即使网页表现最佳，用户进行的[搜索仍然比](https://www.fastcompany.com/1769621/googles-new-page-speed-service-promises-boost-sites-ad-revenue-you-can-test-it-too)少 0.21%。

增强网站性能的额外努力可能会暂时增加资本支出，但这种权衡最终是合理的，因为额外的投资会转化为更高的底线、增加的收入流和最低的运营支出。

### 性能影响可用性

学习曲线最陡的网站锁定的顾客最多。互联网用户认为学习使用备用网站所花费的时间是一笔巨大的转换成本，这是一种将他们锁定在高性能网站提供的在线服务上的机制。

网站可用性和客户忠诚度之间的关系要素依赖于网站的关键绩效指标，包括页面速度、加载时间和网站对用户请求的响应。网站速度优化的一个假设模型将这些因素考虑在内，网站信任、交互性和信息相关性等特征被最终用户视为网站可用性的一个子集。

类似地，网络爬虫和搜索引擎从页面速度、导航性、用户体验、响应性和对全球观众的可达性方面测量网站性能，作为影响搜索排名的搜索引擎优化的子集。

![Usability traits](../Images/5b7dd3756feacfd568639a3913de6dc9.png)

Usability traits



最终用户期望以下特征影响网站的可用性:

*   易于操作、导航和理解。
*   直接传递相关信息和寻求控制。
*   可跨所有设备外形、机器、操作系统、浏览器和地理位置访问。
*   以最少的点击和浏览器请求提供合法、可信和高质量的信息、产品和服务。

实现这些意图对于最大化**网站性能、可用性和客户忠诚度**至关重要，所有这些都是作为在线业务成功渠道的单一系统的重叠元素。





## 第三章:速度优化移动网站盖过桌面

移动电话是所有联网设备的未来。随着移动设备的冲击似乎涵盖整个人类，采用率正在飙升—[23.2 亿智能手机用户](https://www.statista.com/statistics/330695/number-of-smartphone-users-worldwide/)，约占 2017 年全球人口的 30%。刺激反响的热潮继续困扰着几乎没有进入移动互联网营销领域的在线企业。

网络世界的成功取决于能否采用移动优先的方法来接触到激增的移动用户。对于推动有效接触大量移动人口的组织来说，难以想象的奖励即将到来。

![Mobile vs desktop](../Images/776d83d0b03b366cd51ef7eea7790fe8.png)

Mobile vs desktop



另一方面，桌面网络营销是过去十年左右。谷歌搜索“后个人电脑时代”、“个人电脑销量直线下降”和“台式机之死”等术语，得到的回报是无数新闻素材，描绘出仍徘徊在桌面互联网用户群周围的组织的黯淡未来。

对于这样的行业落后者来说，接受移动优先战略还为时不晚。然而，当前瞻性的在线企业未能优化其移动用户群时，这种方法并不总是奏效。

这与其说是在移动化方面采取了错误的方向，不如说是错过了一些重要的步骤，没有填补在高效和有效地接触移动客户方面的空白。这些差距集中在缺乏响应迅速、高性能的移动网站。

### 移动与桌面——为什么重要？

因为其他人都在这么做，首先。移动领域的竞争非常激烈，早在 2014 年，雅虎首席执行官就将其称为互联网的[【引爆点】](https://www.cnbc.com/2014/01/22/yahoos-marissa-mayer-by-end-2014-yahoo-will-have-more-mobile-traffic-than-pc-traffic.html)。她是对的！石庙在 2017 年从类似的网站中提取了一些[统计数据](https://blogs.perficient.com/2017/04/05/mobile-vs-desktop-usage-mobile-grows-but-desktop-still-a-big-player-in-2017/)，这并不出乎我们的意料，但基于 770 亿次网站访问，移动端占了超过 50%的流量。

![Aggregated total visits on desktop vs mobile](../Images/a7aafe6f4c2191fd8eb38183f45e86f7.png)

Aggregated total visits on desktop vs mobile (Img src: [Stone Temple](https://blogs.perficient.com/2017/04/05/mobile-vs-desktop-usage-mobile-grows-but-desktop-still-a-big-player-in-2017/))



以下是一些额外的统计数据:

*   87%的美国公民拥有移动设备。
*   这些自有智能手机中的 45%。
*   其中 90%通过手机上网。
*   这些手机用户平均每天 1.4 小时 的手机上网浏览。
*   74%的人会放弃无法在 5 秒内加载的手机网站。

至少从网站设计的角度来看，整个重点应该放在分别对待移动和桌面这两个实体上。如果没有这种策略，移动用户访问桌面版网站的体验通常会在页面加载时间、可用性和功能性方面受到影响。损害移动网站的这些核心方面会迫使在线业务面临明显的负面影响，包括:

*   **移动购买量低:**与桌面互联网用户相比，移动互联网购物者的注意力持续时间更短，耐心更低。
*   **失去竞争:**根据对一千多名美国成年智能手机用户的调查，近 75%的受访者表示，他们更喜欢重新访问提供高端移动用户体验的移动电子商务网站。
*   **失去品牌价值:**设计糟糕的移动网站，只是简单地缩小全桌面网站版本的 HTML，以便访问者在移动网页中导航时放大和缩小，这使得用户将来不太可能与该公司合作。

这些后果否定了通过移动互联网接触客户的以下主要目标:

*   扩大客户基础。
*   新的广告选择。
*   方便用户，高效提供优质服务。
*   最令人担忧的是，为了商业发展，积极拥抱移动网络是不可避免的。

台式机和移动设备在技术资源、外形和用户界面方面存在差异——所有这些方面都制约着网站性能优化的实施。如果不单独优化移动网站以提供最佳的移动网站性能，一些网站 KPI 会降级并对移动用户体验产生负面影响。

由于移动技术使用户能够在移动中搜索网络，同时站着、走着甚至舒适地躺在沙发上，渴望控制网站运营的渴望驱使用户的期望超出了仅适用于桌面领域的传统标准。在大约 2 秒钟的短暂关注时间内提供移动网站内容的能力在赢得客户忠诚度和与移动互联网用户的长期业务关系方面至关重要。

![web objectives](../Images/682273c27c4e0425ea67f826b2079264.png)

Web objectives



### 高性能移动网站与高转化率的竞争空间

考虑到使用移动设备进行电子商务采购的互联网流量很大，高性能的移动网站显然是电子商务组织的优先事项。最近的一项调查研究显示，电子商务企业可能会错过数百万移动购物者，移动购物者每次转化的潜在总收入平均约为在线购买的桌面用户的 80%。

在低性能移动网站上运营的小型电子商务企业的转换率通常为 0.6%，相比之下，相同规模的桌面电子商务提供商的转换率为 1.6%。

另一方面，平板电脑用户比台式机用户多花 20%。通过抓住这些受众，进入移动互联网营销领域的在线企业可以期待有一天可能取代桌面受众的高收入流——尽管那一天目前似乎有点太遥远了。

![Website revenue streams](../Images/e62f33b1dbcfdc17c6dcb4444bcb6e21.png)

Website revenue streams



然而，满足移动用户需求的需求将继续呈指数级增长。移动网站的搜索引擎优化现在是一个独立的行业，移动网站速度优化也是如此，它包括:

*   高页面速度
*   低页面加载时间
*   高效交付富媒体内容
*   下载速度
*   最佳网站格式
*   整个网站的简单导航和可用性
*   以及在执行移动互联网使用的复杂任务时需要最少用户输入的全功能网站。

通过解决这些问题，移动互联网领域的微型网站有望与享有高达 1.2%转换率的大型网站竞争(这是桌面网站转换率的两倍！)，并且超过 80%的收入来自他们网站的桌面版本。

### 最快到达终点站在最高的领奖台上

因此,《财富》100 强公司的移动网站页面加载时间平均为 5 秒(T1 ),比可接受的平均标准(最多 7 秒)快了 2 秒，也就不足为奇了。

![Average page load times](../Images/6313c274fa0c4fc93c5e16bcdb57a928.png)

Average page load times



然而，对于电子商务商家来说，5 秒的页面加载时间可能足以让访问者转向更快的选择。在零售领域，一些网站的加载速度和谷歌一样快——页面加载时间低至 1 秒钟！惊人的快，也许有点像谷歌对页面速度和网站响应的关注。然而，这是前 100 名多渠道零售商中 [16 家的平均页面加载时间，这些零售商从速度惊人的移动网站中获得了回报，并因此从移动客户那里获得了数十亿美元的收入。](https://www.marketingcharts.com/industries/retail-and-e-commerce-38068)

谷歌描述了移动网站设计中的一些变化([此处](https://developers.google.com/speed/docs/insights/v5/get-started)和[此处](https://developers.google.com/web/fundamentals))，以在 1 秒内将网页呈现在移动屏幕上——即使你不是财富 100 强公司或 100 强电子商务零售商！
对于那些将移动网络开发事务掌握在自己手中的超级极客来说，非营利的万维网联盟(W3C)提供了一些最佳实践(这里是[这里是](http://www.w3.org/TR/mobile-bp/)和[这里是](http://www.wipo.int/edocs/mdocs/it/en/wipo_itu_wai_ge_10/wipo_itu_wai_ge_10_ref_a05archer.ppt))。这是一个很长的阅读，证明了如何重要和密集的移动网站优化真的是！

对于雇佣 Web 开发人员来设计高度响应和速度优化的移动网站的企业主来说(这里有 [60 个令人敬畏的 Web 开发工具](https://kinsta.com/blog/web-development-tools/)可能会对你有所帮助)，应该在移动网站剖析的以下三个要素中寻求改进:

*   **流体网格**
*   **柔性图像**
*   **媒体查询**

以及对以下移动网站元素的设计关注:

*   **刊头**
*   **图片库**
*   **产品描述**
*   **辅助信息**
*   **页脚**

客户喜欢快速响应的网站和超低的页面加载时间。随着对智能手机和平板电脑越来越依赖，移动技术和创新没有放缓的迹象。顶级在线零售商明白高效地将网站内容从网络服务器传送到移动屏幕的微小空间的必要性。通过精心设计的专用于移动平台的网站，使客户能够快速做出明智的购买决策，最终为在线业务创造永无止境的收入流。

![Mobile purchasing](../Images/5475208dd276ad71b2ff2cef03d1aa4b.png)

Mobile purchasing



60%的消费者专门使用移动设备来快速做出购买决定。移动设备和台式电脑或笔记本电脑被认为是同等重要的信息媒体来源——42%的互联网用户喜欢移动设备，而 43%的人喜欢 PC/笔记本电脑——但通过移动设备访问网络的便利性正在推动移动互联网的使用和商业机会。

如果你仍然计划忽略移动网站的性能，你可能要重新考虑机会和成功，否则主要是通过一个专用的，速度优化的移动网站。





## 第 4 章:扼杀网站性能的常见商业错误

网络市场就像古希腊的战场一样，是高风险的竞争平台，只有最勤奋的人才能生存。正如所有高风险的战斗一样，人为因素(决策失误、失误和无知)对在线商业竞争的结果有着重要影响。

然而，负责维护高性能和完全优化的网站的在线企业和网站管理员往往会忽略影响网站加载时间的关键网站设计元素。尽管特洛伊军队规模庞大，势力强大，但其后果通常与特洛伊木马一样危险，它会穿透坚固的防御工事，完全控制特洛伊城。

在线商业成功的竞争同样激烈，如果只是稍微不那么激烈的话。对客户注意力的争夺可以归结为最高效、最准确地传递所请求的内容，而不管公司的规模和过去的荣誉。就像人类的失误和无知决定了特洛伊战争的结果一样，扼杀网站性能的常见错误往往会决定在线商业竞争的结果——最快到达终点的人赢得比赛！

![The fastest website load time wins](../Images/39407428867fdb8a699414397145ac86.png)

The fastest website load time wins



恰当地命名为“死亡间隙”( Gap of Death ),由于令人惊讶地被忽视的网站优化策略和商业决策，低于 2 秒的预期页面加载时间和平均 5 秒的站点加载时间之间的间隔会扩大或缩小。与流行的观点相反，速度优化在网站开发的所有阶段都是理想的，而不仅仅是在建立整个网站之后，只有当网站所有者意识到需要推动网站性能优化时。

最终的调整和速度优化插件在开发网站后实施，确实提高了页面速度，使加载时间至少达到了死亡的差距。但是即使在这个性能范围内，在预期的 2 秒页面加载时间之后，每延迟一秒，转换率就会下降 7%。

另一方面，警惕速度优化策略的网站所有者也可以通过避免以下致命错误来提高网站性能:

### 平庸的虚拟主机服务

选择一个平庸的虚拟主机服务的错误会永远存在。截至 2020 年，超过 18 亿网站在线，网络托管空间既拥挤又破碎。大量主机选项的全球可用性正在推动企业和爱好者在网络世界中建立自己的存在。对具有成本效益的虚拟主机服务的需求呈指数级增长，主机提供商更愿意牺牲服务质量，以低成本层级积累市场份额。

通过在臃肿的 Apache 堆栈的单个实例上托管数千个网站，销售高性价比服务的平庸网站主机继续最大化盈利能力。在单个服务器堆栈上运行数千个公共网站的未经优化的服务器对电子商务网站尤其有害，这些网站的特点是无法控制的 web 流量峰值、多媒体内容和大型网站文件。

网络托管和开发公司对速度优化的共同反应是“如今人人都有宽带”，这直接导致在线业务的财务损失和品牌声誉受损。吸引人的网站性能对电子商务的成功至关重要，因为网站加载时间超过 3 秒就会立即损失 40%的流量。79%的不满意的访问者几乎从不返回速度缓慢的电子商务网站！

![Web hosting services](../Images/e9a2a21c04d14eb44267895810383563.png)

Web hosting services



也许，投入时间和金钱追求最高质量的虚拟主机服务是维持高性能网站的关键，通过有效和准确地吸引访问者的注意力来产生巨大的收入流。

### 给带宽窃贼让路

网站速度优化是一个持续发展的过程，远远超出了订阅世界上最好的虚拟主机服务。一些旨在通过改变网站设计和功能来实现收入最大化的商业决策会从分配给每个访问者的带宽中窃取可调整大小的数据块，从而对网站性能产生负面影响。

### 部件或插件太多

额外的特性和功能总是能取悦网站所有者和开发者。小部件和插件可以方便地更改现有网站，同时对网站性能造成轻微影响。即使是像 Google+按钮盒这样最小的小工具，在某些情况下，页面加载时间对网站性能的影响也会增加 2 秒。

类似脸书的盒子是另一个常见的速度变慢的原因，因为它很容易增加 40 多个 HTTP 请求(如下所示)。在一个客户的网站上，我们看到它增加了 700 KB 的总页面权重，这是不好的！

![facebook widget requests](../Images/531eeda3fdd149345afd32bd37bfb27d.png)

Facebook widget requests



将附加组件限制在最低限度对于保持最佳网站性能至关重要——即使是安装在同一网站核心的插件也会竞相对浏览器请求做出最快的响应，最终耗尽带宽。

有时候，安装的插件的质量和功能远比数量本身更重要。查询大量数据流以执行复杂操作的插件应该在服务器之外完成，而不是在网站托管环境中，如 [WordPress](https://kinsta.com/knowledgebase/what-is-wordpress/) 。

### 太多的广告和外部服务

虽然看起来很诱人，但向第三方广告商出售过多的房地产会大大降低网站的性能。过多的广告或缓慢加载的广告会提高跳出率，并对在线销售产生负面影响。高跳出率带来的财务损失超过了将大量网站空间交给广告商带来的金钱收益。

![pingdom external services](../Images/47c3c8b053c81659fddf1dd40d93d8f3.png "Pingdom external services")

Pingdom external services



外部服务通常会带来两个问题。一个是由纯粹的数量带来的，另一个与等待他们加载有关。

*   如果您有许多外部服务，您需要加载所有的服务，并在每次页面加载时等待来自它们的信息。你接到的电话越多，你等待的时间越长，你自己的服务器上的负载就越高，你遇到第二个问题的几率就越大。
*   在某些情况下，页面加载会一直等到您的站点和外部服务之间的数据传输完成。如果在标题中调用了服务，并且出现了服务中断，那么您的页面将拒绝加载。

根据一项调查研究，横幅广告的创收成本几乎是额外延迟的 33%。侵入式弹出广告进一步促使访问者以更高的比率放弃网站。
联盟代码，即使只是那几行额外的脚本，也会占用托管环境中宝贵的内存空间，并且在将内容交付给最终用户时需要额外的处理周期。

然而，在线广告是许多在线企业的主要收入来源(想想谷歌和脸书！)，而最佳的网站广告模式在增加网站收入的同时最大限度地降低延迟和页面加载延迟的成本。

### 臃肿的设计主题和不兼容的多媒体

诱人的网站设计主题和多媒体内容是吸引在线流量的主要因素。前提是内容能足够快地到达不耐烦的访问者的眼睛里。高质量的图像和视频(大像素、大文件大小)下载到请求的浏览器上需要更长的时间，而低质量、轻量级的图形尽管加载时间较短，却很难引起用户的注意。

然而，图形密集型内容并不总是推动转化和销售的决定性因素。对于电子商务网站来说尤其如此，这些网站必须包含快速加载的产品图片和描述产品价值的视频，而不一定是它们的视觉美感。

兼容性问题也会影响某些浏览器和地理位置的多媒体和应用程序性能。以谷歌 Chrome 和 Shockwave Flash 为例。这两个人很少友好相处。同样，政府的限制也可能阻止特定的多媒体内容到达本地访问者。

具有非功能性多媒体内容的网站需要过多的客户端-服务器通信周期才能到达发出请求的浏览器，最终会降低网站性能。然而，由于政府政策和浏览器兼容性可能会随着时间的推移而发生变化，而且最常见的是不可预测性，因此网站所有者需要确保跨所有浏览器平台、设备外形和地理位置的简化的可服务性。

![Streamline content](../Images/5de46341be240496061273542d798f0b.png)

Streamline content



快速加载和全功能多媒体内容对于电子商务商家保持网站访问者是必要的。页面加载时间的每一秒钟的延迟都会导致沮丧的访问者放弃速度慢的网站，并带来 7%的转化率损失、11%的页面浏览量减少和 16%的客户满意度下降。

### 更多的代码——注册表单和分析

注册表单和分析代码只需在网站核心文件中添加几行代码。但是，当太多单行代码占用网站后端的空间时，具有冗长代码的网络内容资产和插件最终会在较短的处理周期内争夺微小的内存空间。因此，非线性这一常见的物理现象开始出现，每个组件的性能都不可预测，通常会消耗比预期更多的处理周期。

从最终用户的角度来看，过多的服务往往是不必要的，或者最多被认为是次要的，与网站所描绘的实际内容相比。许多网站托管 80 多种资产(图像、插件、附加组件和其他多媒体内容)，并且所有这些内容不一定按照用户偏好被传送到请求浏览器。开发富媒体网站的额外投资最终会适得其反，因为最终用户实际需要的信息被无关的注册表单、分析代码和其他内容占据，增加了网站不必要的权重。

### 移动错误和被误导的重定向

预计到 2019 年，全球智能手机订阅量将超过 27 亿大关，届时 83%的互联网用户将通过移动设备访问互联网。2016 年，30%的电子商务网站流量来自移动端，随着智能手机用户群的爆炸式增长，这一数字将继续呈指数级增长。

![Smartphones](../Images/15a23275af3776932b08bfb81a82be33.png)

Smartphones



由于移动网站加载速度缓慢，访问者的耐心水平较低，吸引移动用户注意力的竞争更加激烈。60%的手机用户希望手机网站能在 3 秒内加载。平均来说，如果一个手机网站的加载时间超过 5 秒，就会有四分之三的人放弃这个网站，而一个普通手机的加载时间甚至会更长，达到 6-10 秒。

移动页面加载时间的过度延迟大多发生在网站没有经过专门优化和设计以在移动设备界面上提供高性能的时候。即使有专门的智能手机优化页面，移动用户也不总是被重定向到移动浏览器请求的桌面网站页面的移动版本。

重定向是将寻找一个网站 URL 的用户发送到另一个(假定)包含用户所请求的确切信息的网站的指令。对于搜索桌面版网站页面的移动用户来说，重定向是最有效的，桌面版网站页面必须很好地映射到对等的移动版本，以提供最佳的移动网站体验。

这样做是不准确的，会阻止用户在不需要的网站文件之间切换，直到他们找到正确的文件。这在加载最终用户实际寻找的信息时造成了不必要的延迟。

这就好比在一个拥挤的大停车场里找到一个空车位，到达那个明显空着的车位，却发现它被一辆从远处看不到的小汽车占用了。这一过程一直持续到最终到达一个空闲空间——也就是说，如果司机甚至继续寻找空闲空间，并且没有沮丧到完全离开停车场。

![Bad redirects](../Images/5b8fda378b1dc198def509d9a7825a81.png)

Bad redirects



当移动网络流量被简单地重定向到不相关的桌面网站版本，而不是为移动访问者提供速度优化的移动解决方案时，网站所有者最终要为失去在移动领域的竞争优势负责。

没有针对移动设备进行速度优化的网站会遇到阻碍移动用户体验的常见问题。错误的重定向、无法播放的视频、臃肿的图像和图形、不相关的交叉链接以及交付给移动访问者的不必要的资产等问题会降低网站性能，并最终提高跳出率。

只有 10%的等待时间是由浏览器请求的 HTML 响应决定的，其余 90%的延迟是由呈现页面、解析 HTML、执行代码脚本和检索嵌入的资产引起的。使用优化工具和脚本调整来彻底改变网站性能可以从页面加载时间中节省大量时间，但可能不如从头开始开发速度优化网站有效。而后者更多的是一种营销策略，一种商业决策和避免最常见错误的轻微意识，这些错误可能会通过扼杀网站性能来破坏在线业务。





## 第 5 章:网站速度测试——识别性能瓶颈！

电子商务流量和搜索引擎排名主要是衡量网站表现的虚荣指标。尽管它们很重要，但没有一个比销售数字和转换率更能表明在线业务的成功。客观地看，跳出率(几乎)为零、转换率为 15%、来自低搜索引擎排名的 10，000 个独立网站访问者的电子商务网站远好于排名高的网站，这些网站拥有 100，000 个独立访问者，转换率仅为 0.01%。

转换率优化的争论可以持续百科全书般的长度，在弗兰肯斯坦式的网站上实施业务最佳实践可能需要大量的投资，在取得任何重大转换率改善之前，耐心执行的努力会持续数月。

除了实施被动的商业策略来提高市场竞争力，说服网络世界中缺乏耐心的公民购买在线产品和服务还有很多事情要做。专注于提高网站性能的在线企业会以更高的转化率和飞涨的销售额的形式获得立竿见影的效果。

特别是页面速度，通过改善网站用户体验来保持不耐烦的在线客户的参与和满意，从而填补了提高可销售性的空白。O'Reilly 最近发布的一份研究报告得出结论，通过减少页面加载时间，网站最终用户体验的改善大大提高了销售额和转化率。[交错统计](https://www.atilus.com/website-speed-affect-business/)如下:

*   +3% 每秒转换数，页面加载时间从 **15 秒提高到 7 秒**。
*   +2% 每秒转换数，页面加载时间从 **7 秒提高到 5 秒**。
*   +1% 每秒转换数，页面加载时间从 **4 秒提高到 2 秒**。

这些统计数据仅仅描述了在竞争激烈的网络空间中，页面速度如何影响商业成功。虽然看起来很复杂，但如果速度优化策略在正确的方向上实施，从缓慢加载的网站上削减大量页面加载时间是一个相对容易实现的结果——当性能瓶颈未知、太复杂或太广泛而难以识别时，这是一个巨大的假设。

对速度优化网站的追求始于识别在标准网站性能测试过程中最明显的关键前端问题。谷歌的首席性能工程师 Steve Souders 就此事向 T1 提出建议，他说“80-90%的最终用户响应时间都花在了前端。从这里开始”。

### 考什么？

在探索页面减速带之前，了解最具影响力的网站速度性能指标的行为有助于准确识别网站中的性能漏洞。

### 初始页面速度

如果不对速度慢的网站进行彻底的改造和速度优化，在启动浏览器请求的几毫秒内下载大量占用内存的网站内容是不完全可能的。在许多情况下，访问者只寻求网页所描绘的内容或产品信息形式的主要信息。添加大量互补的图形和网站功能，页面渲染时间会大大增加。

![Initial page speed](../Images/b785d69ed16730f6e355591009a4bb8f.png)

Initial page speed



保持较高的初始页面速度可以吸引访问者，即使整个网站内容(包括大量图片)需要很长时间才能完全呈现。通过跟踪参数(如到达第一个字节的时间 (TTFB ))或执行来自网站服务器的 ping 请求来监控高初始页面速度，可以准确描述初始页面加载时间和页面速度统计数据。如果这些花费太长时间，需要在后端以服务器端和网站核心优化的形式完成工作。

### 整页加载时间

监控将整个页面内容呈现到发出请求的浏览器上所消耗的时间是最终用户网站体验测试的一个组成部分。这些信息推动了部署和优化硬件基础设施以最大限度提高网站性能的战略性 IT 决策。

定期监控这一性能指标可使网站所有者了解网站在规模和内容类型方面的表现。有了这些信息，网站管理员可以将静态内容缓存在不同的位置，如内容交付网络(CDN ),同时维护专用的后端服务器，以有效地交付动态加载的内容。

### 地理表现

经营网上业务的好处之一是不断扩大的全球市场覆盖面。但由于限制客户端-服务器通信的因素，这种覆盖在全球范围内并不总是同样有效的。政府政策、带宽和技术限制阻碍了全球范围内的最佳网站性能，因此应在不同地点进行网站速度和可用性测试，以确定影响全球业务范围的全球网站性能结果。

![Geographic website performance](../Images/da5120e940d32a69bdbee64d6e651336.png)

Geographic website performance



### 负载公差

网站性能随着网络流量的波动而变化。以峰值性能处理正常负载的主机服务器可能会在负载过大的情况下降低页面速度。在网站上进行压力测试、斜坡测试、负载测试和其他性能测试，可以准确了解网站在失去性能或完全瘫痪之前可以处理的网络流量。将结果与网站的实际使用模式进行比较，以确定网站是否需要升级硬件来尽可能高效地处理峰值负载。

### Web 服务器 CPU 负载

在单个 Apache 服务器上运行数千个网站的共享主机提供商无法提供高性能，即使网站设计良好，代码简洁且速度优化。当服务器计算能力不足，无法有效处理网站下载请求时，性能问题会在高峰负载时间加剧。监控服务器 CPU 负载使托管公司和运行本地托管网站的 IT 人员能够检查后端硬件在处理不可预测的网络流量泛滥方面的能力。

### 网站数据库性能

对于维护从后端数据库提取的动态内容的网站来说，数据库性能至关重要。应该有一种机制来检测和警告数据传输中的错误。留意本地托管网站的服务器上的可用磁盘空间有助于避免错误和数据丢失，从而导致链接断开并最终降低网站性能。

### 如何测试

网站所有者可以利用一系列[免费和高级网站性能测试服务](https://kinsta.com/blog/website-speed-test/)来分析网页，并生成量身定制的解决方案，以填补阻碍页面速度的最深层次的性能漏洞。

![Website speed test](../Images/706aa9f7bb07fd52f50bcd7f009c027a.png)

Website speed test



由搜索引擎巨头[谷歌](https://developers.google.com/speed/pagespeed/insights/)、网站监控专家 [Pingdom](https://tools.pingdom.com/) 和 [GTMetrix](https://gtmetrix.com/) 支持的页面速度测试工具免费提供对网站性能指标的宝贵见解，并以编程方式生成分数和建议，以教育非极客网站所有者。查看这些深入的指南来帮助你开始。

### 这些工具如何工作

这些工具使用一系列浏览器来加载网站，并在不同的地理位置复制最终用户的网站体验。性能瓶颈在网页的各种元素中被监视，包括文件大小、加载时间、响应时间和与各种网站部分(JavaScript、CSS 文件、HTML、图像等)相关的请求。).

这些工具基于在网页性能和用户优先级的上下文中开发的一组规则来生成性能分数。这些原则包括资源缓存、客户端-服务器往返时间、数据下载和上传大小，以及在页面速度方面影响最终用户网站体验的一系列规则。

通过实现适当的性能优化规则，在预期应该发生的页面速度改进中产生建议。例如，如果一个大的图像文件是未压缩的，监控工具会建议实施各种措施来压缩这个大文件。否则，这些问题会因人为错误或无知而被忽视，这两种情况都无法完全消除。与此同时，页面速度监控工具将至少使网站所有者能够识别问题，并采取适当措施消除隐藏的网站性能瓶颈。

### 测试教程

以下测试是使用免费的 Pingdom 网站速度测试工具进行的。访问 [Pingdom](https://tools.pingdom.com/) 并根据提供的选项选择不同的地理位置进行测试，并比较最终结果。进入您的网站，点击“立即测试”按钮。

![Pingdom](../Images/344afcc13475b40aa974be939ce60c19.png)

Pingdom



然后它会返回你的网站的摘要，包括性能等级，总加载时间，总页面大小，以及你的网站上的请求数量。

![Pingdom summary](../Images/e4a3566ad0651a6d1cbf299aac6adb64.png)

Pingdom summary



Pingdom 速度测试工具的 performance insights 部分非常有用。这些都是基于[谷歌页面速度洞察规则](https://developers.google.com/speed/docs/insights/rules)。一般来说，如果你在你的站点上改进了这些，你应该会看到你的整体加载时间有所减少。

![Pingdom performance insights](../Images/c4deb3ca87a6297a94a9b4da33a95258.png)

Pingdom performance insights



该工具以瀑布图的形式列出了所有下载的文件，按照加载顺序、加载时间、大小、类型或 URL 进行排序。

![Pingdom waterfall requests](../Images/1fb732d08daf6fe793045966e424a9dd.png)

Pingdom waterfall requests



通过对照工具中提供的关键图表读取结果，分析每个文件下载的性能:

![Pingdom charts](../Images/da52dd82790c12ab9d92af3ab3731c05.png)

Pingdom charts



该工具有助于确定网站速度优化策略的下一个最佳行动。在上面显示的示例测试中，被测试的网站需要为没有被发现的请求修复一些错误。然而，重要的是要明白，优化这些网站设计元素是一个持续发展的过程，从网站开发的基础开始，随着网站规模的扩大，在所有新页面上实施。

如果你需要更多帮助来解决你的网站在 Pingdom 上的性能问题，请查看我们的工具。

### 选哪个工具？

不同的工具——[谷歌的页面速度洞察](https://kinsta.com/blog/google-pagespeed-insights/)，Pingdom 和 [GTMetrix](https://kinsta.com/blog/gtmetrix-speed-test/) 等等——识别不同的问题，以不同的方式测试不同的性能参数和指标，来自[不同的浏览器](https://kinsta.com/browser-market-share/)和地理位置。因此，性能评级和测试结果肯定是不同的，没有单一的工具可以识别网站设计中的每一个性能瓶颈。然而，建议您在进行改进时坚持使用一种工具，以便更好地监控您的进度。

然而，跨多种工具的测试，分析不同的网站设计元素和比较多个测试结果，为在线企业主设计网站速度优化策略提供了合理的见解。

## 第六章:如何提高网站速度？

开发一个伟大的网站需要付出巨大的努力。领先的在线企业利用业内公认的经验、超自然的网络开发技能和杀手级的网络托管服务来开发拥有顶级性能数据和用户体验的网站。但是对于那些在追求速度优化网站的过程中错过这个起点的人来说，在执行简单的 DIY 页面速度优化策略时采用一种极简主义的方法(几乎)足够好地修补缓慢的网站。

投资于正确的网站速度优化解决方案和服务，网站管理，也许彻头彻尾的编码技巧的知识是最大限度地提高网站性能的关键。基于这种知识的战略性商业决策直接有助于提高网站的性能，从而带来更好的在线销售、销售线索、转化率和最终的商业成功。

![Website speed optimization](../Images/a3ba17aeda924c97d5baf218c15f09be.png)

Website speed optimization



优化是网络世界中成功的时髦词。像行星、恒星和星系的真实物理世界一样，网络空间本身也在不断变化——一种持续变化和进化的状态。事实上，变化是现实世界和网络世界中唯一一致的过程。在这些空间的生存取决于居民如何适应不同的资源和环境。

对于网站所有者来说，在变化的市场趋势、互联网访问者行为的改变、摩尔定律下网络技术的飞速发展以及搜索引擎巨头设定的不同网站性能标准中，竞争在线业务的成功也是如此。

### DIY 速度优化

在线企业主和网站管理员通过即兴创作和优化网站设计中决定页面速度的关键元素，调整他们的网站，以在持续变化的印象下保持最佳结果。

### 图像优化

一般来说，大文件比小文件下载时间长。网页下载时间，也称为页面加载时间，取决于从托管服务器下载到请求浏览器的内容资产的总大小。高质量的大体积图像是网页大小的最大贡献者，降低了网页速度，扰乱了急切等待网页加载的访问者。

据 [HTTP Archive](https://httparchive.org/reports/state-of-the-web?start=latest) 统计，截至 2017 年 12 月，**图片平均占网页总权重的 66%**。以下图片优化最佳实践大大降低了图片对网站速度的负面影响:

*   **格式选择:**当质量是高优先级并且在上传之前不需要修改图像时，使用 JPGs 或 [WEBPs](https://kinsta.com/blog/webp/) 。在图像质量急剧下降之前，jpg 可以进行有限的处理和修改。对于带有图标、徽标、插图、标志和文本的图像，请使用 PNG 格式。只对小的或简单的图像使用 gif，避免 BMP 或 TIFFs。
*   **合适的尺寸:**节省图像有效载荷的宝贵字节，并匹配您的网页模板的尺寸(宽度)。通过设置固定宽度和自动高度指令，使用浏览器调整大小功能使图像具有响应性。
*   **压缩:**图像压缩应该是图像大小和质量之间经过深思熟虑的权衡。对于 jpg，60-70%的压缩率可以产生良好的平衡。对于视网膜屏幕，将(JPGs)图像尺寸增加 150-200%，压缩 30-40%，然后根据所需尺寸再次缩小。
*   **更少的图像:**保持图像的数量绝对最小。

 ***利用图片优化插件如 [Imagify](https://wordpress.org/plugins/imagify/) 、 [ShortPixel 图片优化器](https://wordpress.org/plugins/shortpixel-image-optimiser/)、 [Optimus WordPress 图片优化器](https://wordpress.org/plugins/optimus/)、 [WP Smush](https://wordpress.org/plugins/wp-smushit/) 、 [TinyPNG](https://wordpress.org/plugins/tiny-compress-images/) 、 [EWWW 图片优化器云](https://wordpress.org/plugins/ewww-image-optimizer-cloud/)。如果你使用外部压缩和优化图片的工具就更好了，这样可以减轻你自己网站的负担。

如需更多提示，请查看我们深入的[图像优化指南](https://kinsta.com/blog/optimize-images-for-web/)。

### 优化 CSS 代码和交付

不久以前，30 KB 被认为是理想的网页大小。其中包括图像、内容、图形和构成整个页面的代码。CSS 和 JavaScript 的流行打破了 30 KB 页面大小的上限，提供了丰富的网站用户体验。

然而，用 CSS 编码的现代网站更擅长高效准确地从主机服务器下载内容到请求浏览器。因此，优化不仅仅是缩小文件大小。以下最佳实践可确保速度优化的 CSS 交付:

![Optimized CSS delivery](../Images/5e371bd12bc238d66b9cbeef4f78da1d.png)

Optimized CSS delivery



*   速记编码:通过使用更少的声明和操作符来减少代码的大小。更少的代码行意味着更少的处理周期和更高效地将网站文件传递给请求的浏览器。
*   **消除特定于浏览器的 CSS 攻击:** CSS 正处于无休止的复杂的特定于浏览器的攻击的危险之中——或者如他们所称的修正声明——给 CSS 脚本文件增加了不必要的负担。速度优化的 CSS 代码既轻便又简单，便于服务器高效处理。
*   **Minify CSS:** 几乎所有的网站速度监控工具都给出了一个共同的建议，降低 CSS 代码的权重来提高速度。轻量级和紧凑的代码有助于加快下载，解析和执行，以大幅减少页面加载时间。
*   **代码定位:**在<头>中加载 CSS 代码，在正文中加载 JavaScript，因为引用这个部分之外的 CSS 会阻止 Web 浏览器在下载 CSS 内容后立即显示它。
*   **CSS 交付最佳实践:**
    *   不要使用@import 调用。
    *   移除未使用的 CSS。
    *   不要在 HTML 中使用 CSS，比如 H1 和 DIV 标签。
    *   使用内嵌小型 CSS。

 ***诸如[自动优化](https://wordpress.org/plugins/autoptimize/)、 [WP 火箭](https://wp-rocket.me/)、[缓存使能器](https://wordpress.org/plugins/cache-enabler/)、 [CloudFlare CDN](https://support.cloudflare.com/hc/en-us/articles/200168196-How-do-I-minify-HTML-CSS-and-JavaScript-to-optimize-my-site-) 和 [W3 总缓存](https://wordpress.org/plugins/w3-total-cache/)之类的工具是一些最流行的可用于缩小 JavaScript 和 CSS 的工具。

如果你是 [Kinsta 的客户](https://kinsta.com/plans/?plan=visits-business1&interval=month)，你可以利用直接内置在 [MyKinsta 仪表板](https://kinsta.com/mykinsta/)中的[代码缩减功能](https://kinsta.com/help/kinsta-cdn-code-minification/)。这使得客户只需点击一下鼠标，就可以快速轻松地实现 CSS 和 JavaScript 的自动缩小。

### 缩小——JavaScript、CSS、HTML

事实上，速度优化不仅仅是缩小页面大小。在向网络浏览器传送网站内容的过程中，减少客户端-服务器请求的数量是网站速度优化的重要组成部分。网站管理员可以通过不做太多的 CSS，HTML 和 JavaScript 请求来实现这一点。尽管请求的数量不像以前那么重要了，这要归功于对 [HTTP/2](https://kinsta.com/learn/what-is-http2/) 的改进。也就是说，优化、缩小、压扁所有不必要的、可压缩的代码行。

缩小对于内联 JavaScript 和未缓存的外部文件尤其重要。Google 建议缩小所有大小超过 4096 字节的 JavaScript 文件，并至少减去 25 字节，以产生任何明显的页面加载时间差异。

![Compression](../Images/de57cb9c75530179b805cffdc5fac0ed.png)

Compression



一个严格的设计速度优化网站的方法将包含一个从代码中消除不必要的字节的强烈意图。利用所有可用的编码空间，删除多余的空格、缩进和行空格，同时保持代码的可读性，可以减少网站核心和前端文件的整体大小。对于已经开发的没有这种策略的网站来说，将多个服务器请求(对于 HTML、JavaScript 和 CSS)合并成一个有效地减少了页面加载时间。

然而，过度沉迷于 HTML 缩小可能会导致网站代码保真度的损失，用户代理在“猜测”解析 HTML 文件所需的丢失资源时会占用过多的内存周期和 CPU 能力。监控响应于单独实现每个缩小过程的页面加载性能变化，确保仅删除不必要的代码和空间。

缩小 CSS、JavaScript 和 HTML 有着共同的好处:减少网络延迟，减少 HTML 请求，增强压缩，加快浏览器下载和执行，最终提高页面速度，并在网站速度测量工具上获得更高的分数。

### 插件——少即是多！

用插件增加网站功能是有代价的:性能下降。不幸的是，网站管理员部署了无数的插件来添加吸引人但往往不必要的功能，如 gravatar、个人资料工具、网站统计和字体工具——有些人甚至使用 10 种不同的插件来整合社交媒体。这里唯一的好处是成功地避免了手工编码。

许多热门网站都有多达 80 个插件。然而，如果安装的插件开发得很好，可以避免复杂的操作和昂贵的服务器处理，那么这个数字并不完全是一个问题。

![Number of plugins](../Images/6ed2ebfb86f8d2b7d3f2316bffc0a093.png)

Number of plugins



选择高质量插件时，需要考虑四个主要方面:

*   它执行复杂的操作吗？
*   它是否加载了许多内容资产和脚本？
*   是否增加了每个页面请求的数据库查询次数？
*   它是否执行对外部 API 的请求？

如果所有这些问题的答案都是**是**，那么你对这个插件的反应应该是一个巨大的**不**！

现在到了大问题，多少插件是太多了？

虽然这个问题没有全面的答案，但是每个网站和插件都有自己的局限性。很多 [WordPress 专家](https://capsicummediaworks.com/how-to-speed-up-wordpress/)建议不要使用太多插件。但是许多表现良好的网站拥有超过 80 个插件，直到他们安装了一个低质量的插件，增加了半秒的页面加载时间。

类似地，使用 10 个插件来完成简单而独特的任务比部署一个插件来独自完成所有复杂的任务要好得多。例外情况包括可信开发者的高质量 [SEO 插件](https://kinsta.com/blog/best-seo-plugins-for-wordpress/)，比如 asYoast [SEO](https://wordpress.org/plugins/wordpress-seo/) 、 [All In One SEO Pack](https://wordpress.org/plugins/all-in-one-seo-pack/) (免费 [WordPress SEO](https://kinsta.com/blog/wordpress-seo/) 插件)之类的。

 ***使用以下解决方案来检查 WordPress 插件的性能:

### 限制/禁用 WordPress 版本

修订管理是 WordPress 必须提供的额外津贴之一。CMS 会自动跟踪在 CMS 上创建的内容，并将其全部用于将来的更改。对于服务器来说，这需要通过额外的数据库条目进行不必要的处理，而这些条目并不是一开始就需要的。控制存储的修订数量减轻了网站核心的无用负担。

![WordPress revisions](../Images/be92ca9284b19112f80462a565356527.png)

WordPress revisions



在 wp-config.php 文件中编写以下代码片段有助于解决这个问题:

禁用修订:

```
define( 'WP_POST_REVISIONS', false );
```

限制修订:

```
define( 'WP_POST_REVISIONS', 10 ); // limited to 10 revisions
```

查看我们关于如何[优化 WordPress 版本](https://kinsta.com/blog/wordpress-revisions/)以获得更快性能的深入指南。

### 优化数据库

WordPress CMS 将帖子、评论、页面和其他形式的文本和加密数据存储在一个数据库中——除了存储在“wp_content”文件夹中的图像和视频。随着时间的推移，这个数据库变得非常拥挤，不仅有不必要的内容和帖子修订，还有垃圾数据。

垃圾内容包括:

*   **垃圾邮件队列中的评论**
*   **未批准的评论**
*   **发布修订**
*   **帖子和页面等垃圾项目**

数据库优化围绕着从杂乱的数据库中清除垃圾数据和无用内容，缩小它们的大小，并使网站托管服务器更容易在最短的处理周期内高效地获取所请求的内容。这还包括确保您对 MySQL 数据库表使用 InnoDB，而不是 MyISAM。了解如何将 myISAM 转换成 InnoDB。

当涉及到 WordPress 和数据库的整体性能时，wp_options 表也经常被忽略。尤其是在较老的大型网站上，这可能是导致网站查询时间缓慢的罪魁祸首，因为第三方插件和主题会自动加载数据。看看我们关于如何清理你的 wp 选项表的指南。

 ****   限制、禁用和删除帖子修订。
*   Automatically purge trash by adding the following code in the wp-config.php file:

    ```
    define('EMPTY_TRASH_DAYS', 10 );
    ```

    10 是自动删除垃圾数据之前的天数。酌情更改。

### 压缩

根据谷歌的数据，每天网络世界都有 99 年的人类时间被未压缩的网络内容所浪费。尽管大多数最新的 Web 浏览器都支持内容压缩功能，但并不是每个网站都提供压缩内容。访问这些占用大量带宽的网站的人会体验到与网页的交互极其缓慢。这种不利的(而且大多是无意的)网站行为的主要原因包括错误配置的主机服务器、网络代理、旧的或有缺陷的浏览器和防病毒软件。

未压缩的内容伤害了带宽受限的用户，他们在极其漫长的页面加载时间内接收 Web 内容。下面是一个普通浏览器-服务器通信传递未压缩内容的脚本:

![HTML compression](../Images/9847546d902f58321e07f3c89f8bced1.png)

HTML compression



**浏览器:**嘿，给我弄/heavyweightconpian . html！

**服务器:**在上面！**服务器浏览服务器并找到文件**

**服务器:**给你，250 KB 的响应代码。

**浏览器:**哎哟！**最终用户汗流浃背，最终在几十秒内收到所需内容*。* (好吧，客户端-服务器通信可能比上面的叙述更正式一点，不那么戏剧化。)

大部分问题在于 HTML 世界中客户机-服务器通信的方式。HTML 文件(几乎构成了整个 Web 内容)包括几个冗余的代码实例。<tags>、<alts>、等等，都是同样的东西反复物化。</alts></tags>

**谷歌推荐以下压缩策略来有效地提供网站内容:**

*   缩小 JavaScript、HTML 和 CSS
*   使用以下技术确保 CSS 和 HTML 代码的一致性:
    *   一致的大小写–大部分是小写。
    *   HTML 标签属性的一致引用。
    *   以相同的顺序指定 HTML 属性。
    *   通过按字母顺序排列，以相同的顺序指定 CSS 键值对。
*   启用 GZIP 压缩。GZIP 找到相似的字符串和代码实例，用更短的字符临时替换它们。浏览器解压缩 gzipped 文件，将它们恢复到原始形状。

**不过有几句话需要注意:**

*   不要 GZIP(已经压缩)图像，PDF 或其他二进制数据。
*   GZIP 数据的大小仅在 150-1000 字节范围内。压缩的速度必须快于传送未压缩内容所需的时间。
*   不要为旧浏览器压缩内容。

由于压缩和解压缩的开销，不遵循上述建议实际上会增加文件大小和页面加载时间。

 ***### 隐藏物

开发者渴望网站设计代码的简单性。网站代码更容易创建、阅读和维护，从而提高网站开发过程的效率。这包括经常使用可用的代码功能来缩短特定网站功能的大量代码。

但是，添加太多多余的循环和不必要的代码行将会增加几毫秒的页面呈现时间。网站流量的洪流涌入，毫秒复合暴跌网页速度远远低于可接受的标准。

网站管理员可以通过提供所请求内容的缓存副本来减少这些响应时间，而不是在响应每一个 pings 其服务器的用户请求时重复呈现这些内容。Web 缓存是一种机制，用于临时存储 web 内容的副本，以满足满足特定条件时来自缓存数据库的后续用户请求。这一过程减少了将(静态)网站内容传递给请求浏览器所花费的客户端-服务器往返次数。

![WordPress cache](../Images/e72e40544e66988c8201894e26f150fc.png)

WordPress cache



当托管服务提供商不提供服务器端缓存时，网站所有者可以使用以下加载项和配置来启用缓存:

除了静态可缓存内容之外，网站还托管动态信息，这些信息包含针对每个最终用户定期变化的独特属性。因此，存储不可重用的动态内容的缓存副本是没有意义的，即使呈现非缓存内容是一个非常缓慢的过程。

### 片段缓存

这是缓存不可缓存的动态网站内容的较小元素的艺术。当包含静态和/或动态内容的网页被加载时，主机服务器处理 PHP 代码并查询 MySQL 数据库以获取所请求的内容。通过交付存储为缓存副本的所需输出，可以避免这些耗时耗资源的过程。

片段缓存存储一些代码块的输出，这些代码块在不同版本的动态内容中保持不变。当代码运行并到达缓存了预定时间的代码块时，服务器会查询并交付此代码的缓存输出，而不是重复执行它，直到达到时间限制。

最终结果是一个缓存优化的网站内容，最大限度地提高页面速度，即使是电子商务和会员制网站处理高度动态的内容。Kinsta 实际上提供了[四种不同类型的缓存](https://kinsta.com/blog/wordpress-cache/)，所有这些都是在软件或服务器级别自动完成的。所以没必要乱用第三方插件。

### 内容交付网络(CDN)

CDN 是缓存优化的扩展，旨在增强网站性能，专门针对全球分散的网络流量。cdn 由托管网页缓存副本的服务器网络组成。请求此信息的 Internet 访问者会根据他们的地理位置被定向到该网络中最近的服务器。

CDN 的传统优势包括性能提升、高可用性和页面排名，共同提升了业务底线。查看您应该使用 CDN 的所有理由[。Kinsta 包括一个免费的 HTTP/2 和 IPv6 支持的](https://kinsta.com/blog/wordpress-cdn/) [WordPress CDN](https://kinsta.com/blog/wordpress-cdn/) ，供 [WordPress 托管计划](https://kinsta.com/wordpress-hosting/)的所有客户使用！

![WordPress CDN](../Images/6293ae69b890834a9b5f7d91097b1112.png)

WordPress CDN



### 切换到托管！

WordPress 通过授权网络世界的公民创建他们自己的博客，并以最小的投资在线发布产品和服务，从本质上实现了网络的民主化。一般来说，网站所有者利用以下托管服务之一来保持网站正常运行:

*   爱好者的最爱。
*   共享主机:以最低成本发展在线业务的个人最爱。
*   专用或托管主机:最喜欢认真的个人和中小型公司建立一个在线存在。
*   并置主机:大型企业或政府机构最喜欢用内部 IT 团队来管理网站。

其中，使用[托管 WordPress hosting](https://kinsta.com/blog/managed-wordpress-hosting/) 进行端到端的网站开发和管理服务是维护超高性能网站的最具成本效益和生产力的选择。影响页面速度和网站性能的托管服务功能包括:

*   性能优化–压缩、代码精简、服务器端缓存等。
*   缓存优化。
*   针对性能的内容优化—图像优化、控制垃圾数据等。
*   搜索引擎优化。
*   定期软件更新。
*   插件兼容性和部署以获得最佳性能。
*   数据库优化。
*   内容交付网络。
*   性能测试和监控。
*   轻量级和速度优化的服务器。
*   服务器和网站配置和维护，以最大限度地减少客户端-服务器往返。
*   PHP 和 MariaDB 的最新版本

### WordPress 使用 PHP 7 更快

随着 [PHP 7](https://kinsta.com/blog/php-7-2/) 的发布，带来了巨大的性能提升！事实上，它太大了，应该优先于你可能在 WordPress 网站上玩的许多小优化。下面的[基准](http://talks.php.net/fluent15#/wpbench)展示了 PHP 7 相对于之前版本的显著性能提升。与 PHP 5.6 相比，PHP 7 允许系统每秒执行两倍的请求，而延迟几乎是 PHP 5.6 的一半。

![php 5.6 vs php 7](../Images/bdb28983ba92f1b5e6a808f481bd7f44.png)

PHP benchmarks by Rasmus Lerdorf, PHP Fluent Talk



我们也运行了我们自己的 PHP 基准测试。与上面的基准类似，我们看到 PHP 7.3 每秒执行的事务(请求)几乎是 PHP 5.6 的三倍。PHP 7.3 也比 PHP 7.2 平均快 9%。

![WordPress 5.0 PHP benchmarks](../Images/aa3e50c1190462560cd448720e536908.png)

WordPress 5.0 PHP benchmarks



*   WordPress 5.0 PHP 5.6 基准测试:91.64 请求/秒
*   WordPress 5.0 PHP 7.0 基准测试结果:206.71 请求/秒
*   WordPress 5.0 PHP 7.1 基准测试结果:210.98 请求/秒
*   WordPress 5.0 PHP 7.2 基准测试结果:229.18 req/sec
*   WordPress 5.0 **PHP 7.3 基准测试结果:253.20 req/sec** **🏆**

### 裁决

PHP 5.6 和 PHP 更高版本之间的性能差距是显而易见的，这就是为什么 Kinsta 总是提供最新的稳定版本。更快的 PHP 7.4 于 11 月 28 日正式发布，并且**现在对所有拥有 WordPress 托管计划**的 Kinsta 客户端开放。

## 结论:网站速度很重要。很多。

唷，你已经通过指南了！祝贺并感谢你阅读它。我们希望你至少找到了一些很好的建议，现在就可以付诸行动了！在 Kinsta，我们提供速度最快的 WordPress 托管服务，有了我们的基础设施，你可以放心，所有的服务器端优化都会得到处理。如果你愿意，[试试我们的系统](https://kinsta.com/features/)。

最后，但同样重要的是，如果你发现我们的指南很有帮助，请与你的朋友和追随者分享！*************** 

 ******** * *

通过以下方式节省时间、成本并最大限度地提高站点性能:

*   来自 WordPress 主机专家的即时帮助，24/7。
*   Cloudflare 企业集成。
*   全球受众覆盖全球 35 个数据中心。
*   利用我们内置的应用性能监控进行优化。

所有这些以及更多，都包含在一个没有长期合同、辅助迁移和 30 天退款保证的计划中。[查看我们的计划](https://kinsta.com/plans/)或[与销售人员交谈](https://kinsta.com/contact-us/)找到适合您的计划。*******