# 工具不是网络的问题| Sebastian markb ge | Medium

> 原文：<https://medium.com/@sebmarkbage/tooling-is-not-the-problem-of-the-web-cb0ae1fdbbc6?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website>

# 工具不是网络的问题

# 工具是网络的未来

免责声明:我在脸书工作，全职负责 React.js 和 Web 标准。

我关注很多网民。我在那个空间已经很久了，他们也是。他们是我尊敬和学习的人。然而，我每隔一段时间就会看到这种老掉牙的叙述重复出现:

> “网络平台已经足够好了。人们只是不够聪明/没有受过足够的教育来使用它。”

这种说法往往被那些在 21 世纪初甚至 90 年代成为网络专家的人一遍又一遍地重复。他们中的许多人现在在浏览器团队和网络标准中。这些是网络理想主义者。不幸的是，我认为这种心态正在扼杀网络。

## 侮辱的

依我看，这种对网络的看法是脱离实际和侮辱性的。它忽略了大量极有才华的工程师试图让网络为他们服务。当脸书本土化时，这些人认为这是因为缺乏天赋或努力。相信我，如果你看过当时为了让脸书在移动网络上工作而尝试和放弃的所有工作，你会确信网络还没有准备好。类似的工作继续让网络为全世界的公司和组织服务。

我在做一个流行的辩论，但我不相信所有这些有才华的人都无缘无故地尝试和失败。他们尝试是因为现状不够好。

与此同时，世界上一些最聪明、最谦逊和最成熟的思想领袖意识到网络还不够好。更重要的是，如果我们继续认为浏览器厂商有足够的知识和带宽来覆盖所有的用例，那将是远远不够的。

这是[可扩展网络宣言](https://extensiblewebmanifesto.org/)的基础。

这很有意义。一小群人如何在未来达成一个适用于世界上每一个开发者的高级 API 呢？

## 低级功能上的库

首先是库的激增，然后是 polyfills，然后是包管理器，然后是 transpilers 等等。这不是网络历史上的某个随机事件。令人痛苦的是，我们永远也不会意识到网络已经完成了。如果你梦想着一个更好的时代，你曾经需要的一切都内置在浏览器中，那么你将度过一段糟糕的时光。事实是，ES6 甚至没有在浏览器中实现，大量使用现代技术的开发人员已经在使用 ES7 的特性。

当然，现代网络的一些功能是不必要的。有些工具很臃肿或者很糟糕。然而，每天都有人在构建一个新的工具或特性来解决一个重要的新用例。

你唯一可以说网络“足够好”的时候是你在为昨天的网络做准备的时候。我们中的许多人就是这样开始的。我们通过编写 HTML 和一些简单的 JS，一遍又一遍地构建相同类型的网站。我们的社区意识到没有必要建造同样的东西。我们创造了可重复使用的软件。比如像 Wordpress 或者 Medium 这样的博客软件。

网络的未来在于创新，而不是老一套的产品。我们还没有想到的用例。Web 能够支持这一点的唯一方法是公开更多的底层功能。与受约束的高级 API 相比，低级功能可以支持更多的用例。即使你能实现它，也需要大量脆弱的黑客和专业知识来以一种它不打算被使用的方式攻击一个 API。今天，网络不是创新的平台。

## 初始载荷呢？

这让我想到了 PPK 的帖子[“工具不能解决网络的问题，它们才是问题”](http://www.quirksmode.org/blog/archives/2015/05/tools_dont_solv.html)。在这种情况下，他指的是脸书的产品“速溶商品”。他指出，我们下载了太多的东西，在启动时执行了太多的东西，这使得加载单个文章很慢。他指出，传统的老式网络非常适合这个用例。

PPK 的论点没有考虑到这个团队已经做了大量的工作来优化以前基于网络的体验。包括预取和存储 cdn 上的资源。我和那个队没有关系。我对创造这种产品的选择一无所知。从技术角度来看，我怀疑这更多的是因为苹果在 iOS 网络浏览量上的垄断，而不是其中的任何东西。

这种体验的一些关键特征是传统网络难以复制的。缺乏对甚至一个简单特性的控制会导致这样的团队从头开始重建系统。

## 隐藏物

如果 Web 的未来不是由浏览器厂商而是由客户端库构建的，我们将如何获得快速的初始下载？是服务器端的 HTML/CSS 渲染吗？不。这只能让我们访问浏览器中已经存在的功能。

然后我们需要为每次页面加载下载 JavaScript，对吗？不，你不需要为每个页面下载 DOM。浏览器会自动下载新版本的 DOM，然后缓存它。我们可以为图书馆做同样的事情。

这是一个重要的阅读:[为什么浏览器中没有捆绑 jQuery、下划线甚至 React？](http://www.reddit.com/r/webdev/comments/1ej68o/why_dont_chrome_updates_bundle_popular_googlecdn/)这将有助于加速初始加载，甚至有可能为快速启动而提前执行。理想的解决方案不是将更多的东西捆绑到浏览器自动更新包中。最好将浏览器分成更小的包，乐观地为每个用户预取公共包，并实现更好的缓存原语。服务工作者是朝着这个方向迈出的良好一步。

总有一天，你会下载一个 JavaScript 版本的 DOM 来呈现给 WebGL。DOM 只是另一个库。

仍然存在基础设施的问题，以使这项工作做得很好。然而，毫无疑问，网络的未来不是 2005 年的 DOM/HTML 文档。它是预取和缓存的用户空间库。

更多的工具，而不是更少。