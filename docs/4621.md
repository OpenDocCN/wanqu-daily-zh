# 落入成功的陷阱

> 原文：<https://blog.codinghorror.com/falling-into-the-pit-of-success/?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website>



Eric Lippert 提到了 C++编程的危险:

> 我经常认为 C++是我个人的绝望编程语言。非托管 C++很容易陷入陷阱。想想缓冲区溢出、内存泄漏、双重释放、分配器和释放器之间的不匹配、使用释放的内存、无数种方法来丢弃堆栈或堆——这些只是内存问题的一部分。C++中有更多的“陷阱”。C++经常把你扔进绝望的深渊，你不得不爬上质量的山丘。(不要与攀登疯狂的悬崖混淆。那不一样。)

那就是[c++](http://www.codinghorror.com/blog/archives/000768.html)的问题。它在保护你免受你自己最大的敌人——你自己的伤害方面做得很糟糕。当你用 C++写代码时，你总是在绝望的深渊中徘徊，只差一步就要陷入绝境。

![A deep pit](img/52f308635ed3f4d73512c7a1fa712157.png)

用一种旨在让你不陷入绝望深渊的语言不是很好吗？但是避免可怕的列车失事故障模式并不是一个特别值得称赞的目标。如果你用一种语言让你毫不费力地[掉进成功的陷阱](http://blogs.msdn.com/brada/archive/2003/10/02/50420.aspx)，那岂不是更好*？*

 *> 成功的陷阱:与登顶、攀登高峰或穿越沙漠的旅程形成鲜明对比的是，我们希望我们的客户通过使用我们的平台和框架简单地陷入成功的实践中。在某种程度上，我们让陷入麻烦变得容易，我们失败了。

Rico Mariani 在谈到语言设计时创造了这个术语。当您选择用 C#、Python 或 Ruby 而不是 C++编码时，您可能会牺牲一些性能。但你得到的回报是避免悲惨的绝望深渊的可能性大大增加——以及落入更令人向往的成功深渊的机会。

正如布拉德·艾布拉姆斯指出的，这个概念超越了语言。一个设计良好的 API 应该*也* [允许开发者落入成功的陷阱](http://blogs.msdn.com/brada/archive/2003/10/02/50420.aspx):

> [Rico]告诫我们要思考如何构建平台，引导开发人员编写出色、高性能的代码，让开发人员做“正确的事情”。这个概念真的引起了我的共鸣。这是好的 API 设计的关键点。我们应该构建 API 来引导和指引开发者正确的方向。

我认为这个概念甚至可以延伸到所有类型的应用程序:大的，小的，web，GUI，控制台应用程序，你能想到的。我经常说**一个设计良好的系统让做正确的事情变得容易，让做错误的事情变得恼人(但不是不可能)**。如果我们恰当地设计我们的应用程序，我们的用户应该会被无情地拖入成功的深渊。有些人可能比其他人需要更长的时间，但他们最终都应该到达那里。

如果用户*没有*自己找到成功——或者如果他们没有在合理的时间内找到成功——这不是他们的错。是*我们*的错。**我们没有让他们轻易落入成功的陷阱。把你的项目看作是一个大挖掘:你的工作是不断地重新构建你的语言、你的 API 或者你的应用程序，让这个成功的坑变得更深更宽。*** 