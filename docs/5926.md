# 到 www 还是不到 www——你应该在你的领域中使用 www 还是不使用 www？

> 原文:[https://bjornjohansen.no/www-or-not?utm_source=wanqu.co&UTM _ campaign = Wanqu+Daily&UTM _ medium =网站](https://bjornjohansen.no/www-or-not?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)

大约 20 年来，人们一直在争论是否应该在网站的规范主机名中使用 www。那么到底该不该用 www 呢？

## 一些历史背景

尽管人们经常互换使用“域名”和“主机名”这两个术语，但这是有区别的，而且不仅仅是语义上的区别。我将稍微简化一下这个描述，以得到一个要点:

作为一名 IT 管理员，您的网络就是您的领域。给域名起一个名字是有意义的，而 DNS 适应了这一点，所以你可以注册一个域名，例如“example.com”。现在，在这个域下，您将拥有您的主机。每台联网的机器都被视为一台主机。提供万维网文档服务的机器自然会在您的域下获得主机名“www”，从而得到完全限定的域名(FQDN)“www . example . com”。无论您是否有 web 服务器，您都会对网络中的所有其他主机进行同样的操作。这就是您保持网络中主机有序的方式。

要访问“example.com”域中的 web 服务器，您需要访问名为“www.example.com”的主机。顺便说一下:当恐龙漫游网络时，还没有虚拟主机这种东西。所有 web 服务器服务于一个网站(至少每个 IP 地址)。只要指向正确的 IP 地址，使用什么主机名真的无关紧要。

“裸域名”，即没有“www”的域名，如“example.com”，在 DNS 术语中称为“起源”。随着万维网在 20 世纪 90 年代中期变得流行，一些管理员开始将起源指向与 www 主机相同的 IP 地址。这将允许网站访问者在他们的网络浏览器中只键入“example.com”，而不是完整的主机名“www.example.com”。

### 然后是 SEO

由于来源“example.com”和主机名“www.example.com”可以指向不同的 IP 地址——并且从 1997 年 1 月开始指向同一 IP 地址上的不同网站——了解 SEO 的人开始告诉我们，我们必须选择一个规范的主机名，另一个主机名应该指向那里(带有 HTTP 301 响应代码)。

同样，选择一个也是有意义的。但是哪一个呢？对于 SEO 来说，这真的一点都不重要。只要你选择一个。但是除了 SEO 还有其他的顾虑。请继续阅读。

### 人类对 URL 的理解

世纪之交后，我在一家营销机构工作，当时我真的很担心，如果我们省略了“www”部分，人们可能不会理解这是一个万维网地址。我的意思是，我们刚刚开始忽略“http://”。此外，由于遗留问题，我个人倾向于使用完整的“正确”主机名，即“www.example.com”。

今天，我觉得这根本不是事。如果你有一个众所周知的顶级域名，不管你有没有 www，人们都会理解它是一个网址。因为无论如何，一个版本会重定向到另一个版本，所以如果您的规范主机名是“www.example.com ”,而您只是在平面广告中使用“example.com ”,这都没有关系，因为这样看起来更好。比如威斯，如果你有几千个新的顶级域名，比如。啤酒，你可能想把万维网包括进来，原因和我们很久以前在市场营销中的原因一样。

## 非 www 更漂亮更容易

我不得不承认:“example.com”打字更短，更容易读出(你怎么能一口气读出“www”呢？)而且它占用的空间更少。完全可以理解的是，人们开始去掉“www”部分，只使用 origin 作为标准主机名。

## 那么为什么 www 还是一个问题呢？

为什么我们现在还在辩论这个问题？难道人们就不能用他们喜欢的东西，而我们其他人让他们自己去用吗？

是的，当然。

但是你看，如果你是一个网站的管理员，你可能想做出明智的选择。因为与互联网上的大多数东西一样，当我们开始使用它们时，并不是所有的东西都经过深思熟虑。饼干之类的东西。

## Cookies 被传递给子域

从主机名设置的 Cookies 也将被发送到所有子域。即如果“example.com”上的网站设置了 cookie，浏览器在访问“www.example.com”时也会发送该 cookie。听起来像是一件好事，因为这是同一个网站，对不对？但是 cookie 也会被发送到“cdn.example.com”，到“email.example.com”，到“intranet.example.com”，到 thirdpartyservice.example.com 等等。许多第三方服务让你像这样使用你的域名。

来自“www.example.com”的 cookie 集将*不会*被发送到如上所述的任何“兄弟”主机。你的浏览器知道它们不是“子服务”,而是完全不同的服务，不应该访问你的 cookies。

### 不必要的 cookies 会影响性能

HTTP 和 cookies 的工作方式是，它们从浏览器发送给 web 服务器的每个请求。这意味着，如果您的网站设置了一个 cookie 作为原始地址(“example.com”)，则该 cookie 也必须发送到您的每个请求，例如“email.example.com”或“intranet.example.com”。这会降低通信速度，给你的用户带来更糟糕的体验。

### 这些 cookies 可以被第三方读取

因此，如果您的网站位于原点(“example.com”)并登录到 CMS，CMS 将向您的浏览器发送一个 cookie，以保持您至少在会话期间登录。然后，当您访问“some internal service . example.com”时，该服务的管理员可以读取该 cookie，复制它并使用它以您的身份登录“example . com”的公司 CMS。当您访问“email.example.com”时，这同样适用于您的电子邮件服务供应商；当您访问“example.com”时，这也适用于您的 CDN 供应商，该网站从“static.example.com”等网站加载资产。

如果你担心你在“example.com”上的任何东西的安全性，确保你在它前面加上一个“www”。如果这不能帮助你选择是否应该使用 www，我不知道什么能。HTTPS 和 2FA 都不会帮你，因为那块饼干是魔法令牌。然而，其他安全措施，如 IP 限制也会有所帮助。

## 如果你想的话，可以分享子域的 Cookies

现在，如果您有一个子域上的服务，如“sso.example.com”，RFC 6265 允许您为源设置一个 cookie，并使其与“example.com”或“www.example.com”共享。因此，避免使用“裸域”作为主机名，实际上会给您更多的灵活性。

## DNS 来源不能是 CNAME

谈到灵活性，我们不得不再次回到 DNS。

在 DNS 中有一个限制，即源必须是 A 类记录，这意味着它必须指向一个固定的 IP 地址。

当您的站点变得很大，您将其转移到托管服务，或者希望将其指向 Web 应用程序防火墙或 DDoS 缓解器时，您可能希望使用 CNAME 类型的记录，将主机名指向供应商根据您的流量和需求管理的另一个灵活的主机名。

现在，如果你的网站托管在原点(“example.com”)，你就不能这么做了。但是“www”主机名成为 CNAME 记录是没有问题的。因此，如果您想要任何伸缩灵活性，现在或将来，您应该从一开始就使用 www 主机名。

## 结论:跟着 www 走

你是否使用 www 很重要。我同意 origin 域名看起来更漂亮，但那只是浏览器本身地址栏的实际问题。您可以使用“www.example.com”作为您的规范主机名，但在其他任何地方，您都可以只使用裸域。无论如何，它都会将用户重定向到正确的位置。

但是有一些重要的事情表明你应该在 www:性能方面，安全方面和灵活性方面使用完整的主机名。

这将彻底结束“是否使用 www”的争论:使用 www！

* * *

你正在使用 WordPress 并且想把你现有的站点转移到 www 域吗？如果是这样的话，看看这篇文章“[将你的 WordPress 站点从非 www 域转移到 www 域](https://www.bjornjohansen.com/move-wordpress-from-non-www-to-www)”，然后按照简单的步骤来移动你的 WordPress 站点。