# 技术提示:为什么不增加一个选项呢？

> 原文：<http://neugierig.org/software/blog/2018/07/options.html?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website>

<main>

如果你曾经开发过软件，你肯定会有用户要求你添加一个选项。“与其强迫每个人都采取行为 A，”他们会想，“为什么不增加一个选项，让用户可以在行为 A 和行为 B 之间进行选择？”

这篇文章试图给出一个规范的综合答案，解释为什么这个问题的答案通常是“不”。

但是首先:值得指出的是**有时候正确的答案确实是增加一个选项**。答案不是绝对的“不”，而是“通常不，但也许它克服了这篇文章中的反对意见”。记住这一点，让我们看看期权的成本。

### 选项是糟糕的用户体验

*   一个好的工具直接解决了它的目的，甚至没有被注意到。伟大的设计需要更少的选择，因为它们就是这样工作的。用户打开软件的原因是为了达到某个目的，而不是在软件的选项中乱翻。也许你可以提出一个更好的设计来解决这个选项的用例？

*   在极端情况下，选项可能只是要求用户对设计者没有做到的事情做出决定。Joel Spolsky 有一个关于这个的[很棒的帖子，它突出了一个特别令人震惊的 Windows 对话框，要求用户为帮助系统选择数据库参数。做出这样的决定可能很难，但是如果对开发人员来说很难，对背景知识更少的用户来说就更难了。](https://www.joelonsoftware.com/2000/04/12/choices/)

*   “选择悖论”是一个违反直觉的结果，即更多的选择会降低幸福感，这给本应简单明了的事情带来了认知负担。(免责声明:暗示这种现象的实验的可重复性是有争议的。)

*   选项的呈现(通过 GUI 或命令行文档)本身就是一个 UX 问题——如何组织它们，用户如何发现它们？—选择越多，就越难。添加一个不重要的选项会掩盖真正必要选项的选项 UI。例如，`--help`输出是否适合一个屏幕？在极限中，软件开发人员放弃组织，添加一个搜索框(像 Firefox 中的 about:config 或 Chrome 中的等效搜索框)。

*   即使有一个选项已经解决了一些用户问题，许多用户也不会发现它，因为他们对软件没有足够的兴趣去浏览所有的选项来判断是否有任何选项与他们的任务相关。例如，Firefox 的“主密码”功能只有 0.0087%的用户使用，很难说这是因为该功能不受欢迎，还是因为有用户会想要这个功能，但不知道去寻找它或它叫什么。

Git 就是一个很好的例子，说明 UX 的软件选项很少。Git 是一个具有简单清晰的概念核心的工具，但它已经被围绕选项设计的不加批判的思考彻底破坏了。git 手册页生成器通过为 Git 生成可笑但看似合理的文档来模仿这一点。不过，还有很多其他的例子。

### 选项是特性，而特性是昂贵的

你可以把软件开发看作是随着时间的推移功能的积累。花时间实现我的新选项的特性意味着你没有实现更重要的其他东西的特性。看待权衡的正确方式不是“为什么不实现选项 X？”而是“为什么要实施选项 X 而不是[我可以做的更重要的事情]？”那些其他更重要的事情本身可能是功能或选项，但它们也可能是不可观察的核心工作，如使软件更有效或更少崩溃。

你可能会合理地认为期权是廉价的——也许只是一个额外的`if`声明，也许有人甚至已经写了补丁——但实际上有更多的问题。

*   选项是如何切换的？

*   如何向用户传达选项的存在？

*   它需要文档吗？

*   它需要本地化吗？(例如，如果它添加了用户可见的菜单项或帮助输出。)

*   它需要本地化的文档吗？

编写添加选项的补丁只占全部工作的一小部分，大部分工作落在维护结果的人身上。

### 实现一个特性是一次性的成本，但是保持它的工作是一个持续的成本

*   我们如何验证未来的变化不会破坏选项？

*   如果我们以这样一种方式改变程序，使得选项不再有意义，会发生什么？例如，假设选项向菜单中添加了一个条目，而程序中的变化意味着不再需要菜单的其余部分——我们是否只为一个选项保留菜单？

*   当你改变用户界面的选项时会发生什么？如果是一个复选框，那么当你移动其他复选框时，该复选框去了哪里？如果它是一个命令行标志，那么当你的程序被分割成子命令时，它在哪里呢？

*   如果在某个时候，我们认为这个选项可能不再需要，甚至没有用户真正使用它，我们如何确定删除它是否安全？

### 选项可能比功能更昂贵

事实上，就特性而言，可选行为对于维护来说甚至比永远在线行为更糟糕，因为选项产生的特性并不总是存在。

*   该选项如何与其他选项交互？如果我们有 n 个可切换的选项，我们需要在所有 2^N 可能的配置中测试软件吗？例如，如果一个选项是“隐藏工具栏上的按钮 X ”,而后面的选项是“隐藏工具栏上的按钮 Y ”,工具栏能正确处理两个相邻的丢失按钮吗？

*   这与其他哪些功能相互作用？我们是否需要在选项打开和关闭的情况下运行每个测试，或者是否存在选项可能影响事情的地方的子集？

*   将来每次我们编辑周围的代码时，选项都会增加代码推理的复杂性。

*   如果选项依赖于某个系统本地属性，我们如何确保在无法访问这样一个系统的情况下不会破坏选项？

*   当用户报告一个 bug 时，哪些选项与触发 bug 相关，他们能知道吗？

*   如果一个 bug 只是在一个不受欢迎的选项打开时才被发现，它可能不会被报告，也不会被发现。

### 如果选项这么差，为什么用户这么想要？

希望以上内容能让你相信新的选择不会轻易被引入。那么，为什么用户如此频繁地要求它们呢？以下是几个原因。

1.  用户关心他们的特定用例，并在解决它时不考虑整个系统。“当我做 X 时，只需点击三次，”他们想，“所以你应该添加一个类似`[] make it two clicks`的复选框。”

    当一个程序有一个真正的 bug，比如说它在某些情况下删除了用户的工作，用户会请求“添加一个选项使它不删除我的工作”，而不是更明显的不丢失他们的工作的解决方案。(在起草这篇文章的时候，我碰巧想到了一个完美的例子——[这个用户](https://groups.google.com/d/topic/ninja-build/FJTIQiRBK20/discussion)遇到了一个真正的 bug，并询问是否有一个标记来抑制这个 bug。)有一个[伟大的 xkcd](https://xkcd.com/1172/) 将这一点发挥到了逻辑的极致，用户要求选择让程序浪费 CPU。

2.  用户看到的是没有成本，只有收益。如果你问用户“我应该在哪里添加一个特性？”他们几乎总是会回答“是”,甚至在空白处被填满之前。

### 结论

如果你是一个用户，即使你觉得这不能令人信服，你至少可以希望用它作为一种更成功地倡导添加选项到你最喜欢的软件的方式。你可以使用这个模板:“为 *A* 添加一个选项比修复 bug *B* 更重要，因为 *C* 。因为 *D* 所以不可能为这个用例设计，因为 *E* 所以不会有太多的维护成本，因为 *F* 所以其他用户会知道去哪里找。”

如果你是一个软件开发人员，你已经知道你的责任是同时平衡所有用例与其他因素，比如机会成本和维护成本。我希望你能引用这篇文章来避免重复同样的论点。

</main>