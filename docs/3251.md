# 为什么内核开发仍然使用电子邮件[LWN.net]

> 原文：<https://lwn.net/SubscriberLink/702177/e2712c9c41c0c683/?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website>

<center>

| **LWN.net needs you!**没有订户，LWN 根本就不会存在。请考虑[注册订阅](/subscribe/)并帮助保持 LWN 出版 |

</center>

在一个充满花哨的开发工具和网站的世界里，内核项目对电子邮件和邮件列表的依赖似乎已经过时了，如果不是非常古老的话。但是，正如格雷格·克罗亚-哈特曼在一篇

[Kernel Recipes](http://kernel-recipes.org/en/2016/)

题为“刻成石碑的补丁”的演讲，内核社区的选择有一些很好的理由。电子邮件不是旧时代的遗留物，它仍然是管理像内核这样大的项目的最佳方式。

Greg 说，简而言之，内核开发人员仍然使用电子邮件，因为它比任何替代方式都要快。在过去的一年中，该项目每小时接受了来自 400 多家公司赞助的 4000 多名开发人员的大约 8 项更改。它一定在做正确的事情。每天至少接受一个补丁的维护者列表包含 75 个条目；位居榜首的是格雷格本人，他一年中接受了 9781 个补丁。考虑到他可能接受了三分之一发给他的补丁，显然补丁发布率要比这高得多。

很难找到能够管理这种补丁率的工具。格雷格说，一个拙劣的工匠会抱怨他的工具，这是出了名的，但一个优秀的工匠知道如何选择优秀的工具。

那么哪些工具可用于开发工作呢？Greg 从查看 GitHub 开始，他说 GitHub 有很多优点。它“非常非常漂亮”,由于其简单的界面，很容易用于小型项目。GitHub 提供免费托管和无限带宽，并且可以(收费)在公司自己的基础设施上运行。它让开车经过的补丁的作者的生活变得容易；格雷格用它来完成 [usbutils](https://github.com/gregkh/usbutils) 项目，并通过这种方式偶尔得到一个补丁。

另一方面，GitHub 不能扩展到更大的项目。他提到了 Kubernetes 项目，该项目有 4000 多个未决问题和 511 个未决拉动请求。他说，这个系统对大量的评论者来说效果不好。它有 [![[Greg Kroah-Hartman]](img/795598afc503e816033d71aae9d42b9f.png "Greg Kroah-Hartman")](/Articles/702283/) 一个合理的机制来讨论附加在拉式请求上的线程——GitHub 为这个功能复制了电子邮件，他说——但是只有真正被分配到拉式请求的人才能看到那个线程。GitHub 也需要在线访问，但是有很多内核开发人员，不管什么原因，在他们工作的时候都不能很好地访问网络。总的来说，它正在变得更好，但像 Kubernetes 这样的项目正在意识到他们需要找到更适合他们规模的东西；它永远不会为内核工作。

接着是 Gerrit，格雷格开始列举它的优点，但突然停下来，说他不知道有什么优点。实际上，有一个:项目经理喜欢它，因为它给他们一种感觉，他们知道项目中正在发生什么。他指出，谷歌宣传 Gerrit 用于 Android 项目，但并没有将其用于任何内部项目。即使是 Android，也不是真的需要 GerritGreg 指出，在[展示如何给 Android 打补丁的复杂流程图](https://source.android.com/source/life-of-a-patch.html)中，Gerrit 扮演了一个小而可替代的角色。

他说，Gerrit 使得补丁提交相当困难；回购在这方面有所帮助，但没有多少项目使用它。Gerrit 可以照本宣科，但很少有人这样做。一位听众插话说，使用 Gerrit 就像每次提交补丁时都要交税一样。审查接口清楚地表明，Gerrit 开发人员实际上并没有花时间审查代码；他特别指出，需要单独点击查看补丁涉及的每个文件。在 Gerrit 中很难对补丁进行本地测试，跟踪补丁系列也是不可能的。所有的讨论都是通过网络界面进行的。Greg 说，没有人会在 Gerrit 中做评论，除非这是他们工作的一部分。

纯文本邮件呢？电子邮件一直存在，每个人都可以以这样或那样的方式使用它。有大量的免费电子邮件提供商和大量的客户。电子邮件对非母语人士很有用，如果需要的话，他们可以使用自动翻译系统。从可访问性的角度来看，电子邮件也是友好的；这帮助内核获得了许多非常优秀的盲人开发者。电子邮件很快，它使本地测试变得容易，远程测试也是可能的。编写脚本来处理通过电子邮件发送的补丁很容易。并且不需要学习新的界面来使用它。

另一方面，电子邮件客户端的质量并不一致。一些系统，如 Outlook，会统一破坏补丁；因此，做内核开发的公司倾向于在某个角落放一台 Linux 机器，他们可以用它来发送补丁。Gmail 发送补丁很痛苦，但作为 IMAP 服务器它工作得很好。他指出，项目经理往往不喜欢电子邮件。他似乎认为这是一个优势，或者，在最坏的情况下，是不相关的，因为内核的工作流程实际上没有任何项目经理的参与。

电子邮件很容易与其他系统集成；例如，它与内核的 [0 天构建和引导测试系统](https://01.org/lkp/documentation/0-day-test-service)配合得很好。它还受到了 [patchwork](http://jk.ozlabs.org/projects/patchwork/) 系统的良好支持，许多内核子系统使用该系统来跟踪补丁的状态。Patchwork 将查看邮件列表，收集在那里看到的补丁，并跟踪 ack 等。它提供了一个项目经理喜欢的良好的状态列表。

总之，格雷格说，电子邮件很重要，因为它简单，支持最广泛的群体，并且可扩展。但最重要的是它发展了社区。当新的开发人员进来时，他们要做的第一件事就是了解项目是如何工作的。这包括阅读开发者正在做的评论；这就是一个人了解开发人员关心什么以及如何避免错误的方法。有了内核，这些评论就在邮件列表上，所有人都可以看到；有了像 Gerrit 这样的系统，人们必须努力找出它们。

正如 Rusty Russell 曾经说过的，如果你想变得更聪明，要做的事情就是和聪明的人在一起。基于电子邮件的工作流程让开发人员与项目中的聪明人在一起，让他们都变得更聪明。Greg 希望 Linux 持续很长时间，所以希望看到内核项目使用有助于引入新开发人员的工具。尽管电子邮件有很多缺点，但在这方面它仍然比其他任何东西都好。

[您的编辑感谢 Kernel Recipes 支持他参加此次活动。]

* * *

（

[Log in](https://lwn.net/Login/?target=/Articles/702177/)

发表评论)