# 了解技术债务| Kellan Elliott-McCrea:博客

> 原文:[http://laughing meme . org/2016/01/10/forward-an-understanding-a-understand-technical-debt/？UTM _ source = Wanqu . co&UTM _ campaign = Wanqu+Daily&UTM _ medium = website](http://laughingmeme.org/2016/01/10/towards-an-understanding-of-technical-debt/?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)

[![Somerset tire fire](../Images/fb3ed27deff492267b373c5d556fef29.png)T2】](https://www.flickr.com/photos/widnr/6588149033/in/photolist-b3aZbr-8KScPJ-8A1VTq-eLV4ng-87UNqR-gtvGQb-biWMcv-89JjaA-pYMT8u-8pBgBb-9ZzxGH-9htL2G-74TEWQ-qQ7o5K-o3hQhD-j7iDqm-aq3FjJ-qtKEKv-nPQd5Y-aBWrzT-fLj6h-aZ3kC4-ozm7Co-dhjUrp-hYjpnY-tkQQMt-gWjC5m-AnpW4-8fJDv4-n9Y6W1-okiqfH-ynNyHR-oNnp4b-pnmsY5-psfHxo-eet1GA-e5FHQe-prE1Qi-nLgKFB-ikwLte-87XRQ5-kTbN8B-qGs2Li-wUcisw-85vF1z-ibpmcC-oUPwW2-984z9n-7MdP3H-pPQrWr "Somerset tire fire")

在过去的几年里，我相当轻率地说，“技术债务是不存在的。”

我想说的是，“我对我们行业谈论这件事的方式深感不安，我认为这可能是有害的，但我不知道如何表达我的意思。此外，鉴于每个人似乎都非常关注科技债务这个概念，我有点担心问题出在我身上，而不是这个术语或这个行业。

当我第一次听到 Peter Norvig 说，“所有代码都是责任”时，我觉得这更接近正确。

另一周，我坐在车里，等着宝宝醒来，在 Slack 上就科技债务的话题开玩笑，这时我的口袋计算设备坏了，我被迫在纸上完成我的想法。这些是那些笔记。

技术债是存在的。但是比较少见。当你开始与某人争论技术债务时，你通常会遇到这样的定义:技术债务是我们在代码中故意做出的选择，以加速今天的开发，知道我们以后必须改变它们。硬编码一个变量，因为目前没有改变它的计划，这是技术债务的一个常见例子。类似地，没有模块化的功能。

这是一个相当清晰、简洁且易于推理的定义，描述了一种相对罕见的现象。相对于什么来说比较少见？与我们工作的代码库的技术债务相比。那么，当我们与人谈论代码时，我们如何解释我们遇到的压倒性的技术债务呢？

这个词正在被滥用，或者至少是危险地超载了。

### “科技债务”:一个超载的术语

至少有*5 种不同的东西我们称之为“技术债务”。*

1.  维修工作
2.  抵制变化的代码库的特性
3.  抵制变化的可操作性选择
4.  吸取求生意志的代码选择
5.  抵制升级的依赖关系

### 1.维修工作

作为技术人员，我们经常有意或无意地使用术语“技术债务”来描述其他团队(技术团队或其他团队)对代码库所需的必要的持续维护工作。在这种情况下，对这个术语的广泛认可和接受是购买喘息空间的有用简写。但这是有代价的。我们最终把一些正常的事情变得病态，经常把早期的团队说成是装模作样的。这一特征很容易再次困扰我们。

### 2.抵制变化的代码库的特性

当我们编程的时候，我们写下了一个非常明确和精确的解决方案的描述，它是我们目前对我们试图解决的问题的最佳理解。随着时间的推移，我们试图解决的问题和我们对它的理解将不可避免地发生变化，通常是戏剧性的变化。当这种情况发生时，我们非常明确和准确的描述现在有一部分是错误的，这是一种责任。从逻辑上来说，假以时日，每一行代码都是错误的，是需要处理的责任。

因此，“技术债务”的第二个常见含义是我们在工作中遇到的抵制变更的代码库特征。可能导致代码库抵制变更的特征包括:糟糕的模块化、糟糕的文档或糟糕的测试覆盖率。尽管大量的模块化(和复杂性)或大量的文档，以及对现在不正确的旧行为进行编码的测试可以很容易地对变化施加强大的向下压力。

很少讨论和理解的代码设计目标是可处置性。给定变化，我们可以遵循什么样的设计模式来快速地从我们的代码库中删除不正确的行为？有趣的是，这是一个更容易衡量的标准，而不是像“优雅”这样更流行的标准。(改天的帖子)

根据我的经验，这些抵制变化的特性是“技术债务”最常见的含义之一。然而，我们经常缺乏自我意识，因为我们不倾向于根据代码库的生命周期来考虑我们的工作。

维护工作的一个例子可能是处理随着时间积累的数据。不可避免的变化的一个例子可能是，在某个时间点，随着时间的推移积累的数据不再适合单个物理设备。阻力将来自添加更复杂的存储解决方案有多简单。

### 3.抵制变化的可操作性选择

与我们做出的抵制变更的代码选择相关:我们在系统设计中做出的对变更施加向下压力的可操作性选择是什么？

如果每次你做了一个改变，网站就关闭了，你就停止了改变。如果您没有度量标准，您就不能自信地部署变更。类似地，如果你的测试是不可靠的，如果发布需要广泛的协调，如果你没有阶段环境，如果你不能运行产品和操作实验，如果人们不能访问他们需要做决定的信息，如果激励是不一致的，等等。

试图在持续危机的条件下或面对惰性的情况下改善环境通常会导致精力耗尽的状态，程序员将这种状态归因于在具有大量技术债务的系统上工作。这些都是可操作性的缺陷。

### 4.吸取求生意志的代码选择

运营惰性和/或危机并不是唯一会导致我们感到疲惫和精疲力竭的现象。被称为技术债务的很大一部分是那些并不阻碍改变，而是阻碍我们甚至不想看代码的决定。这些方面的代码，吸走了我们的生活意愿。

我们经常把这种糟糕的代码描述为混乱的(意大利面条)，不可维护的，或者业余的。通常我们在表面下描述的是恐惧和困惑。我们不理解代码，当我们不理解事情时，作为人类，我们往往会感到害怕，疲惫和愤怒。我们经常在继承了代码库的团队中发现这种模式。最初由一个对问题有清晰认识的小型紧密团队编写的代码，现在正由(通常更高级的)独立团队在某种程度上的竖井中工作。对代码的间接性的有效缺乏变成了抵抗变化的抽象的缺乏。

因此出现了矛盾:为什么一个优秀的高级工程师团队在一个早期程序员的周末组装工作后需要 6 个月来清理？

这是没有意义的，除非你考虑并解决在某些类型的代码上工作的情绪影响。(要清楚的是，不同类型的代码对不同类型的人有这种影响，这是考虑拥有多样化团队的另一个原因)

另一次我看到团队在这种恐惧-疲惫-愤怒的体验中挣扎，是当他们被要求从事与他们的身份政治背道而驰的技术工作时。我很难用移情的观点来描述这种现象，所以我会推迟，但最近这篇关于[蔑视文化](http://blog.aurynn.com/86/contempt-culture)的帖子是一个很好的起点。

### 5.抵制升级的依赖关系

最后，我们使用技术债务来描述将代码库绑定到技术上的技术决策，由于时间的推移，这种技术已经成为一种负债:它已经停止接收更新，专业知识很难找到，升级路径变得错综复杂。通常，与旧技术相关的单一依赖会在您的基础架构中蔓延，阻碍重要的升级。

陈旧的依赖关系通常是我们无法对代码库的持续投资和维护进行优先排序的征兆(参见#1 ),也是被称为技术债务最合理的事情。即使在这种既明显又令人虚弱的情况下，将技术债务定性为失败，无论是道德上的还是其他方面的，仍然是错误的。我们*可能*处于这种情况是由于计划、远见或专业知识的失败。或者也许有人做了一个非常正确的选择，专注于交付商业价值，知道只有在你真的要生存下去的情况下，为未来而建设才是值得担心的。

在这一领域，专注于少数众所周知的技术，并对您的新技术采用过程保持勤奋，可以真正获得回报。

### 为什么它很重要

解决任何问题的第一步是理解它。当我们把这五种不同的现象混为一谈时，我们会对可能的解决方案感到困惑。当我们更进一步，把这些融合变成对前人的智力、专业精神和卫生的判断时，我们就习惯了这些人所学到的东西。很快，我们发现自己处于这样一种情况:我们正在进行重大的工程项目，却没有正确地诊断出是什么导致了我们试图解决的问题(使得重述那些问题成为可能),并且丢弃了迭代获得的知识，这些知识使我们的组织得以生存至今。

两种最常见的解决方案通常都会使问题变得更糟:

1.  宣布破产，从头开始重写。
2.  用间接/代理/包装层掩盖问题

相反，如果你正在解决一个你理解并正确诊断的问题，你可以制定一个合理的策略来迭代和衡量你的改进方法。(如果你在做改变的时候不测量，你就不是在做工程，但那是另外一天的文章)

最后，如果您的团队认为他们正在“修复”或“偿还”技术债务，您应该特别担心。所有代码都是技术债。在不同程度上，所有代码都是对未来的不正确押注。你可以解决损害生产力、可操作性和士气的问题，但“解决技术债务”的唯一方法是“rm -rf”。