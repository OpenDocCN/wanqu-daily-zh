# 你只加了两行——为什么要花两天时间！~马特·莱西

> 原文:[https://www . mrlacey . com/2020/07/youve-only-added-two-lines-why-did-that . html？UTM _ source = Wanqu . co&UTM _ campaign = Wanqu+Daily&UTM _ medium = website](https://www.mrlacey.com/2020/07/youve-only-added-two-lines-why-did-that.html?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)

这似乎是一个合理的问题，但它做出了一些可怕的假设:

*   代码行数=工作量
*   代码行数=值
*   所有代码行都是平等的

这些都不是真的。

为什么一个看起来如此简单的修复需要两天才能完成？

*   因为该问题的报告对如何重新创建该问题的描述含糊不清。我花了几个小时才得到这件物品的可靠复制品。一些开发人员会立即回去找报告问题的人，并在调查之前要求更多的信息。我尽量利用提供的信息做更多的事情。我知道有些开发人员不喜欢修复 bug，所以他们会尽一切努力来摆脱它。声称没有足够的钱是一种很好的方式，让你看起来像是在尽力帮忙，但却什么都不用做。我知道报告错误可能很难，我感谢所有这样做的人。在询问更多细节之前，我想通过尽可能多地使用所提供的信息来表达对错误报告的感谢。
*   **因为报告的问题与功能有关，所以我不熟悉。**这个功能我很少使用，也没有详细使用过。这意味着我花了比预期更长的时间来理解如何使用它，以及它如何与有 bug 的软件交互的细微差别。
*   **因为我花时间调查问题的真正原因，而不仅仅是看症状**。如果一些代码抛出了一个错误，你可以在一次尝试中包装它..catch 语句并取消错误。没有错误，没有问题。对吗？抱歉，对我来说，让问题不可见并不等同于修复它。“吞下”一个错误很容易导致其他意想不到的副作用。我不想在将来的某个时候不得不与他们打交道。
*   **因为我调查了是否有其他方法可以解决同样的问题，而不仅仅是报告的重现步骤**。一组再现步骤可以很容易地使错误看起来在一个地方，而实际上它可能更深层次。找到问题的确切原因，并查看所有到达那里的方法可以提供有价值的见解。洞察，例如代码实际上是如何使用的，哪里可能有其他可能的地方(其他？)可能需要解决的问题，或者它可能显示代码中的不一致，这意味着在一个代码路径中导致(或处理)了一个错误，而在另一个代码路径中没有。
*   **因为我花了时间来验证代码的其他部分是否会受到类似的影响**。如果是一个错误导致了这个 bug，那么同样的错误也可能出现在代码库的其他地方。现在是检查的好时机。
*   因为当我发现问题的原因时，我试图找到最简单的方法来解决它，将引入副作用的风险降至最低。我不想要最快的解决方法。我想要一个不会在将来引起混乱或其他问题的解决方案。
*   **因为我彻底测试了这个变化，并验证了它解决了所有受影响的不同代码路径的问题**。我不想依赖别人来检验我所做的是正确的。我不希望将来发现一个 bug，当我在思想上继续前进时，我不得不回到这个代码。上下文切换既昂贵又令人沮丧。我希望尽可能避免让一个专门的测试人员再次查看“相同的”变更。

我不喜欢不得不修复错误。部分原因是他们会觉得这是我之前失败的结果。我不喜欢修复 bug 的另一个原因是我更喜欢从事新事物。

还有什么比不得不修复一个 bug 更糟糕的？
不得不反复修复同一个 bug。
我会花时间确保任何时候遇到的 bug 都被完全修复，这样就不需要面对、调查、修复和测试超过一次。