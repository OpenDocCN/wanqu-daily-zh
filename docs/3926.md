# 给事物命名真的那么难吗？- jpswade

> 原文:[http://wade.be/development/2017/03/03/naming-things.html?UTM _ source = Wanqu . co&UTM _ campaign = Wanqu+Daily&UTM _ medium = website](http://wade.be/development/2017/03/03/naming-things.html?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)



> 计算机科学只有两个硬东西:缓存失效和事物命名。
> 
> 菲尔·卡尔顿

命名是我以前在博客上的一篇文章中提到过的一个话题。我之前的帖子是关于[创造一个独特的公司名称](/create-a-unique-company-name/)，它非常受欢迎。这可能是我博客上评论最多的帖子，至少在我被更好的文章和应用程序在搜索引擎上排名靠前之前是这样。

命名一家公司、一个团队、一个项目等等，其实就是选择一个昵称或代号。这类似于给一只宠物命名，甚至在某些情况下给你的亲属命名(见[苹果丽莎](https://en.wikipedia.org/wiki/Apple_Lisa))。

也许我最喜欢的命名故事是描述我们称之为火鸡的那个故事。然而，这种命名不同于我在这里要讨论的命名，这是一个更紧迫的主题:

> "功能命名"

我说的函数命名是什么意思？这可能意味着很多事情，例如:

*   命名函数或子程序
*   命名类或对象
*   给代码库一个命名空间
*   给代码库一个功能名，而不是代码名

但是命名很难。有关系吗？

> "程序是要被人类阅读的，只是偶尔让计算机执行."
> 
> 唐纳德·克努特

这很重要，因为尽管命名很难，但它是交流的重要部分。如果你做对了，沟通会变得更加容易。我一直热衷于保持事物的简单性( [KISS](https://en.wikipedia.org/wiki/KISS_principle) )，因此在命名时，我更喜欢使用与将要使用该功能的人相同的语言。

![ubiquitous language](../Images/95401b714277ac3322b391e51dbde780.png)

后来，我了解到，在[领域驱动设计](https://en.wikipedia.org/wiki/Domain-driven_design)，这被称为[无处不在的语言](https://www.martinfowler.com/bliki/UbiquitousLanguage.html)。讽刺的是，我可能不会用这个词来描述它，但我不是语言专家，语言不是我的领域。

无处不在的语言只是一种花哨的说法，即软件人员和业务人员使用的语言是相同的。结果是您不需要行话终结者，因为在业务和您的实现之间没有翻译要做。这是假设您的企业首先正确命名事物。众所周知，命名很难。

> 领域专家应该反对那些难以表达或不足以表达领域理解的术语或结构；开发人员应该注意会使设计出错的模糊性或不一致性。
> 
> 埃里克·埃文斯

在软件中，功能被描述为输入、行为和输出。因此，很容易看出函数在做什么，它们是动作，所以你可以用动词来命名它们。这很好，直到你需要描述他们交互的事物或实体。它们是物体。

一个物体是不同的。一个对象不是一个动作，它是一个东西，通常是一个实体。如果它存在于应用程序之外，您可能会认为它是一个可以用一个词来标识的物理实体。那个词是名词。

一个物体应该客观地命名。不应该受个人感情或观点的影响。它应该只代表事实。那是假设所有名词都是宾语，事实并非如此。

例如，事务是一个名词，但是用它来描述一个实体可能不是很有用。当然，并不是所有的对象都是实体，你可以有[“值对象”](https://martinfowler.com/bliki/EvansClassification.html)，对我来说，这只是一种将实体属性捆绑在一起的方式。

例如，姓名、地址或交易。这些是实体的属性。一个实体会有一个[“有界上下文”](https://martinfowler.com/bliki/BoundedContext.html)。那么，你如何确定某样东西是实体还是属性呢？

如果你认为命名是困难的，我们现在进入分类学，一个甚至科学都在努力的课题。当我与领域专家(涉众)交谈并问他们这是什么的时候，决定某个东西是否是一个实体的关键决定因素是，他们要么告诉我一个系统过程，要么告诉我一个实体。如果是系统进程，很可能已经是实体了。不然他们一般会告诉你一个专有名词。这是你的实体。

有时甚至商业人士也会弄错，因为命名很难。命名很难，因为，特别是在已经存在一段时间的企业中，因为有人告诉他们一个对象是什么，并且通常会坚持下来。直到你开始融入来自其他企业的新人，这些人每次都必须接受这种行话的教育。

作为一项规则，最好坚持使用一个对任何人、任何地方都有意义的名字。这就是为什么电脑上的大多数东西都是以 20 世纪 70 年代办公室里的物品命名的。这就是为什么我们有文件和文件夹，当然，还有一个桌面。这叫做[桌面隐喻](https://en.wikipedia.org/wiki/Desktop_metaphor)。

这在一开始对大多数人都有效，因为他们的目标是办公室里的商务人士。然后它继续工作，因为使用电脑的人要么熟悉他们正在使用的东西，要么在已经存在类似东西的办公室类型的环境中。即便如此，这个隐喻也不是一门精确的科学。在你从桌子上掉到一个“文件柜”里之前，你只能走到这一步，最终到达一个属于汽车的“仪表板”。

> 发明桌面隐喻是因为，第一，你是一个独立的设备，第二，你必须管理自己的存储。这在桌面世界里是一件非常大的事情。这种情况可能会消失。您可能不必管理自己的存储。你可能不会储存太多。史蒂夫·乔布斯

那么，如果我们不能依赖桌面隐喻，规则是什么？命名很难。在命名中最困难的事情之一是命名一些企业已经命名错误的东西，这些东西通常不会出现在 20 世纪 70 年代办公室的桌子上。

> 你遇到过多少名为 SomethingManager 的类？任何适当规模的商业系统似乎都有很多——session manager、ConnectionManager、PolicyManager、QueueManager、UrlManager、ConfigurationManager，甚至，可悲的是，EJBManager。快速浏览一下字典中关于“经理”和“管理”的词条，至少给出了十种不同的意思——从“使和保持顺从”到“达到某人的目的”。我记得有一天，接待员短暂地改称自己为总机经理。所有这些定义的共同语义似乎是一个模糊的“照看东西”。
> 
> 这种不精确使得 Manager 在命名类时不是一个好词。例如，以一个名为 UrlManager 的类为例——你无法判断它是汇集 URL、操纵 URL 还是审计它们的使用。这个名字告诉你的就是这个类处理 URL。另一方面，UrlBuilder 这个名字更清晰地描述了这个类的功能。
> 
> 在 Java 世界中，Manager 后缀经常被使用。几乎在任何地方，只要有一个以任何方式对其他对象负责的类，它就会自动获得 Manager 标签。
> 
> 艾伦·格林

在科技发展的早期，计算机的存在并不是像今天一样作为一种营销或销售工具，而是作为一种会计工具。为内部系统构建软件时，命名变得更加困难。这就是“[系统隐喻](http://xp123.com/articles/the-system-metaphor/)出现的地方。

系统隐喻是一种描述企业在其运营中使用的一组流程的方式。

> “系统隐喻是一个每个人——客户、程序员和经理——都可以讲述系统如何工作的故事。”
> 
> –Kent Beck，极限编程讲解，第 179 页。

这是一个与“无处不在的语言”重叠的话题，基本上一个项目的每一层，从最终用户通过视图到后端和数据库，都应该对相同的事物使用相同的名称。

> 克莱斯勒是一家制造公司；我们制造汽车。使用制造隐喻来定义项目是让团队(和管理层)处于公平竞争环境的重要的第一步。生产线、零件、箱子、工作和工位的概念是整个公司都理解的隐喻。
> 
> 罗恩·杰弗里斯

在制造范例中，你使用一个控制面板来控制系统，所以这就是人们最终调用的带有按钮的界面来执行操作。在办公室里，那是一个桌面。在车间，那是一个[工作台](https://en.wikipedia.org/wiki/Workbench_(AmigaOS))。在汽车里，那是一个[仪表盘](https://en.wikibooks.org/wiki/Software_Engineering_with_an_Agile_Development_Framework/Iteration_One/System_metaphor#example:_dashboard)。在房子里，那是窗户。会计师或律师会使用管理人员。在销售业务系统中，你有前台员工(销售和面向客户)和后台员工(行政)，这意味着你得到一个后台系统。

不幸的是，由于软件使用相同的范例，这可能导致混乱，因为它也涉及表示层(前端)和数据访问层(后端)之间的关注点的分离。因此，如果使用一个[成熟的系统隐喻](http://wiki.c2.com/?ProvenSystemMetaphors)导致混乱，你需要考虑一个不同的范例，比如每个人都已经在使用的设备。例如，当你使用电视或收音机等设备时，那就是遥控器或控制面板。

这是因为这些都是制造的，所以设备通常会遵循制造业的隐喻。例如，这就是为什么在 Windows 中微软称控制音量的东西为“音量控制”。这就是为什么当你在建立一个允许你改变业务运作的内部系统时，明智的做法可能是考虑业务系统，并找到一个贯穿始终的主题，描述其目的的词。

所以是的，给事物命名是困难的，这是一个要解决的难题，这是一个要玩的游戏。像任何游戏一样，它很有趣，你需要知道游戏规则。

