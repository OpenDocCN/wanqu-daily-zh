# 简单地看了两遍，我显然不知道作为一名开发人员我在做什么

> 原文：<https://medium.freecodecamp.org/the-times-ive-messed-up-as-a-developer-3c0bcaa1afd6?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website>



作者扎卡里·库恩

# 那两次，作为一名开发人员，我显然不知道自己在做什么

![qahGeeAdv3daD6In8JfqXIHnkJOLjA4RyNd7](img/1b5125575519de3b22140611999a6ea4.png)

上周，我和同事进行了一次简短的交谈，讨论了我们在职业生涯中是如何搞砸的。远离那些错误，很容易笑出来。然而，不仅仅是笑，这些失败给我们上了有力的一课。

重要的是，我们要分享我们的错误，这样其他人才能从中吸取教训，也许会对自己的错误感到更舒服。这是我最近的一些作品。

### 为什么这么多生产数据库被删除？

![6Scwn1EYrNsLjS9YXCF0ZaiO600eVCqUp-8F](img/ec0b8b2eacefbeb7fcd04adf2a180a4c.png)

Source: [pexels.com](https://www.pexels.com/photo/interior-of-office-building-325229/)



几个月前，Reddit 上有一篇帖子，一个初级开发人员在第一天就删除了生产数据库。我们都害怕阅读这样的故事，这些故事讲述了那些犯下令人难忘的大错误的人。我们意识到，对我们来说，这并不需要太多——大多数人都有过千钧一发的时刻。

在我的第一份工作中，一名高级数据库管理员在第一天就放弃了生产数据库。这些故事无处不在。团队从一周前的备份中恢复了他的错误，并让他留在身边。十年后，他们仍然为此取笑他。

今年早些时候的一个早上，我被叫去为一个客户调查一个生产问题。当一夜之间他们的网站主页上什么都没有的时候，他们开始在一小群观众中测试他们的网站。我想知道是否有一个错误或漏洞导致了这一点。

我登录了生产机器，调出了数据库。文章表是空的。好的，这证实了我们在网站上看到的。

用户表仍然有用户。奇怪。因此，我们失去了所有的文章，但至少他们的测试用户仍然有他们的帐户。我们可以解释说，这是一个测试版，这些事情发生了。

接下来的几分钟一片模糊。我不记得我到底做了什么。我不认为*T2 我会笨到在控制台中输入`drop table users`。但是我在那里，现在没有文章和用户表。我坐在那里震惊了一会儿。*

然后，我的脑海中出现了如何解决这个问题。我真的删除了用户表吗？是的。我们备份了吗？不。我们怎么告诉客户？我不知道。

我记得我走向项目经理，坐在她旁边，向她解释了事情的经过。我们的文章表中没有数据，所以这就是为什么网站看起来是空的。哦，对了，我还删除了用户表。他们现在需要重新邀请所有这些用户——如果他们能搞清楚他们都是谁的话。呀。

我回到办公桌前，感觉被打败了。

尽管如此，我还是觉得有些不对劲。我们最初是如何丢失所有这些文章的？

我继续调查。部分否认，部分想挽回面子。不久之后，我注意到一些重要的事情。

服务器上还有其他五个数据库。其中一个的名字和我刚才看的数据库相似。

当我检查的时候，所有的文章都在那里。用户表很好。结果是一个配置更改无意中进入了生产环境，导致站点指向一个全新的数据库。我看到的那些用户？种子数据。

真是松了一口气！一上午的紧张和胃酸让我感到恶心，但我们能够“恢复”所有的数据，在我们传达坏消息之前，我已经找到了真正的问题。

从这件事中吸取了很多教训。最简单的一个:现在我们总是做备份…也许是开发人员最有效的抗酸剂。

### 匆匆忙忙，永无出头之日

![f8o2lgSjOXUuocF8dbdEjcdLZHKDE4qFfDtF](img/f73bfd2b40081ff3420b892a7673d82a.png)

Source: [pexels.com](https://www.pexels.com/photo/time-lapse-cars-on-fast-motion-134643/)



我最近犯的另一个突出的错误没有这么戏剧化。事实上，正是一个又一个小错误导致了最后的混乱。

我们的挑战是一个时间紧迫的项目。(不过不都是吗？)

在我们的第一次会议上，我们作为一个团队同意这将需要两倍的时间。随着最后期限从一开始就压在我们身上，我轻松地完成了认证部分，这样我们就可以转移到客户真正关心的功能上。

我以前只在单页面应用中实现过一次身份验证，仍然不完全理解它应该如何组合在一起。

以最快的速度破解是一个多么大的错误。**我错过了几件重要的事情:**

1.  用户在登录后从 cookie 加载，但页面试图在没有等待的情况下加载。根据这些事件的顺序，您会得到服务器的响应，说您未经授权。这个错误很少出现，也很难重现，因为大多数时候，事情都是按照正确的顺序完成的。
2.  身份验证也从不检查令牌是否过期。如果你不经常访问这个网站，当你再次访问的时候，这个网站就不能运行了，你必须退出然后重新登录。
3.  令牌应该随着每个请求而更新，但是我从来没有时间去理解它周围的规则。所以这又一次产生了时间问题。如果我们同时发送几个请求，根据它们返回的顺序，你会得到在将来的请求中使用的错误令牌。

我们很匆忙，但最终还是花了两倍于给定时间的时间。不同之处在于有更多的 bug，然后花更多的时间去追踪和修复这些 bug。

我的工作让我很尴尬。然后在公共场合为此感到羞愧，让整个经历变得更糟。

我就说一件事:从那以后，我花时间学习认证。我现在明白了 OAuth，JWT，刷新令牌和过期。我仔细研究了其他人在许多库中编写的验证码。我用几种不同的语言和框架构建了身份验证流程。

### 将失败转化为未来的成功

这是我从所有变坏的事情中吸取的一个教训。如果你愿意，几乎总是会有好的结果。

如果有人从他们的错误中吸取教训，他们现在会比以前更好。我尽量不去责备第一次犯错的队友。他们通常已经知道自己搞砸了。

不过，我正在努力对那些一遍又一遍重复同样错误的人不那么严厉。他们仍然值得同情。

如果你能在犯错的情况下做四件事，你就会不断成长:

1.  嘲笑自己做了一个
2.  从中吸取教训
3.  使他们脱颖而出
4.  分享你的错误，这样其他人也能从中受益

我将留给你最后一个关于错误价值的轶事。20 世纪初，IBM 的首席执行官托马斯·J·沃森曾经遇到过一个员工，他的一系列错误决策让公司损失惨重。当被问及沃森是否会解雇这名员工时，沃森回答道:

> “不，我只是花了 60 万美元训练它。我为什么要有人雇佣他的经验呢？”

你的过去有一个有趣的错误吗？分享一下！

感谢您阅读文章！如果你觉得它有帮助，并想表示你的支持，那么请分享它，并确保点击？按钮。要获得更多类似的文章，请在 Twitter 上关注他的出版物和作者。

扎克·库恩 *是位于北卡罗来纳州达勒姆的数字机构 Smashing Boxes 的开发总监。十多年来，他一直致力于开发 web 和移动应用程序，并参与了区块链、物联网和机器学习等初创公司和新兴技术。*

