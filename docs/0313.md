# 分布式不一定比集中式更具可扩展性

> 原文:[https://muratbuffalo . blogspot . com/2014/07/distributed-is-not-essentially-more . html？UTM _ source = Wanqu . co&UTM _ campaign = Wanqu+Daily&UTM _ medium = website](https://muratbuffalo.blogspot.com/2014/07/distributed-is-not-necessarily-more.html?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)

## 集中式不一定不可扩展！

许多人会自动将集中式与不可扩展联系在一起，将分布式与可扩展联系在一起。这越来越荒谬了。

在春季学期，在我的研讨课上，一名博士生向我推销了一个分布式存储项目:从手机同步到工作/家用电脑和其他手机。广告以“Dropbox 不可扩展，因为它是集中式的”这句话开始。我大吃一惊，问了几次“真的吗？你真的声称 Dropbox 不可扩展吗？”。这位学生坚持并不断重复“Dropbox 有瓶颈，因为它是集中式存储解决方案，而分布式解决方案没有那个瓶颈”。我简直不敢相信自己的耳朵。

Dropbox 已经证明了它的可扩展性:它为超过 2 亿用户提供文件服务，这些用户每 24 小时存储 10 亿个文件。它有一个托管在云中的集中式架构，但这并不意味着它是不可扩展的。据我所知，Dropbox 没有因为更集中的架构而导致瓶颈。

(对于那些想吹毛求疵的人来说，我知道 Dropbox 并没有完全集中化；它使用 AWS S3 进行存储，使用 Dropbox-company 服务器进行元数据管理。此外，它在后端采用数据并行来实现可伸缩性，但是，从频谱上看，它更接近于集中式架构，而不是完全分散式架构。)

## 分布式不一定是可扩展的！

> 有些人在面临问题时会想，我知道了，我会使用分布式计算。现在他们有了 N^2 问题。- @jamesiry

下面是第二部分。分发系统并不一定使它具有可伸缩性。事实上，完全分散的体系结构有时对扩展是不利的。

想想 Lamport 的互斥(ME)算法

["Time, Clocks, and the Ordering of Events in a Distributed System"](http://web.stanford.edu/class/cs240/readings/lamport.pdf)

。这种 ME 算法是完全分散的，并且需要交换 O(N)条消息来响应一个 ME 请求。Lamport ME 算法使用广播来保持所有节点被告知所有更新，并使它们处于相同(或多或少)的状态。

现在给我考虑一个集中式的算法:有一个集中式的协调器；节点向协调器发送它们的请求，协调器相应地分配我。(对于字面主义者:在集中式算法中你仍然可以有因果排序。只需在节点通信时使用 VC，并在请求消息中包含 VC。)集中式 ME 算法更具可扩展性:响应于一个 ME 请求，仅交换一条消息。它更少戏剧性，更容易维护和重建。

## 单点故障？

> 在分布式系统中，一台您甚至不知道存在的计算机的故障会导致您自己的计算机无法使用。莱斯利·兰波特

关于集中式解决方案的一个常见的反射性论点是，它构成了单点故障(SPOF)。但是如果一个分布式解决方案没有仔细设计，它将会有多个故障点(MPOF)。你想要哪一个？

让我们重新考虑 Lamport ME 和集中式 ME 算法。分布式算法没有提供任何容错优势。这两种算法都容易被一个崩溃故障卡住。

事实上，我们可以说为集中式解决方案设计容错更容易:您可以使用 Paxos 来复制集中式服务器。相比之下，为分布式系统设计和添加容错通常要困难得多。由于分布式系统是复杂的，它更容易引入危及容错的极限情况。

## 结论

分布式未必比集中式更具可扩展性；

集中化不一定是可伸缩性的瓶颈。

作为一名分布式系统教授，我不会想象自己会为集中式解决方案辩护。但事实就是如此。

为了避免潜在的误解，我并不是说完全分布式/分散式解决方案不好，应该避免。去中心化也有好处，比如减少延迟。有些情况下需要去中心化，比如地理/政治/公司隔离。我们知道，在现实世界中，它是集中式体系结构和一些分布式体系结构的混合，在这种情况下，它是可管理的并且具有合理的成本。这也很大程度上取决于应用/任务。

PS:也许我们应该做

[an XtraNormal animation movie](//www.youtube.com/watch?v=b2F-DItXtZs)

关于这种“集中式不可扩展和分布式可扩展”的狂热。有人要吗？

PS2:谢谢

[@tedherman](https://twitter.com/tedherman)

对初稿的改进。

PS3:

[Optimistic replication](http://muratbuffalo.blogspot.com.tr/2010/11/optimistic-replication.html)

是对更加分散的复制协议、它们的优点和挑战的一个很好的调查。

## 奖励部分:Paxos 是一种相对集中的分布式共识方法

达成共识通常不是一个事必躬亲的过程。这可能很难扩展。想想我们的民主制度:它相当集权；我们只选举领袖来统治我们。

在同样的意义上，您可以将 Paxos 看作是分布式共识和状态机复制的更集中的方法。在 Paxos 中，参与者不与所有其他参与者互动来决定接受请求的顺序，而是由领导者决定请求的顺序，参与者只是接受它们。(完全分散的共识算法将类似于同步回合共识算法，其中在每一回合中，每个参与者与所有其他参与者通信，以便他们可以收敛于相同的状态。)