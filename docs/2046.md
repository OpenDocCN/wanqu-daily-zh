# 如何扩展开发团队

> 原文：<https://adam.herokuapp.com/past/2011/4/28/scaling_a_development_team/?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website>

作为黑客，我们熟悉扩展 web 服务器、数据库和其他软件系统的需求。成长中的企业面临的一个同样重要的挑战是扩展你的开发团队。

大多数技术公司在开发团队可伸缩性方面遇到了瓶颈，大约有 10 个开发人员。在 Heroku 的过去几年里，我相当成功地完成了这个过程，这篇文章将介绍我所看到的开发团队的生命阶段，以及每个阶段的问题和潜在的解决方案。

## 第一阶段:自制

一开始，你的公司是 2 - 4 个在某人的客厅、咖啡馆或共同工作空间工作的人。沟通和协调很容易:只要几个人坐在一起，每个人都知道其他人在做什么。创始人和早期员工往往非常自我导向，因此几乎不需要管理。每个人都是多面手，每件事都会做一点。你有一个单一的群聊频道和一个单一的 all@yourcompany.com 邮件列表。没有必要跟踪任何任务，甚至是错误。整个公司和你的产品的状态的完整副本很容易包含在每个人的大脑中。

在这个阶段，你试图创造和审查你的最低可行产品，这是一种奇特的方式说，你试图弄清楚你在这里做什么。在这一点上，任何一种结构或过程都是极其有害的。每个人都必须是多面手，能够解决任何类型的问题——专家们(往好里说)会有些无聊,(往坏里说)会非常分心，因为他们想把产品开发引入他们擅长的任何领域。

## 第二阶段:第一批雇员

一旦你有了一点资金，并且能够雇佣更多的开发人员，总共有 5 - 9 人，你可能会发现这种特别的协调方式(希望坐在队友旁边偷听所有重要的事情)开始失效。你既有太多的交流(跟踪其他六个人的工作很耗时)，又有太少的交流(在试图修复同一个 bug、回复同一个支持邮件或回复同一个 Nagios 页面时，你们最终会发生冲突)。

在这一点上，你想要添加一些结构:也许是周一的迭代计划，每日站立，以及在白板上或像 [Lighthouse](http://lighthouseapp.com/) 这样的简单工具中跟踪大的待办事项和 bug。也许你可以转到像 [Zendesk](http://www.zendesk.com/) 这样的支持系统，在那里可以分配传入的支持请求，你可以通过 [Pagerduty](http://www.pagerduty.com/) 添加一个简单的随叫随到的页面轮换。您的单一内部聊天和电子邮件渠道仍然运行良好。

在这一点上，抵制引入太多结构和过程的冲动。一些初创公司在达到这一阶段时，宣称“我们现在必须成长起来，像一个真正的公司一样行事”，并立即尝试转向高压策略。例如:成熟的 SCRUM，像吉拉这样的重量级工具，或者雇佣一个项目经理或工程经理。别做那种事。你有一个团队，以一种特别的方式很好地合作；你可能在团队中有一些天生的领导者，他们在指导大量工作的同时仍然亲力亲为；当你的产品发布到用户手中时，从很多方面来说，你仍然在试图弄清楚你的公司到底是什么。将官僚主义引入这种环境几乎肯定会阻碍你做你真正应该做的事情，这就是[寻找你的可扩展商业模式](http://steveblank.com/2010/04/12/why-startups-are-agile-and-opportunistic-%E2%80%93-pivoting-the-business-model/)。

这个阶段的重点是关键。每个人仍然是多面手，但是整个开发团队应该一次支持一个目标(也就是里程碑)。如果你试图同时攻击多条战线，你会把一切都搞砸。伟大的公司更有可能因为机会太多而消化不良，而不是因为机会太少而饿死。小心选择你的战斗，保持专注。

## 处于第三阶段边缘的危机

发展到 10 - 15 个开发人员，你就处在一个重大团队结构变化的边缘。有人告诉我，许多有前途的初创公司因为未能经受住这些阶段之间的转变而被扼杀。

有这么多开发人员，迭代计划、站立会议或任何其他类型的开发团队会议变得如此之大，以至于与会者大部分时间都很无聊。任何一个开发人员都会发现，在跋涉于他人工作的一大堆细节中，很难找到目标感或共同的方向。

在编程中，当一个类或源文件变得太大时，解决方法是把它分成更小的部分。同样的原则也适用于扩展开发组织。你需要分成目标团队。

## 阶段 3:分成小组

分割你的通才团队比听起来要难。把栅栏画在错误的地方，你会造成协调问题，让事情变得更糟。找到合适的地方进行分割，你会看到注意力、幸福感和生产力的大幅提升。

优秀团队的关键是定义明确的权力范围，与其他团队有清晰的接口。团队应该拥有你的产品的远景和方向。它应该能够以最大的自主性操作它所拥有的一切，而不必向其他团队请求许可或信息，除了偶尔出现的跨越团队边界的特性或错误。

你的软件架构和你的团队架构之间的紧密映射在这里将是一个很大的帮助。到目前为止，您可能已经将您的单片应用程序转换成一个分布式系统，该系统由通过 REST、AMQP 或其他 RPC 机制进行通信的多个组件组成。(如果没有，你应该强烈考虑这样做，与你的开发团队的分裂相一致。)在软件组件之间应该有一个明显的映射——每个组件都有自己的源代码库和部署位置/过程——以及您的新生团队。

一开始，决定什么人去什么团队有点武断。我的方法是和每个开发人员坐下来，深入了解他们对系统的哪些部分最感兴趣。在那里，我尽我所能把队伍分开。一些人在他们的第一个团队任务中找到了完美的家，另一些人不满意，需要很快转移到另一个团队。随着时间的推移，团队领域变得非常明确，因此将新员工安排在正确的位置变得更加容易。让开发人员跟随他们自己的激情，他们会被吸引到团队中，在那里他们会做得最好。

另外，此时你应该已经找到了适合你的产品/市场。如果你已经发展到这个规模，还在思考你的公司存在的意义，那你就有大问题了。如果是这样的话，停止增长，缩小规模，直到你找到合适的产品/市场。

## 专门化

加入团队的另一个原因是专业化。工程专家的类型包括运营工程师/系统管理员、基础设施开发人员、前端 web 开发人员、后端 web 开发人员、业务工程师/数据分析师以及专注于特定语言的开发人员。语言专家正变得越来越普遍，因为许多互联网规模的公司在函数式编程中编写高并发组件，如 Erlang、Scala 或 Clojure，通常由不同于 Ruby、Python 或 PHP web 组件作者的开发人员处理。

在早期，专家很少是受欢迎的。相对于可贡献的人数而言，在交付一个软件产品的过程中有太多不同的层面需要工作，所以每个人都投入到每件事情中。这可能会让开发人员从事范围广泛的工作，如操作系统内核更新等 ops 项目，以及为 UI 编写 JQuery 效果等前端项目。

一旦你有了十几个开发人员，你的产品就达到了使用和成熟的水平，问题就变得更加困难了。扩展数据库不仅是一项全职工作，还需要深入的专业知识，如果一个人同时学习成为 JQuery 专家、iOS 专家和 Erlang 专家，就无法获得这些专业知识。

你需要能够并且愿意专注于几个密切相关的领域的人，这样他们就可以在这些领域积累非常深刻的知识。其中一些将是你现有的决定专业化的多面手，一些将是新员工。你现在可以雇佣在你的公司规模较小时不合适的专家。多面手在身边总是有用的，他们中的一些人可能会进入管理层，担任团队的业务负责人角色，而不是亲自动手开发。

## Heroku 的第一支队伍

Heroku 最初的团队分解如下:

*   API——拥有我们面向用户的 web 应用程序和相应的 Heroku 客户端 gem。
*   数据构建和运行我们的 PostgreSQL 即服务数据库产品。
*   ops——保护生产系统的可用性。
*   routing——管理将 HTTP 请求路由到用户 web 进程所需的一切。
*   运行时——处理用于部署和启动/停止/管理用户进程的打包代码。

每个团队拥有一到五个组件。例如，API 团队拥有在 api.heroku.com 运行的 Rails 应用程序和 Heroku 客户端 gem。数据团队拥有我们数据库服务的供应和监控工具，以及所有单独运行的数据库。(Peter van Hardenburg 是内部创业者，他创建了我们的数据团队，现在领导着这个团队。他在这个视频的后面部分[讲述了这个故事的一部分。)](http://www.youtube.com/watch?v=k-RIMFvVGoc)

## 团队规模和角色

对我们来说，理想的团队布局是两个开发人员和一个业务负责人。从长远来看，一个开发人员是不够的(他们需要另一双眼睛来观察代码，此外，一个人是孤独的)。三个开发者也很好。到了四五点，事情开始变得有点拥挤；可能没有足够的表面区域让他们在不经常踩到对方脚趾的情况下工作。Heroku 几乎所有的团队都有两个开发人员。

“企业所有者”是一个有点笨拙的术语，但它是我们用来描述为团队做一些产品管理、项目管理和一般管理组合的人的最佳术语。企业所有者扮演着重要的角色，他知道团队工作对公司的商业价值，以及它如何适应更大的产品。他们可以协调跨团队的沟通，帮助根据业务价值确定项目和任务的优先级，并可以向高级管理人员和/或整个公司提供团队进展的状态报告或演示，以证明团队的持续存在。

我是企业主角色中的黑客企业家的粉丝:强大的技术背景意味着他们对所做的工作有深入的理解，并且能够从他们指导的工作中赢得巨大的尊重。这种人不一定适用于所有的团队，但是尽可能地找到他们。在许多情况下，让黑客放弃编码作为他们的主要功能需要相当多的说服。

避免开发人员属于多个团队。他们是创造者，需要能够将全部注意力集中在团队当前的项目上，而不会分心或试图进行多任务处理。然而，企业所有者有时可能属于多个团队。这并不总是一份全职工作，让一个人成为两个或更多相关团队的业务负责人对跨团队交流也有好处。

## 内聚力

在早期阶段，您应该避免在多条战线上攻击，而是让所有开发人员都集中在公司的一个目标上。随着每个团队封地的建立，这种情况已经改变了。现在你可以而且应该在多条战线上进攻。每个团队都应该独立执行自己的目标，不要太担心其他团队在做什么。

能够同时追求三个、四个、五个大目标，真是太牛逼了。在 Heroku 分成几个团队后的几个月，有一天，三个不同的团队都在发布主要的新特性。这是一种不可思议的感觉。

但是现在你有了一个新的问题:缺乏凝聚力。您的分散团队正在制定自己的路线图，并独立决定功能。但是为了避免你的产品支离破碎，需要有人来决定一个总体方向和一套产品价值观。更简洁地说:你需要一个策略。

但是这个帖子已经够长了。我将把内聚性和策略的讨论留到下一次。