# BSD Unix:权力属于人民，来自代码| Salon.com

> 原文：<http://www.salon.com/2000/05/16/chapter_2_part_one/?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website>

<input type="hidden" id="article_url" value="2000/05/16/chapter_2_part_one/">

当比尔·乔伊 1975 年来到加州伯克利上研究生院时，这个传说中的左翼激进主义之都已经有点破败了。如果这位 21 岁的编程神童瞥了一眼当地另类周刊的头条新闻，他可能会想知道自己陷入了什么样的疯狂困境。在旧金山，帕蒂·赫斯特因银行抢劫案受审，而这位报纸女继承人当时正为共生解放军携带机关枪。在奥克兰，气象地下组织搞砸了国防部大楼的爆炸案。即使是中央情报局在加州大学伯克利分校招聘的可靠怪物也未能产生超过象征性的抗议。

伯克利被耗尽了，它的激进能量在幼稚的恐怖主义、阴谋论和吸毒过量中消耗殆尽。在 60 年代激励大学的言论自由运动属于另一个地质时代。肯·汤普森，Unix 操作系统的创始人之一，1966 年毕业于伯克利大学，获得电子工程学位。1975 年，他从贝尔实验室回到大学休假。但是他曾经穿过催泪瓦斯的云层走向教室的校园已经变了。汤普森说，那一年，伯克利“变成了我见过的对政治最冷漠的地方。”

但这是欢乐的最佳去处。“他从来不看那些(另类)论文，”约翰·盖奇说，他是乔伊在伯克利的密友，后来在乔伊共同创办的太阳微系统公司工作。如今，乔伊称自己为“坚定的民主主义者”，最近又开辟了一个新的位置，成为一名技术怀疑派的末日预言家，但在 70 年代，用他自己的话来说，他“不是一名活动家”乔伊选择了加州大学伯克利分校，而不是斯坦福大学或麻省理工学院，不是因为他被该校的政治或反文化声誉所吸引，而是因为计算机科学系的硬件已经过时，他认为自己别无选择，只能将研究工作局限于研究计算理论——这正是他想做的。

但是理论并不是乔伊的强项。他开始黑代码，从未停止。盖奇回忆道:“他的目标是建立一个*能够工作的东西。”。他确实这么做了。在伯克利的七年时间里，乔伊和其他几名研究生及研究人员带头进行了一项密集的软件开发工作，最著名的是，最终开发出了 AT & T 公司的 Unix 的一个彻底改进版本，简称为伯克利 Unix，或者更常见的是，作为伯克利软件发行版的 BSD， [*](/tech/fsp/glossary/index.html#bsd) 。*

谈谈你的杀手级应用吧！Berkeley Unix 运行得如此之好，以至于 DARPA [*](/tech/fsp/glossary/index.html#darpa) 选择它作为连接 Arpanet [*](/tech/fsp/glossary/index.html#arpanet) 研究节点的首选“通用计算环境”,从而为互联网后来的发展奠定了基础。整整一代计算机科学家都是在 Berkeley Unix 上崭露头角的。如果没有它，网络很可能会演变成类似于今天的形状，但有了它，网络爆炸了。

伯克利的一小群程序员是如何实现这样的壮举的？首先，乔伊是一个程序员，他周围的传奇就像磁铁上粘着的铁屑一样越积越多。他 3 岁会读书，4 岁会下棋，在口试时，他会快速发明一种“排序算法” [*](/tech/fsp/glossary/index.html#sorting_algorithm) ，这让他的考官们大为震惊，其中一人后来将这种经历比作“耶稣让他的长辈们困惑”

但是过多的关注快乐，商业杂志最喜欢的目标[圣徒传，](http://www.fortune.com/fortune/1999/02/15/bil.html)掩盖了更大的图景。伯克利最重要的贡献不是软件；这是伯克利创造软件的方式。在伯克利，一个小的核心小组——在任何时候都不会超过四个人——协调一个不断增长的网络的贡献，这个网络由分布广泛的、大多数是志愿者的程序员组成，并逐步发布稳定改进的软件。在这样做的过程中，他们为现在被称为“开源软件开发方法论”的东西编纂了一个模板更简单地说，伯克利的黑客们建立了一个创建自由软件的系统。

BSD 本身最初并不是自由软件。在加州大学的支持下，Joy 以象征性的价格将它出售给已经购买了美国电话电报公司 Unix 源代码许可的个人或机构(尽管在实践中，Joy 验证潜在购买者是否真的拥有许可的努力可能并不太积极)。但在精神上，伯克利 Unix 确实是免费的:正如汤普森的 Unix 创建合作者丹尼斯·里奇(Dennis Ritchie)所观察到的，任何想在 Unix 上进行黑客攻击的人通常都能以某种方式获得源代码。如果这些黑客将他们的修改发送到伯克利，并且他们被认为足够好，他们就成为程序员维护的代码库的一部分，这些程序员只希望他们的软件以尽可能低的成本被广泛使用。

自从大约 20 年前诞生以来，Berkeley Unix 经历了多次转变，从 70 年代末和 80 年代初 Joy 主导的时代，到 1982 年 Joy 离开并加入 Sun 之后开始的更加协作的时期。但是在 90 年代初，在与美国电话电报公司的激烈对抗之后，BSD 终于成为了“可自由再分配的”BSD，BSD 的后代——由 FreeBSD、 [*](/tech/fsp/glossary/index.html#freebsd) 领导，但也包括 OpenBSD [*](/tech/fsp/glossary/index.html#openbsd) 和 NetBSD[*](/tech/fsp/glossary/index.html#netbsd)——是当代操作系统霸权之战的积极参与者。雅虎，可以说是世界上最繁忙的网站，运行在 FreeBSD 上。然而，尽管 BSD 拥有令人骄傲的传统，但它目前的地位与其早期的名气并不相称。BSD 是它自己的开发者社区内部分裂的受害者，在与 AT & T 的战斗中伤痕累累，在 Joy 叛逃到 Sun 的事件中受伤，BSD 目前是一个小玩家，尤其是与 Linux 相比。基于 Linux 的操作系统抓住了公众的想象力。

BSD 爱国者认为这场战斗远未结束，BSD 在技术上更胜一筹，因此最终会取得胜利。这要由未来来决定。不可争议的是 BSD 过去的贡献。即使到 1975 年，伯克利的言论自由运动已经成为属于快速衰落的一代人的遗物，在 Joy 共用一间办公室的 Evans Hall 的四楼，自由软件运动才刚刚开始。

这两个运动之间的联系很明显，即使不是直接的。通过展示合作软件开发的力量，并通过加强互联网的软件主干，使其能够进一步培育这种开发，BSD 帮助创造了一种媒体，这种媒体将比迄今为止构建的任何媒体都更能传播言论自由。权力属于人民，来自法典。

伯克利许多不错的中上阶层后院都有一个红杉庭院，可能还有一个热水浴缸，可能还有一个长满茂盛迷迭香和四处觅食的浣熊的菜园。鲍勃·法布里的后院有一个无线电塔，在一个主要的空军基地看起来不会不合适。能够向上伸缩到 100 英尺的高度，主要由法布里自己建造——旋转天线的轮毂是从 20 世纪 40 年代的飞机螺旋桨上收集的——无线电塔在法布里家旁边隐约可见，就像一个不那么微型的埃菲尔铁塔。一看它，你就会意识到你面前的是一个非常敬业的极客。

法布里认真对待他的业余无线电爱好。他甚至帮助组织了一次去南极以北大约 1000 英里的无人居住的荒野 [Heard 岛](http://www.aimnet.com/~cordell/HI/)的旅行，只是为了建立一个业余无线电电台几天，这样世界各地的业余无线电爱好者就可以享受与遥远的电台交换无线电信号的乐趣。

但是法布里最令人印象深刻的成就远远超出了他的塔或他的探险。他是伯克利计算机科学教授，策划了伯克利 Unix 的创建。并不是说他写了很多代码——这一荣誉主要属于 Joy 和 Fabry 的计算机科学研究小组的其他成员，这是一个全明星程序员团队，其成员包括 Sam Leffler，Kirk McKusick，Mike Karels 和 Keith Bostic。但是，当乔伊和其他人连续 36 个小时进行黑客攻击，改进文件系统、 [*](/tech/fsp/glossary/index.html#file_system) 网络性能、内存利用率和 Unix 的一百个其他神秘但重要的元素时，法布里在加州大学和 T2 电报公司令人生畏的官僚机构中进行干扰操作，处理部门政治和诽谤，最重要的是，撰写拨款提案，使 DARPA 的资金源源不断地流入伯克利。

Fabry 亲自负责将 Unix 带到伯克利。他的理由很简单，并且提供了一个实用主义倾向的早期例子，这种倾向一直是 BSD 发展的特征。

Unix 很便宜。根据政府命令，美国电话电报公司被迫几乎免费赠送。但从根本上来说，Unix 也是一个为在廉价硬件上工作而设计的黑客。早在 1969 年，汤普森想在废弃的 PDP-7 上开发一款名为太空旅行的电脑游戏。那么他做了什么？他写了一整套操作系统让这一切成为可能。有点像用核导弹钉钉子，但这通常是痴迷的黑客的标准操作程序。

Fabry 对 Unix 的经济性，以及它适应不同计算机硬件的容易程度着迷。除了专注于操作系统的学术研究之外，他还参与了为加州大学伯克利分校学生建立计算资源的工作。在 70 年代中期，这可能是一个昂贵的提议。通常情况下，允许一台主机的多个用户在各自的终端上工作的操作系统只为极其昂贵的计算机设计。每个用户的成本很容易达到 50，000 美元一个*终端*，这使得这样的系统对于教学目的来说不切实际。但是 Unix 与相对便宜的来自 DEC 的 [PDP-11](http://www.telnet.hu/hamster/pdp-11/1170.html) 结合使用，最终花费接近 5000 美元“每个座位”

更好的是，99 美元的许可费可以让你获得 Unix 源代码——蓝图、神奇的配方、解开所有秘密的钥匙。对于研究人员、教师和学生来说，这是无价的。研究尖端操作系统技术的研究人员可以试验现有的源代码，并根据他们的需要进行修改；想了解操作系统实际工作原理的学生可以通过接触代码来找到答案。管理伯克利 Unix 合同的 DARPA 合同“监督者”Duane Adams 指出，源代码的可用性是 DARPA 选择伯克利 Unix 而不是像 DEC 的 [*](/tech/fsp/glossary/index.html#dec) 虚拟机这样的竞争对手的明确原因。 [*](/tech/fsp/glossary/index.html#vms) 不要介意虚拟机是自下而上为 DEC VAX 计算机设计的，这些计算机是 Arpanet 节点最流行的硬件；VMS 是一个封闭的专有系统。你不能进去乱搞，所以它对研究人员没有吸引力。

DARPA 也认识到了现实。杰出的研究人员，像许多绝望的瘾君子一样，渴望得到带着伯克利最新发行版的磁带，要求 DARPA 采用伯克利 Unix，因为他们已经在用了。

“驱动 DARPA 的是，”法布里说，“几乎所有的承包商都告诉他们，他们运行的是伯克利 Unix，它比任何其他可用的都要好。”

一个流行的解释是，Unix 的源代码由于一个幸运的意外而变得广泛可用——这是禁止美国电话电报公司将其与电话无关的发明商业化的许可法令的一个意想不到的结果。但这只是故事的一部分。在世界上最大的政府和世界上最大的公司之间的对决中，Unix 不仅仅是一个小角色。至少在像 Fabry 这样的科学家的心目中，Unix 是“一件美丽的东西”。从一开始，Unix 就受益于直接从其创造者 Ritchie 和 Thompson 那里传播的公共氛围。

法布里回忆说，1975 年的一个星期，汤普森连续几个晚上对 Unix 进行了“解读”,他抓住了 Unix 隐藏的奇迹。

“西海岸 Unix 用户组的第一次会议大约有 12 或 15 人，”法布里回忆道，他是一个温和的人，现在 60 岁了，显然对他 25 岁的回忆感到高兴。“我们都坐在科里大厅里，肯·汤普森和我们一起读代码。我们在一系列的晚间会议中一行一行地检查了内核[*](/tech/fsp/glossary/index.html#kernel)；他只是解释了所有的事情...太棒了。”

解读密码:汤普森的原始解构行为是进入 Unix 小屋的开始，一种传承密码知识的仪式。法布里可能给伯克利带来了 Unix 的第一个物理表现，但汤普森的阅读将它嵌入了伯克利的灵魂。埃里克·奥尔曼(Eric Allman)，[*](/tech/fsp/glossary/index.html#eric_allman)，他后来编写了 sendmail， [*](/tech/fsp/glossary/index.html#sendmail) ，这是一个开源软件邮件传输程序，至今仍在网上传输绝大多数的互联网邮件，他参加阅读会时还是柏克莱大学的本科生。他仍然保留着他的标记“列表”，大量廉价、轻薄的计算机纸张，上面潦草地写着注释，详细说明 C 编程语言和其他 Unix 奥秘的晦涩之处。

“真正奇怪的是，肯·汤普森做了一个关于 Unix 内核内部的免费教程，”奥尔曼回忆道，“每个人都挤在一个相当小的房间里。”今天，你需要租一个舞厅。

法布里在芝加哥读研究生时参加了反对越南战争的游行，并自豪地指出，在他在伯克利的 12 年任期中，他从未打过领带。但是，尽管一些历史学家后来将伯克利的黑客描述为自由战士——特别是在他们与美国电话电报公司战斗的背景下(这发生在法布里退休之后很久)——法布里和黑客们自己都没有从如此明确的意识形态角度看他们在做什么。但是当我问法布里是否有过这样一个时刻，他脑海中的目标明确了，软件*应该*免费，他把问题反过来了:

“代码要花钱是从哪里来的？“我认为这是一个公平的问题，”法布里说。在 70 年代中期，大多数程序员成长在一个软件通常包含在硬件中的时代，不被视为独立的收入来源或专有知识产权。Joy 将他在 Unix 上的工作视为研究，与学术研究团体的其他成员共享，就像教授们共享他们几千年来的劳动成果一样。Ritchie 和 Thompson 希望他们的软件被使用——他们竭尽全力帮助 Berkeley 的程序员修复错误并做出改进。

他们中没有一个人认为自己是十字军战士。但是理想主义的涓涓细流仍然偶尔泄漏出来。

“我认为我们把这一切放在一起的精神很大程度上是后来被自由软件基金会和那些试图为人们建造‘软件’的人们所接受的精神，”Fabry 说。“我们的想法是，软件没有复制成本，所以它应该基本上是免费的，我们都在努力创造一个理想的系统，我们都希望拥有这个系统，希望自己能够使用这个系统。这是许多人的目标，当然也是 Ken Thompson 和 Dennis Ritchie 创建 Unix 的最初目标。”

法布里在 43 岁退休，厌倦了 DARPA 的跑步机，渴望将精力集中在他的业余无线电爱好上。但是伯克利 Unix 的成功记录仍然让他兴奋不已。

“伯克利 Unix 显然是有史以来最成功的大学软件项目，”法布里难得地自信地说，随后稍稍收回了话题。“我不知道，自 1983 年以来我就没有再关注过，也许从那以后发生了一些事情，但我相信那是真的。我们安装了成千上万的计算机，全世界整整一代计算机科学学生都是在伯克利 Unix 上成长起来的。它为操作系统设定了一个标准，人们仍然难以超越。它也是第一个高效的网络解决方案；多年来，这是唯一的游戏，互联网发展的基础。这真的是让互联网成为今天这个样子的人所依赖的东西之一。有些战斗已经解决了，为了做他们想做的任何新的部分，不必再解决了。”

"比尔像魔鬼一样编码。"约翰·盖奇

"他的代码很难看。"柯克·麦克库西克

"比尔·乔伊是一名出色的营销人员。"埃里克·奥尔曼

“比尔棒极了。他是人们希望在研究生身上看到的典型。鲍勃·法布里

“他有一种感染人的热情，他会让周围的人做一些事情。他有一种不可思议的动力，要把他的软件拿出来让其他人使用。”柯克·麦克库西克

“Berkeley Unix 是许多天才开发人员的作品。比尔·乔伊的特别之处在于整合了来自不同组织的众多贡献者的工作。-罗伯·古威茨

“比尔真的很聪明。”山姆·莱弗勒

<font size="-3">--------</font>

盖奇回忆起他最喜欢的一个比尔·乔伊的故事时，眼睛闪闪发光。他说，这一幕发生在俯瞰华盛顿特区的一栋大楼的高层会议室里，时间是 20 世纪 80 年代初。出席会议的有来自 DARPA 的一些代表，BBN 公司的一些员工(一家波士顿公司，获得了 DARPA 建造 Arpanet 的原始合同)和一些伯克利的黑客，包括 Joy。

争论的焦点是一直困扰 DARPA 的一个恼人的问题。DARPA 给了 Berkeley 一份主要的合同来增强 Unix，使其适合 DARPA 的研究网站网络。它还决定伯克利 Unix 应该包含 TCP/IP [、*](/tech/fsp/glossary/index.html#tcp/ip) 一种 Arpanet 机器如何互联的规范。由文顿·瑟夫和鲍勃·卡恩设计的 TCP/IP(传输控制协议/互联网协议)过去是，现在仍然是计算机通过互联网相互通信的基本方法。

但是 DARPA 给了 BBN 实现 TCP/IP 协议的合同， [*](/tech/fsp/glossary/index.html#protocol) 来编写非常重要的 TCP/IP“堆栈”乔伊被指示将 BBN 的堆栈插入柏克莱 Unix 系统。但是乔伊拒绝这样做。在他看来，BBN 的 TCP/IP 不够好。所以他自己编写了高性能的 TCP/IP 协议栈。

正如 Gage 所说，“BBN 有一个实施 TCP/IP 的大合同，但是他们的东西不行，而 Joy 的研究生的东西行。所以他们开了一个很大的会，一个穿 t 恤的研究生出现了，他们问，'你是怎么做到的？'比尔说，‘这很简单——你读协议，写代码。"

“这真的让 BBN 的家伙们寒心了。”

好吧，当然。在编程行话中，借用一些现代俚语，像“阅读协议并编写代码”这样的简单陈述是一个主要的缺陷。但是乔伊真的说了那些话吗？BBN 的代码真的不起作用吗？

写了 BBN 的 TCP/IP 实现的 BBN 程序员 Rob Gurwitz 说，不是也不是。Gurwitz 说，他参加了那个时代处理 TCP/IP 事务的所有 DARPA 指导委员会会议，他不记得曾听到 Joy 做过这样的陈述。Gurwitz 说，他曾与 Joy 和 Sam Leffler 密切合作，将 TCP/IP 集成到 Berkeley Unix 中，他还说 Joy 的 TCP/IP 版本不是 BBN 代码的直接替代。Joy 的堆栈旨在最大限度地提高具有宽带连接的局域网的性能，例如，为整个大学校园服务的以太网 [*](/tech/fsp/glossary/index.html#ethernet) 。Gurwitz 的版本是为在构成 Arpanet 主干网的窄得多的 56Kbps 电信线路上运行而设计的。

尽管如此，伯克利的黑客们过去(现在也是)确信他们的实现是优越的，他们继续抵制 DARPA 强迫他们在伯克利 Unix 中包含 BBN 版本的所有尝试，尽管根据 Gurwitz 的说法，几个 DARPA 站点多年来一直使用 BBN 的版本。正如大多数编程争议的情况一样，对 TCP/IP 争论研究得越深，对真相的探索就越像[【罗生门】](http://movie-reviews.colossus.net/movies/r/rashomon.html)。

那么，为什么争吵很重要呢？至少有三个原因。

首先，将 TCP/IP 结合到 Berkeley Unix 中可以，而且经常被挑选出来作为使互联网有效运行的最重要的创新。Joy 和其他计算机科学研究小组的资深成员认为他们的 TCP/IP 版本是至关重要的，因为只有它在技术上足够好，才能满足那些想在本地网络和互联网上相互交流并完成工作的研究人员。

有人可能会说，TCP/IP 协议栈是火之活尸送给网络人类的原始礼物。当互联网在 90 年代突然繁荣起来时，Berkeley Unix 也随之发展起来 Kirk McKusick 说，这是对其设计质量的证明。时至今日，BSD 的支持者认为，BSD 的网络性能，仍然可以追溯到 Joy 的 TCP/IP 代码，远远超过了基于 Linux 的操作系统所能做到的最好。

其次，TCP/IP 协议栈在解决美国电话电报公司大学和加州大学之间的法律纠纷中起到了决定性的作用。1984 年美国电话电报公司垄断的瓦解最终允许美国电话电报公司将 Unix 商业化。多年来，随着 Unix 成为网络和学术界的首选语言，美国电话电报公司稳步提高了许可费，从最初的 99 美元一直涨到 25 万美元。但是美国电话电报公司不是唯一感兴趣的一方。在 90 年代早期，BSDi，从伯克利的 CSRG 分离出来，开始销售它自己版本的伯克利 Unix，而加州大学已经销售它的版本很多年了。1992 年，AT & T 起诉了加州大学和 BSDi，声称 BSD Unix 包含了 AT & T 的专有代码。

对美国电话电报公司来说不幸的是，该公司当时推出的 Unix 版本，System 5，结果包含了大量最初由 BSD 黑客编写的代码——包括 TCP/IP 协议栈。Berkeley 在非常自由的许可下发布了它的所有代码——基本上，用户可以用 BSD 代码做任何他们想做的事情，只要他们保留加利福尼亚大学的版权。但美国电话电报公司已经剥夺了 UC 的版权，并开始将该软件作为自己的软件进行营销。像麦克库西克这样的黑客被激怒了。

“我们写了这段代码，他们声称这是他们的，”McKusick 说，“他们有权利，我们就是不相信。让我们恼火的是，他们基本上是在拿走我们的作品，他们没有为此支付一分钱，但他们通过出售所有该死的许可证赚了钱，他们现在试图声称这是他们的。”

加州大学的律师抓住这个机会，反诉美国电话电报公司侵犯版权。经过必要的法律程序，双方达成了和解，但双方都被禁止对和解条款发表评论。这一解决方案，以及 BSD 黑客为清除其代码中的任何美国电话电报公司“污点”所做的共同努力，释放了操作系统最后的专有痕迹。

第三，即使 Joy 没有因为说“读协议，写代码”而惹恼他的程序员同事，但是没有一个了解他的人会否认这是他很容易说的话。乔伊的同事和教授一致认为他是一个本质上很好的人。但是就像很多伟大的黑客一样，Joy 也几乎是不自觉的自大。从历史上看，这种傲慢一直是 BSD 传奇的关键部分。一般来说，程序员往往对自己评价很高。作为一个阶层，Unix 程序员以展示他们自己的崇高和傲慢的特殊混合而闻名。但是 BSD Unix 黑客，除了一些显著的例外，在他们的自信方面特别致命。他们不会经常犯错，当他们犯错时，让他们相信这个事实需要几支军队和相当多的重炮。事实上，对于 BSD 黑客沮丧地看着基于 Linux 的操作系统席卷全球的原因，最简单的解释是，多年来，BSD 社区的子社区一直在无休止地模仿 Joy 最初不愿意在 TCP/IP 上妥协的顽固态度。

当然，如果有人有权傲慢，那就是比尔·乔伊。当加州大学收到先进到可以将光标映射到屏幕上特定点的新计算机终端时，Joy 迅速编写了一个文本编辑器 vi， [*](/tech/fsp/glossary/index.html#vi) 来利用这些新功能。Vi 至今仍被广泛使用，几乎是所有 Unix 安装的标准设备。

如果 Joy 使用的编译器不能让他满意，他就写一个新的。如果退格键在 Unix 中不能正常工作，他就重写源代码。诸如此类。

“比尔很擅长拿东西，”麦克库西克说，“说，‘好吧，这是我有的，这是我想去的地方，从这里到那里的最短路径是什么？’他的代码是丑陋的，不可维护的，难以理解的，但是天哪，他只用了两个星期就完成了令人难以置信的大量功能。有人曾经让我拿自己和比尔·乔伊做比较，我说，“你知道，比尔做的事情，我真的没有做不到的，但是比尔一年做的事情会让我少做 10 年。”"

“他只是非常擅长阅读大量代码，并围绕这些代码思考，”法布里回忆道。因此他可以在一个周末内完成代码的重大重组。我多次看到他对内核进行重大重组。开始时，他只花了几天时间，后来可能花了一个月。太棒了。”

Joy 曾用手机给我打过一次电话。那是 2 月 14 日，他在加利福尼亚州蒙特雷的一家杂货店里，在前往一年一度的 TED(技术、娱乐和设计)会议之前储备食物。他从不浪费一分一秒的空闲时间，他决定把两件杂事结合起来——我关于他在伯克利的日子的问题和他自己对食物的需求。这个结果让我近距离地看到了乔伊更著名的品质之一——他一心多用的能力。在回答我的问题时，他会同时与收银员或柜台人员交谈，毫不停顿。在一个句子中间，会蹦出“水果沙拉”或“葡萄干酸奶”这样的词。

就像 Unix 本身一样，它以执行同步任务的能力而闻名，Joy 可以将他大脑的一部分同时分配给不同的任务，而不会显得亏待任何一项任务。

后来我才知道，他的表现并不像我最初想象的那么令人敬畏。有人告诉我，乔伊决定他对某件事的看法，然后很少改变主意；相反，他把自己对这个主题的想法储存起来，并能够根据需要反刍出来，而不会浪费任何新鲜的脑细胞。

与乔伊共事过的人说，他的条块分割能力有时让他很难相处。在伯克利计算机科学系的走廊里回荡的大声争论的故事数不胜数。但是 Joy 固执的专一也让他成为了一个优秀的领导者。Berkeley Unix 的繁荣在很大程度上是因为 Joy 将他的代码保持在尽可能高的标准，并且拒绝妥协。Leffler 是 Joy 的副手，负责推动 Berkeley Unix 的第一个版本，他说他和 Joy 有责任不妥协。美国国防部为 BSD 付费，其潜在用户包括计算科学作物中的精华。

有趣的是，Joy 并不认同 Linux 运动的基本信条——相信开源软件的优势在于它能够利用庞大的志愿者程序员网络的能量和热情。Linux 是建立在平等主义伦理之上的:也许不是每个程序员都会写出伟大的代码，但是所有的眼球和敲击键盘的手指将会一起逐渐走向伟大。

但是 Joy 不认为有更多的程序员就等于有更好的代码。

“大多数人都是糟糕的程序员，”乔伊说。“诚实的事实是，让很多人盯着代码并不能发现真正令人讨厌的错误。真正讨厌的虫子是由几个真正聪明的人发现的，他们自杀了。大多数看代码的人不会看到任何东西...你不可能让成千上万的人做出贡献，并达到一个高标准。”

Joy 甚至对普遍持有的观念提出质疑，即 BSD 为展示如何通过广泛分布的程序员网络的贡献来构建大型软件项目树立了模型。

“几乎没有来自其他地方的补丁，”Joy 说，他指的是 Berkeley Unix。“事实上，我得到的大部分东西都不怎么样。记住，那时候还没有真正的 swift 网络。在后来的几年里，你拿回了一些东西，但在那段时间里，我没有拿回多少东西。”

乔伊可能夸大了事实。Leffler 和 McKusick 虽然承认 90%的外部贡献没有达到 Berkeley 的标准，但他们权威地指出 BSD 代码的很大一部分来自 Berkeley 之外。在 Joy 于 1982 年[离开](http://communication.ucsd.edu/A-News/NET.rumor/82.04.16_ucbernie.2227_%20net.rumor.html)到孙之后，随着网络的兴起，外界贡献的百分比开始上升。Joy 可能对新一代开源黑客反应过度了，他们中的许多人经常不承认(甚至意识不到)Joy 对整个自由软件运动背后的软件生态的贡献。乔伊说，当他启动 [*](/tech/fsp/glossary/index.html#boot) Red Hat Linux 时，他看到 20 年前他亲自写的启动信息滚动显示。Joy 更愿意谈论他目前的爱好，Sun 的 Java 和 Jini，当他被问到 Linux 时，他有时会流露出一丝不快。这些朋克黑客是谁，当 Joy 第一次重写 Unix 内核时，他们中的一些人甚至还没有活着？

“如果我必须从头开始重写 Unix，我可以在一个夏天内轻松完成，”Joy 说。“那样会好得多。一份好得多的工作。观念陈旧。”

但是，如果程序员数量的增加并不能确保代码质量的提高，那么为什么基于 Linux 的操作系统会主导今天的市场呢？如果 Joy 拒绝了来自伯克利以外的大部分贡献，为什么 BSD 享有合作开源软件开发模型先驱的声誉？

“BSD 最初是比尔·乔伊，”麦克库西克说。“他负责分发，谈论这些东西，并把它们推出去。他会发表演讲，不可避免地，在演讲结束时，他会说，'如果你有什么很酷的东西，来和我谈谈。'"

但是，埃里克·奥尔曼急忙插话说，乔伊并没有在伯克利发明自由再分发软件的概念。“这似乎是一种弥漫伯克利的风气，”奥尔曼回忆道，他在 70 年代早期从事一个名为 INGRES 的数据库项目，该项目被广泛地重新分发。奥尔曼说，快乐消失后，这种精神继续存在。

这是三月一个美丽的春日。麦克库西克、奥尔曼和我围坐在“牛津之家”后院的一张户外桌子旁，奥尔曼和麦克库西克在北伯克利的小屋已经住了近 20 年。一个月的阴雨之后，第一缕温暖的阳光照耀着我们，伴随着牛津之家丰富的酒窖中的一系列精选。

奥尔曼和麦克库西克可以放松一下。奥尔曼的公司 Sendmail 正在进行一轮紧张的融资，并刚刚发布了一项重大升级。与此同时，McKusick 通过精心策划 BSDi 和 Walnut Creek CD-ROM 之间的合并让整个 BSD 社区陷入一片混乱，BSDi 是 CSRG 的一个分支，出售 BSD 的专有版本，而 Walnut Creek CD-r om 是 FreeBSD 发行版的最大发行商。一些代码从 BSDi 专有的 BSD/OS 移植到完全免费的 FreeBSD 的计划正在进行中。对这次合并的意义的解释大相径庭。对一些人来说，BSDi 的专有产品在 Linux 冲击下毫无进展是一种让步。对其他人来说，合并是一个充满希望的信号，表明 BSD 分裂的日子已经结束:社区再次重组，准备好与其他操作系统新贵进行新一轮的较量。

如果说 Joy 是 BSD 的心脏，那么 McKusick 就是它的灵魂，伯克利 Unix 火焰的守护者。Joy 于 1982 年离开后，Leffler 在伯克利逗留了足够长的时间，以完成向 DARPA 交付 BSD 4.2，然后也离开学术界，投身于更有利可图的卢卡斯影业，以及后来的硅图形。在此之前，麦克库西克一直在忙着完成乔伊劝说他完成的各种 BSD 任务，现在他拿起了缰绳。

McKusick 自豪地说，直到今天，他是唯一一个订阅所有主要 BSD 派生发行版的开发者邮件列表的 BSD 原始开发者。每天凌晨 2 点，他的一台电脑会下载当天对 FreeBSD 的修改，并重新编译系统，让他痛苦地保持最新状态。如果有人能对 BSD 随时间的演变提出全面的观点，那就是 McKusick。

像他的 BSD 程序员伙伴一样，McKusick 否认革命热情或伯克利激进的野心。

“最终，我们所做的贡献，”McKusick 说，“是开发了一个开源软件的模型...我们想出了如何让一小群人协调一个有数百人参与的软件项目。”

麦克库西克概述了一个在乔伊和莱弗勒离职后成长起来的组织模型。在中心，有一个“核心组”——一组程序员，他们通过授予或撤销修改或“提交”新代码到代码库的权利来控制对代码的访问。从它们中延伸出来的是拥有这种权利的“提交者”。除了提交者之外，还有一般的开发人员社区，他们向提交者提交变更、错误报告和修复。当今大多数引人注目的开源项目，如 Apache Web 服务器和 GNU 项目，都使用类似的组织形式。Linux 是主要的例外。Linux 没有核心——只有 Linus Torvalds，后面是一层受信任的“副手”

“提交者，”麦克库西克说，“是一群我们信任的人，他们会提交对事情负责的东西。这种想法是，你没有所有这些专制的控制...现在，你可以偷偷溜进去，向内核提交一些东西，甚至是某种活板门。我不会说我们不会一无所知，因为我们确实密切关注内核中发生的事情，但我们不需要告诉人们不要这样做；我们不必从行政上阻止他们做他们不应该做的事情。我们建立了一种文化和一种结构。”

尽管如此，90%的贡献被丢弃了；其余的，正如麦克库西克喜欢说的，“被尿在身上，让它们闻起来像伯克利。

“诀窍在于，最终你会找到真正优秀的那一小部分人，这就是为什么我们有整个等级制度，这就是为什么我们今天仍然有等级制度，”McKusick 说。“是的，有成千上万的开发人员，老实说，如果他们的生命依赖于它，他们中的大多数人都不能把自己从湿纸袋中画出来...但你还是给了他们一个位置；你不能就这样解雇他们。”

麦克库西克指出，这个圈子一直在扩大。今天，FreeBSD 有一个 16 人的核心，周围有近 180 名提交者和数千名开发人员。即便如此，FreeBSD 与致力于基于 Linux 的操作系统的开发社区相比还是相形见绌。这就引出了一个显而易见的问题，这个问题 McKusick 在最近几年已经听过几百次了:基于 Linux 的操作系统是如何超越 BSD 的？

有一些显而易见的答案。在 90 年代早期，随着个人计算机的能力稳步增长，许多 Unix 爱好者开始寻找在他们的 PC 上运行 Unix 的方法。当时有两个竞争者，386BSD，这是由 William 和 Lynne Jolitz 为基于 Intel“x86”微芯片的计算机开发的 BSD 版本，以及基于 Linux 的操作系统。但是美国电话电报公司的诉讼，加上 386BSD 的缓慢开发速度，使整个 BSD 的努力蒙上了阴影。没有人知道美国电话电报公司是否会成功地彻底取缔 BSD。Linux 与 GNU 实用程序相结合，受到了严格的 GNU 通用公共许可证的保护——所有代码都是免费的，而且永远都是免费的。

当美国电话电报公司的诉讼得到解决时，滚雪球式的 Linux 之旅正在进行中。而 386BSD 之后 BSD 的未来发展，也没有起到说服黑客改变主意的作用。开发人员对 386BSD 整合新补丁的速度不满，于 1993 年成立了 FreeBSD 和 NetBSD。不久之后，NetBSD 核心内部的一场争论导致了 OpenBSD 的诞生。与此同时，麦克库西克和 CSRG 的其他成员成立了 BSDi。

McKusick 对广泛持有的 BSD 社区不可挽回地崩溃的看法不屑一顾。他宣称，除了刚刚合并的 FreeBSD 和 BSDi 之外，BSD 只有另外两个主要发行版，每个发行版都有自己的侧重点。NetBSD 专门研究如何将 BSD 移植到不同的计算机架构上。OpenBSD 专注于安全问题。

有多少 Linux 发行版？麦克库西克翻着白眼问道。十五，二十？

我指出所有的 Linux 发行版都共享同一个内核，它由强大的、通常是公正的、集中的 Torvalds 来监管。BSD 没有中心。

麦克库西克看起来有点伤感。

“这有点自私，”他说。“但我相信，如果我愿意充当傀儡...我本可以阻止社区分裂。我基本上已经在那个位置上呆了 10 年，也许 15 年，我真的觉得是时候把这个衣钵传给其他人了。我对事情应该怎么做有一定的看法，在某些时候你想得到新鲜血液。老实说，我真的认为会发生的是，我知道事情会爆炸，会有很多不同的[分布]，我认为大多数会消失，一个会成为明显的新的。在某些方面，这确实发生了。我的意思是，FreeBSD 至少拥有 80%的市场份额，另外两家公司也很有意思，但它们真的被边缘化了。”

麦克库西克认为，过于依赖一种集中统一的力量不一定是一种优势。“当莱纳斯·托沃兹去世、变得疲惫或以其他方式远离这一切时，会发生什么？这是一个巨大的重量。在我看来，他做了一件可怕的工作，创造了超越他的东西。如果我被公交车撞了，BSD 真的不会受到太大影响。”

为了证明他的断言，他指出 Torvalds 并不依赖源代码控制软件 [*](/tech/fsp/glossary/index.html#source_control_software) 程序来管理对 Linux 内核的更改。相反，托瓦尔兹通过将每个主要补丁插入到他自己的开发系统中来对其进行审查。但是如果出了问题会怎么样呢？如何回滚到更改之前？当最初的领导者离开时，通过软件体现的机构记忆将使项目继续下去，这种记忆在哪里？

当我在这次讨论后给托瓦尔兹发电子邮件寻求回复时，他拒绝了这个问题。

“跟踪源代码的纯技术方面可以由源代码控制包来处理，”Torvalds 说，“但至少，在我看来，他们实际上倾向于‘让我们现在就把它放进去；如果结果证明这是一个错误，我们可以随时恢复，因为我们有源代码控制。当然，没有人真正清理过任何东西。或者几乎没有。因此，我认为计算机科学中真正的问题是在产品发布之前进行质量控制，到目前为止，除了人脑之外，没有任何其他的包可以完成这项工作。"

托沃兹的回答很有趣，仅仅是因为它透露出的自信呼应了乔伊对自己能力的信心。也许在 Torvalds 退出舞台之前，Linux 无法开发类似 BSD 的组织结构。

最终，与相似性相比，BSD 和 Linux 阵营在组织策略上的分歧是微不足道的。正如 McKusick 很快强调的，“重要的是开源，而不是 Linux 或 BSD 是否胜出。”

在这种背景下，人们确实可以把 BSD，从 Joy 时代到 McKusick 时代以及以后的时代，看作是给当前的 Linux 上升注入能量和热情的连续体的一部分。麦克库西克指出，即使在早期，乔伊也希望其他人贡献“酷的东西”。从那时起，趋势线一直是贡献者的圈子稳步扩大。BSD 展示了如何让人们参与到过程中——让他们成为过程的一部分，并对他们的贡献给予肯定。正如基思·博斯蒂克(Keith Bostic)， [*](/tech/fsp/glossary/index.html#keith_bostic) ，推动创建一个完全不包含 AT & T 代码的 BSD 版本的领导者，喜欢说，“通过给予人们信任，你可以做的好事永无止境。”

因为会发生什么？你最终会创造出每个人都可以用来提高效率的工具，创造出鼓励协作的更好的结构，这反过来会释放出更多的创造力。这是自由软件的本质，它超越了什么样的许可证保护软件，或者是否使用源代码控制软件，甚至超越了顶级开发者有多傲慢。通过开放代码，伯克利扩大了软件可能性的范围。

<font size="-3">--------</font>

Gage [*](/tech/fsp/glossary/index.html#john_gage) 没有为 Berkeley Unix 的代码做出贡献，但是他花了大量的时间在 Evans Hall 的计算机房里闲逛，高兴地聊天，思考计算机革命的政治含义。盖奇是伯克利的一名数理统计研究生，也是一名嬉皮士激进分子——参与了言论自由运动和反战抗议。1968 年，他是鲍比·肯尼迪在民主党大会上的代表，1972 年，他是总统候选人乔治·麦戈文的副新闻秘书。

在盖奇最喜欢的伯克利咖啡店里呆了三个小时，探索互联网对个人自由意味着什么，以及伯克利 Unix 在促进互联网发展中扮演了什么角色，盖奇把他的记忆带回到也许是伯克利行动主义历史上最著名的时刻。

他开始引用马里奥·关明生在俯瞰斯普罗尔广场的行政大楼台阶上的演讲。他弓着身子趴在桌子上，眼睛里突然迸发出发自内心的热情:

“‘有一段时间，机器的操作变得如此令人厌恶，’”盖奇宣称，“让你心里如此恶心，以至于你不能参与；你甚至不能被动地参与，你必须把你的身体放在齿轮上，轮子上，杠杆上，所有的装置上，你必须让它停下来。你必须向操作它的人，向拥有它的人表明，除非你自由了，否则这台机器将根本无法运转。"

盖奇咧嘴笑了。他提出，Berkeley Unix 提供了一种不同的前进方式，摆脱了投入魔鬼曲轴运转的痛苦。Berkeley Unix 的源代码对所有想要它的人开放，*是机器的“齿轮和杠杆”。通过促进对源代码的访问，对机器内部工作的访问，自由软件/开源运动使人们能够把他们的手放在齿轮和杠杆上，控制他们的计算机，他们的互联网，他们的整个技术基础设施。*

“开源运动是一场言论自由运动，”盖奇说。“源代码看起来像诗歌，但它也是一种机器语言。 Unix 打开了机器中的话语，因为 Unix 中的文字确实会引起动作，而这些动作会引起其他动作。”

关明生死了。言论自由运动被遗忘了一半。几乎没有人，如果有的话，会在当时预测到计算机网络可能会被证明是言论自由最大的朋友和最好的武器。事实上，关明生的“机器”在某种程度上是对他所认为的信息技术中固有的非人化的隐喻:加州大学是 IBM，学生们是被输入机器的穿孔卡片，无论是字面上还是象征性的，而不是被折叠、旋转或肢解的。

伯克利 Unix 黑客，通过帮助释放互联网的力量，重新人性化了“机器”。那些“有用的话”激发了连通性，引发了交流。在某个地方，关明生在微笑。

