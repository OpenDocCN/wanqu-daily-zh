# 我如何学习编程

> 原文:[https://danluu.com/learning-to-program/?utm_source=wanqu.co&UTM _ campaign = Wanqu+Daily&UTM _ medium =网站](https://danluu.com/learning-to-program/?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)

<main>

Tavish Armstrong 有一个很棒的文档[，在那里他描述了他是如何以及何时学会他所拥有的编程技能的](https://github.com/tarmstrong/longcv/blob/master/bio.md)。我喜欢这个想法，因为我发现人们进入编程的途径比刻板印象所认为的要多得多，我认为看到编程有许多可能的途径是有用的。

就我个人而言，在从事编程工作之前，我做了十年的电气工程师。当我和人们谈论这个的时候，他们经常想要带走我的历史的流畅叙述。也许是我的数学背景给了我可以应用于许多问题的工具，也许是我的硬件背景给了我对性能和测试的良好理解，或者是这种结合使我非常适合硬件/软件协同设计问题。[人们喜欢好的叙事](https://www.youtube.com/watch?v=RoEEDKwzNBw)。人们似乎喜欢的一种说法是，我是一个很好的问题解决者，而且解决问题的能力是可以概括的。但现实是混乱的。电气工程似乎是世界上最自然的事情，我毫不费力就学会了它。编程对我来说是不自然的，多年来毫无意义。如果你相信关于程序员常见的“要么有，要么没有”的叙事，我肯定没有。然而，我现在以编程为生，人们似乎对我的工作非常满意。

怎么会这样？嗯，如果我们回到开始，在成为硬件工程师之前，我花了相当多的时间做失败的儿童项目(例如，编写井字游戏和人工智能)，而不是真正“理解”编程。我确实有时从我的数学或硬件技能中获得很多价值，但我怀疑我可以在不到一年的时间里教会某人实际适用的数学和硬件技能。花 5 年时间在学校，10 年时间在行业里学习这些技能，是一条迂回曲折的道路。令人惊讶的是，我发现我的道路比我的大多数同事都更直接，这证明了大多数程序员都是天才神童、很早就开始编程的说法是错误的。

虽然我每天只使用一小部分我学到的技术技能，但我发现我有一套我一直在使用的元技能。元技能集没什么深奥的，但是因为我经常在新的(对我来说)问题领域工作，我发现我的元技能集比我的实际技能更有价值。我不认为你可以通过写博客来传达元技能(比如沟通)的重要性，就像你不能通过说单子就像玉米煎饼来解释单子是什么一样。话虽如此，我还是要讲这个故事。

### 无效摸索(1980-1996 年)

我和我的许多朋友多次尝试学习如何编程，但都失败了。我们尝试了 BASIC，可以编写一些简单的循环，使用条件语句，并打印到屏幕上，但从来没有弄清楚如何做任何有趣或有用的事情。

我们在学校接触过一些与乐高相关的编程，嗯，但是我们没有一个人知道如何做说明书上没有的事情。虽然它很有趣，但它并不比电子游戏更有教育意义，也有类似的影响。

我们中的一个人给了[一本游戏编程书](https://www.amazon.com/gp/product/1568301839/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&tag=abroaview-20&camp=1789&creative=9325&linkCode=as2&creativeASIN=1568301839&linkId=408c9bc67c8e6b0a405ce7ccdd7ed7b4)。我们看了，试着做了几件事，毫无进展。

### 高中(1996 - 2000 年)

我们无效的摸索一直持续到高中。由于对游戏的兴趣，我对基准测试产生了兴趣，这最终导致了对 CPU 和 CPU 微体系结构的了解。这是在谷歌的早期，在谷歌学术之前，在大多数 CS/EE 论文可以在网上免费找到之前，所以这主要是来自爱好者网站的材料。幸运的是，互联网相对年轻，我经常光顾的网站的用户也是如此。很多关于硬件的材料是针对像我这样的人的(甚至是由我这样的人写的)，这使得它变得容易获得。不幸的是，许多关于编程的材料是由专业程序员编写的，并且是针对他们的，比如 Paul Hsieh 的优化指南。那里有一些对初学者友好的编程指南，但是我和我的朋友们并没有偶然发现它们。

我们在高中时上过编程课:一门介绍 Visual Basic 的入门课和一门教授 C++的 AP 课。两个班都是由一个并不真正知道如何编程或者如何教编程的人来教的。我班上有几个已经知道如何编程的孩子，[会在 topcoder 开放](https://www.topcoder.com/members/po/)时在上面做编程比赛赚很多钱，但是他们没有通过 intro 类的测试，因为测试包括了 VB6 IDE 的截图，在那里你可以得到正确识别每个按钮做什么的分数。该课程所教授的内容与您期望的一样多，在该课程中，预测试涉及从 IDE 中识别 UI 元素。

一年后的 AP 课程也同样有效。大约在课程进行到一半的时候，几个学生组织了一个独立的学习小组，学习另一本教科书，因为这个班显然没有为我们准备 AP 考试。我通过了 AP 考试，因为这是一种在不了解材料的情况下也有可能通过的选择题。

虽然没学到多少东西，但如果不是因为 AP 班，我是不会高中毕业的。我有足够多的个别课程不及格，以至于我几乎没有足够的学分毕业。我得到这些必要的学分有两个原因:首先，很多老师都有一个协议，如果你在 AP 考试中成绩很好，他们会给你一个及格分数(通常是 A，但有时是 B)。如果我的化学老师发现我在 AP 化学考试中表现出色，没有把我的成绩改为及格，这还不够。

除了高中没有不及格，我不确定我从 AP 课程中学到了什么。我的 AP CS 课程实际上对我学习编程产生了负面影响，因为 AP 考试让我退出了大学的前两门课程(编程入门和数据结构课程)。回想起来，我应该参加入门课程，但我没有，这给我留下了巨大的知识漏洞，我在近十年内没有真正填补。

### 大学(2000 - 2003 年)

因为我高中差点不及格，所以没有合理的方法可以让我进入一所“好”大学。幸运的是，我在威斯康星州长大，这个州有一所“好”学校，学校用一个公式来决定谁会自动被录取:GPA 的分数线取决于标准化考试成绩，任何标准化考试成绩超过一定分数的人都会被录取，不管 GPA 如何。在迎新会上，我和负责招生的人聊了聊，发现我这一年是他们最后一年使用这个公式。

我主修计算机工程和数学，原因回想起来似乎很糟糕。我不知道我真正想学什么。我选择了计算机工程或工程机械，因为这两个听起来都很“难”。

我做了很多尝试，想出更好的选择专业的标准。最严重的一次是，我花了一周时间与教授交谈，试图了解不同领域的日常生活是什么样的。这种方法有两个关键缺陷。第一，大部分教授不知道在工业界工作是什么感觉；现在我在工业界工作，并与学术界人士交谈，我发现大多数没有在工业界工作过的学者对工业界有很多误解。第二，即使我设法获得了不同领域的准确描述，事实证明，有大量的研究表明，人类基本上无法预测他们会喜欢哪些活动。最终，我决定抛硬币。

#### 数学

我并没有打算主修数学，但是我的大一微积分入门课程非常有趣，所以我最后增加了一个数学专业。这只是因为我的一个高中朋友给了我荣誉微积分序列的申请表，因为他认为我可能会对它感兴趣(他已经学习了整个微积分序列以及线性代数)。这门课的教授以不同寻常的速度讲述材料:他在学期中途完成了本应是一年的微积分教科书，然后在学期的剩余时间里讲授他的研究。这门课是以定理证明为导向的，不涉及任何我以前认为与数学有关的讨厌的记忆。那是我第一次发现学校融入了我的整个生活，这让我非常期待去上数学课。我后来发现，当工程学院要求我回去学习微积分 II 时，非优等生的微积分需要大量的记忆，我跳过了这门课，因为我已经在微积分入门课程中讲述了这些内容。

如果我没有一个朋友把荣誉微积分的申请放在我的腿上，我可能不会主修数学，也可能永远不会找到任何似乎值得参加的课程。即便如此，我遇到的所有最有魅力的本科生教授都是数学教授，我基本上翘掉了其他课。我不知道这在多大程度上是因为我的数学课要小得多，因此更适合班上的人(当时计算机工程非常流行，班级人满为患)，还有多少是因为这些教授真的是很棒的老师。

虽然我偶尔会从我所学的数学中得到一些用处，但最大的价值在于我变得自信，我可以学习并运用我需要的数学来解决任何特定的问题。

#### 工程

在我的工程课上，我学习了如何调试和计算机如何工作到晶体管水平。我花了相当多的时间逃课，在图书馆阅读感兴趣的话题，包括计算机算术和电路设计。对[科伦的计算机算法](https://www.amazon.com/gp/product/1568811608/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&tag=abroaview-20&camp=1789&creative=9325&linkCode=as2&creativeASIN=1568811608&linkId=ebede6c98dc79cb83fa8695049df4dc4)、[钱德拉卡桑等人设计的高性能微处理器电路](https://www.amazon.com/gp/product/078036001X/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&tag=abroaview-20&camp=1789&creative=9325&linkCode=as2&creativeASIN=078036001X&linkId=e806434c2ef1eeef9e3d5963ecb68393)记忆犹新。我也开始看论文；我在图书馆花了很多时间阅读对我来说毫无意义的物理和工程论文。值得注意的例外是系统论文，我发现它们很容易阅读。我清楚地记得读过[迪纳摩论文](http://www.hpl.hp.com/techreports/1999/HPL-1999-77.html)(这是惠普关于 JITs 的论文，而不是亚马逊最近的同名论文)，但我想不起当时读过的任何其他论文。

#### 实习

我有过两次实习经历，一次是在 Micron，我在那里“研究”闪存，另一次是在 IBM，我在那里研究 POWER6。美光实习是糟糕实习的典型例子。当我出现时，我的经理很惊讶，他得到了一个实习生，没有我做的事情。过了一段时间(也许是一天)，他给我安排了一项任务:按电话上的按钮。他设法找到了一部使用微米闪存芯片的手机；他把它递给我，让我测试一下，然后走开了。

在手机上戳了一两个小时，找不到任何明显的 bug 后，我走了一圈，找到了有我能做的任务的人。大多数测试只比通过敲击按钮来“测试”手机稍微简单一点，但我做了一件并非完全无趣的任务，那就是验证闪存芯片的控制器是否正常工作。与我的其他任务不同，这是可以自动化的，我可以写一个 Perl 脚本来为我做测试。

我选择 Perl 是因为有人的桌子上有一本 Perl 的书，我可以借，这在当时似乎是一个很好的理由。我打电话给我的一个朋友，告诉他关于这种伟大的“新”语言，我们实现了文艺复兴时代，这是一个我们在高中玩过的棋盘游戏。我们没有完成，但 Perl 很容易使用，我们觉得我们可以编写一个程序，实际上做一些有趣的事情。

除了学习 Perl，我还知道我可以向别人要书并阅读它们，我在实习的大部分时间里都在关注一项手工任务，同时阅读别人放在周围的书。大多数书都与模拟电路设计或闪存有关，所以这就是我所学到的。在我的职业生涯中，没有一个细节真正对我有用，但我学到了两个有用的元项目。

首先，没有人会阻止你在工作中花时间阅读或花时间学习(在大多数团队中)。Micron 尽最大努力阻止实习生学习，它有一个阻止实习生上网的默认政策(经理可以推翻该政策，但我的不能)，但当实习生的另一项任务是随机按下电话按钮时，没有人会特意阻止实习生看书。

第二，我了解到有很多工程问题我们可以在没有人知道为什么的情况下解决。我读过的一本书是对当时闪存研究的调查。当时，闪存依赖于一些被很好表征但没有真正理解的行为。有关于潜在的物理机制如何工作的理论，但是确定哪个理论是正确的仍然是一个公开的问题。

第二年，我在 IBM 进行了一次更有教育意义的实习。我隶属于 POWER6 的一个逻辑设计团队，由于他们不知道如何处理我，他们让我验证他们编写的逻辑。他们有一个相对较新的工具，叫做[第六感，你可以把它看作是一个加强版的快速检查](//danluu.com/testing/#fn:S)。我学到的显而易见的技能是如何使用一个奇特的测试框架来编写测试，但是我学到的更有用的元事物是这样一个事实，即编写一个测试用例生成器和一个检查器通常比手工编写测试用例更有效率，在大多数地方，手工编写测试用例被认为是自动化测试。

我在 IBM 第一次遇到的另一件事是版本控制(很不幸，是 CVS)。回过头来看，我发现有点令人惊讶的是，不仅我从来没有在我的任何课堂上使用过版本控制，而且我从来没有遇到过任何其他使用版本控制的学生。我在 IBM 的实习是在本科生和研究生之间，所以我设法在没有使用或看到任何人使用版本控制的情况下获得了理学学士学位。

#### 计算机科学

我上过几堂计算机科学课。第一个是算法，它教得很差，而且非常复杂，结果我得了 A，尽管我什么都没学到。该课程不涉及编程，虽然我可以在空闲时间做一些实现，但我对工程更感兴趣，没有尝试应用任何材料。

第二门课是数据库。有几个编程项目，但它们都是一些搭建起来的项目，只需要实现几个关键方法就能让事情运转起来，所以在不知道如何编程的情况下也能做得很好。我参加了一场比赛，看谁能上最少的课，什么也没学到，勉强拿了个 b。

### 研究生院(2003 - 2005 年)

本科毕业后，出于一些愚蠢的原因，我决定去读研。一个是“为什么不呢？”大多数教授给出的论点是，如果你在本科毕业后不马上去，你就永远不会去，因为以后很难再回到学校。但后来人们不回去的原因是因为他们掌握的信息更多(他们知道学校和工作都是什么样的)，他们几乎总是选择工作！另一个主要原因是，我认为有了硕士学位，我会找到一份更有趣的工作。这并没有明显的错误，但是对于从事电气工程和编程的人来说，这似乎是不正确的。

我不知道我学到了什么我今天使用的东西，无论是直接意义上的还是间接意义上的。我有一些很棒的教授，也交了一些好朋友，但我认为这不是一个很好的时间利用，因为我在 19 岁或 20 岁时做了两个糟糕的决定。我没有去一所有很多人在我感兴趣的领域工作的学校，而是去了一所给我奖学金的学校，那里只有一个人在我真正感兴趣的领域工作。那个人就在我开始前离开了。

我最终学习了光学，虽然学习一个新的领域很有趣，但这种经历对我来说没有什么特别的价值，我可以从学习我更感兴趣的东西中获得乐趣。

我在正式学习光学的同时，还是花了很多时间学习不相关的东西。有一次，我决定我应该学习 Lisp 或 Haskell，可能是因为保罗·格拉厄姆写的一些东西。我在图书馆找不到 Lisp 教材，但我找到了一本 Haskell 教材。做完练习后，我不知道如何完成任何实际工作。但是我确实学到了列表理解，并且养成了使用高阶函数的习惯。

根据互联网上的评论和建议，我认为学习更多的语言可以教会我如何成为一名优秀的程序员，所以我阅读了 Python 和 Ruby 的入门书籍。据我所知，这基本上没有教会我什么有用的东西，我学习一个特定的领域(如算法或网络)比学习许多语言要好得多。

### 第一份真正的工作(2005 - 2013 年)

在研究生院快结束的时候，我主要是寻找并找到了电气/计算机工程方面的工作。一个明显的例外是谷歌，它打电话给我，让我飞到山景城去面试。我告诉他们，他们可能找错了人，因为他们甚至没有进行电话筛选，所以他们提出进行电话采访。我参加了电话面试，因为我没有任何 CS 背景，所以我预计会失败，我不出所料地失败了。回想起来，我应该要求面试硬件职位，但当时我不知道他们有硬件职位，尽管他们多年来一直在组装自己的服务器并设计自己的一些硬件。

不管怎样，我最终去了一家名为 [Centaur](https://www.amazon.com/gp/product/B01FSZU6FK/ref=as_li_qf_asin_il_tl?ie=UTF8&tag=abroaview-20&creative=9325&linkCode=as2&creativeASIN=B01FSZU6FK&linkId=d15e514c6ecefa224be8f05d4d5837e3) 的小芯片公司。我对接受这份工作犹豫不决，因为这是我在任何公司参加过的最简单的面试，这让我想知道他们的招聘门槛是否很低，因此工程师相对较弱。结果是，平均来说，那是我合作过的最好的一群人。我当时并没有意识到这一点，但这后来教会了我，那些声称拥有出色工程师的公司是在胡说八道，因为他们有超级艰难的面试，许多公司宣传的面试难度胜人一筹更多的是一种威望游戏。

但是我超越了我自己——我的第一个角色是他们所谓的“回归调试”,包括调试新生成的测试和回归测试的测试失败。这份工作的主要目标是向新员工传授 x86 体系结构的详细信息。当时，Centaur 的测试非常严重地基于芯片级测试，通过注入真正的指令、中断等来完成。因此，调试测试失败教会了新员工关于 x86 的所有知识。

英特尔 x86 手册长达数千页，不足以实现兼容的 x86 芯片。当 Centaur 制造其第一个 x86 芯片时，他们非常详细地遵循了英特尔手册，并将所有未定义行为的实例留给个人实现者。当他们拿回第一个芯片并进行尝试时，他们发现一些编译器产生的代码依赖于 x86 上技术上未定义的行为，但在英特尔芯片上却总是相同的。虽然这在技术上是一个编译器错误，但你不能发运与实际存在的软件不兼容的芯片，从那时起，Centaur 就通过确保芯片与英特尔芯片的行为完全匹配来实现 x86 芯片，甚至匹配官方未定义的行为。

几年后，我对 x86 有了广博的知识，能够从内存中设置控制寄存器和[MSR](https://en.wikipedia.org/wiki/Model-specific_register)中的位。在未来的工作中，我并不需要这些知识，但是不害怕低级硬件的元技能经常派上用场，尤其是当我遇到编译器或芯片错误的时候。如果你说你发现了一个硬件缺陷，人们会认为你是一个疯子，但因为我们非常小心地描述了英特尔芯片的确切行为，我们会定期发现缺陷，然后讨论我们是应该匹配缺陷还是匹配规范(英特尔手册)。

我从回归调试经历中得到的另一件事是对自动化的终生热爱。调试往往涉及大量的[机械步骤](//danluu.com/teach-debugging/)。在我对 x86 有了足够的了解，以至于调试变得很无聊之后，我开始自动化调试。那时，我知道如何编写简单的脚本，但不知道如何编程，所以我不能完全自动化这个过程。然而，我能够实现足够的自动化，对于 99%的失败，我只需要快速浏览一下摘要就可以找出问题所在，而不是花费数小时进行调试。这使得以前的全职工作变成了每天花费大约 30-60 分钟的事情(不包括我遇到一个 bug 的日子，这个 bug 涉及到我不熟悉的 x86 的某个模糊角落，或者我的脚本无法给出有用的总结)。

那时，我做了两件以前在实习中学到的事情。首先，我开始在工作中阅读。我从网上关于编程的评论开始，但是没有太多，所以我问我是否可以花钱买书，在工作的时候读。这看起来很正常，因为很多其他人也在做同样的事情，至少有两个人平均每周看不止一本技术书籍，其中一个人平均每两三天看一本技术书籍。

我以一周一本书到一个月一本书的速度安顿下来。我读了很多工程书籍，这些书籍传授了一些我不再使用的知识，现在我大部分时间都在编写软件；一些像《设计模式》和《重构》这样的“大创意”软件工程书籍，我并不是很欣赏，因为我只是在写脚本；还有一大堆关于不同编程语言的书，这些似乎对我没有任何影响。

我当时读过的唯一一本书是《日常事物的设计》，它以一种对我来说显而易见的方式改变了我写软件的方式。这本书的核心思想是，当人们因为没有使用难以理解的界面而自责时，我们应该责怪设计者设计了糟糕的界面，而不是用户没有使用它们。

如果你碰到一扇门，你错误地试着去拉而不是推(反之亦然)，并且有一些空闲时间，试着观察其他人如何使用门。每当我这样做的时候，我都会看到一半的人不正确地使用这扇门。那是设计缺陷！

日常事物的设计让我更容易接受 API 和 UX 的反馈，对那些说“没关系——每个人都知道`foo`和`bar`的参数必须以相反的顺序给出”或“咄！大家都知道你只需要点击菜单`X`，选择`Y`，导航到标签`Z`，打开`AA`，转到标签`AB`，然后滑动设置到`AC`。”

确切地说，我不认为所有这些阅读都是浪费时间，但我最好选择 CS 或 EE 中的几个子领域并了解它们，而不是阅读 O'Reilly 和 Manning 制作的那种书籍。

这并不是说这些书没有用，而是几乎所有的书都是在没有任何特定背景的情况下编写的，除了任何随机程序员可能有的背景，你只能从阅读针对随机程序员的第 50 本书中获得这么多。在我看来，大多数非学术会议都有同样的问题。作为一名演讲者，你想做一个适合所有听众的演讲，但是这样做的一个副作用是，对于参加过几次会议的有经验的程序员来说，许多演讲相对来说没有什么教育价值。

我想我也从所有的阅读中得到了积极的东西，但我还不知道如何找出那些东西是什么。

由于我的阅读，我也做了两件事，回想起来，相当有害。

一个是我真的迷上了函数式编程，并且尽可能地使用函数式风格。不变性，对于任何可能的 X 值的高阶 X，等等。结果是我可以快速编写和修改的代码，除了几个同样对函数式编程感兴趣的同事之外，其他人都无法理解。

第二大负面影响是，我开始相信 Perl 给我们带来了很多问题。我们有难以理解和修改的 Perl 脚本。它们通常有几千行代码，只有一两个函数，没有使用你能想到的所有模糊 Perl 特性的测试。静电！魔法印记！隐含一切！你说出它的名字，我们使用它。对我来说，最后一根稻草是当我在两个没有显式传递任何参数和返回值的函数之间插入一个新函数时，因为其中一个函数将一个值返回到下一个函数读取的隐式变量中，所以中断了脚本。通过在两个紧密耦合的函数之间插入另一个函数，我破坏了脚本。

之后我说服了一堆人用 Ruby，自己也开始用。问题是，我只成功地说服了我团队的一半人这样做，另一半人继续使用 Perl，这导致了语言碎片。更糟糕的是，在另一组中，他们也厌倦了 Perl，但开始使用 Python，导致公司拥有 Perl、Python 和 Ruby 代码。

Centaur 有一个明确的政策，不告诉人们如何做任何事情，这排除了团队范围或公司范围的标准。在这种环境下，使用“更好的”语言似乎是一件很自然的事情，但我没有意识到碎片化的代价，直到后来在我的职业生涯中，我看到一家公司使用标准化取得了良好的效果。

无论如何，当我造成可怕的碎片时，我也自动化了大部分的回归调试工作。我厌倦了把 80%的工作时间花在阅读上，于是我开始寻找其他事情去做，这是我在 Centaur 的整个时间里一直坚持的。我喜欢学习新的东西，所以我做了几乎所有你能做的与芯片设计相关的事情。我唯一没有做的事情是电路设计(电路设计的 TL 不希望一个非专业人士干涉他的领域)和一些角色，我被告知“Dan，如果你真的想做，你可以做，但我们给你太多钱让你全职做。”

如果我没有定期面试(大约一年一次，尽管我对自己的工作很满意)，我可能会想，做这么多不同的事情是否会阻碍我的职业生涯，因为大型芯片公司几乎只培养专家。但在面试中，我发现我的经历很有价值，因为这是他们在内部得不到的。具有讽刺意味的是，我得到的每一个角色都会让我成为一名专家。大型芯片公司说希望他们的员工四处走动，尝试不同的事情，但当你深入了解这意味着什么时，他们喜欢让人们在一个非常狭窄的职位上工作两三年，然后再转移到下一个非常狭窄的职位。

有一段时间，我怀疑自己是否注定要么最终去一家大公司，获得一个高度专业化的职位，要么在 Centaur 度过我的整个职业生涯(这不是一个坏命运，因为 Centaur 是迄今为止我工作过的所有地方中流失率最低的，因为人们非常喜欢它)。但我后来发现，构建硬件加速器的软件公司实际上有硬件工程师的多面手角色，软件公司有程序员的多面手角色，尽管这可能是一个有争议的问题，因为大多数软件人可能会认为我是一个非常特殊的专家。

不管花费大量时间在不同的硬件相关角色上是否会让你认为我是一个多面手或专家，我学到了许多在我从事硬件加速器时派上用场的技能[，但这并不能真正概括我今天从事的纯软件项目。不过，我学到的很多元技能都可以很好地转移。](http://www.anandtech.com/show/10340/googles-tensor-processing-unit-what-we-know)

如果我必须选择我当时学到的三个最有用的元技能，我会说它们是调试、错误跟踪和找出如何解决困难问题。

调试是一个有趣的技能，因为每个人都认为他们知道如何调试。对我来说，我甚至不会说我在 Centaur 学会了如何调试，而是学会了如何坚持。非确定性硬件错误比非确定性软件错误要糟糕得多，以至于我一直相信我能追踪到软件错误。在绝对最坏的情况下，当有一个 bug 没有在日志中被捕获，也不能在调试器中被捕获时，我总是可以添加跟踪信息，直到 bug 变得明显。在硬件中也是如此，但是“重新编译”以添加跟踪信息需要 3 个月的时间；与那次经历相比，追踪一个花了三个月才发现的软件错误感觉非常愉快。

Bug 跟踪是另一个每个人都认为他们拥有的元技能，但是当我查看大多数项目时，我发现他们根本不知道他们有什么 bug，并且由于未能有效地对 bug 进行分类，他们一直在丢失 bug。我甚至不知道我已经发展了这个技能，直到我离开半人马座，看到不知道如何跟踪 bug 的团队。在 Centaur，根据项目的阶段，我们会有 0 到 1000 个公开的 bug。与我合作最密切的人保持着一个心智模型，知道哪些 bug 是打开的；这在当时看起来完全正常，一群人这样做的事实使得人们很容易对项目的状态以及哪些领域领先于计划，哪些领域落后于计划达成一致。

在半人马座之外，我发现我很幸运能找到一个人在跟踪主要的未解决的 bug 是什么。直到我在团队中呆了一段时间，人们经常对这样的想法感到不舒服，即把一个主要问题放到一个 bug 中，而不是立即修复它，因为他们太习惯于 bug 被遗忘，以至于他们不信任 bug。但这就是 bug 跟踪的目的！我认为这类似于团队的测试覆盖率如此之低，阶段系统如此不稳定，以至于他们不相信自己能够做出改变，因为他们没有信心在进入生产之前发现问题。这对生产率是一个巨大的拖累，但人们直到看到替代方案后才真正意识到这一点。

也许我学到的最重要的元技能是学习如何解决大问题。当我加入 Centaur 时，我看到人们解决我甚至不知道如何解决的问题。有像格伦·亨利和泰瑞·帕克斯这样的人，格伦·亨利是 IBM 的同事，当时 IBM 处于计算的前沿，格伦称是他在 IBM 认识的最好的工程师。这并不是说他们是 10 倍的工程师；他们不仅工作得更快。事实上，我打字的速度可能是格伦的 10 倍(一个狩猎和啄打字员),并且可以比他更快地解决因打字速度而受到限制的琐碎问题。但是格伦、特里和其他一些巫师知道如何解决我甚至无法着手解决的问题。

我举不出任何特别的啊哈时刻。仅仅是八年的工作。当我去寻找需要解决的问题时，格伦经常会交给我一个问题，这个问题比我想象的要难一些。我会告诉他，我不认为我能解决这个问题，他会告诉我无论如何要试一试，也许 80%的情况下我会解决这个问题。在我停止告诉格伦我不认为我能解决这个问题之前，我们重复了大约五六年。尽管我不知道这是什么时候发生的，但我知道我最终开始认为自己可以解决我们之间任何悬而未决的问题。

### 研究生院，再次(2008 - 2010 年)

在 Centaur 任职期间的某个时候，我转为兼职，在当地大学上了一段时间课，做了一些研究。出于我不记得的原因，我把时间分别花在了软件工程和 CS 理论上。

我阅读了许多软件工程论文，并得出结论:我们对团队(甚至个人)的生产力知之甚少，该领域在不久的将来不太可能有可操作的答案。我也在一些我认为对人类知识水平没有做出有意义贡献的论文上签了名。

在计算机科学理论方面，我参加了一些研究生水平的理论课程。这真的很有教育意义，我有生以来第一次真正“理解”了算法，以及复杂性理论等。我本可以把我的名字写在一篇我认为没有对人类知识状态做出有意义贡献的论文上，但我的潜在合著者也有同样的感觉，我们没有把它写出来。

我最初再次尝试读研，因为我正在考虑获得博士学位，但我没有发现我正在做的工作比我在 Centaur 的工作更“有趣”，在看到项目中人们的工作成果后，我认为博士学位给我带来任何真正价值的机会不到 1%，于是我回到 Centaur 全职工作。

在 Centaur 工作了八年后，我想做一些除了微处理器之外的事情。我在其他硬件公司有足够多的朋友，他们知道如果我换到另一家硬件公司，除了名字识别，我基本上在每个方面都会降级，所以我开始申请软件工作。

当我申请工作的时候，我听说了关于 RC 的事情。这听起来很棒，甚至可能太棒了:当我向我的朋友展示人们对此的评论时，他们认为这些评论是假的。这是一次很棒的经历，我可以理解为什么这么多人对此赞不绝口，以至于真正的评论听起来不可能是正面的。对很多人来说，这是一次变革；我听到了很多感叹，比如“我在这里 3 个月学到的东西比在学校 N 年学到的还多”或者“我完全筋疲力尽了，这是我一年中第一次有效率”。这对我来说没有什么改变，但这是我经历过的最有趣的三个月，我甚至学到了一些东西。

从学习的角度来看，我从 RC 中学到的最重要的一件事是来自 Marek 的反馈，我和他一起工作了大约两个月。虽然 Centaur 的自由和缺乏监督让我发展了独立工作的能力，但我基本上没有得到任何关于我工作的反馈，因为我在那里时他们没有进行代码审查，我也从未在性能审查中得到任何可操作的反馈。

Marek 在结对编程时非常擅长提供反馈，和他一起工作让我改掉了一些坏习惯，也教会了我一些解决问题的新方法。在元层面上，RC 比大多数地方更关注结对编程，这让我第一次结对编程。我还没有意识到与某人结对编程在学习他们如何操作以及什么使他们有效方面是多么有效。从那以后，我请了一些超级高产的程序员来配对程序，每次我都有所收获。

### 第二份真正的工作(2013 - 2014 年)

我在正确的时间出现在正确的地点，着手一个项目，这个项目刚刚从安迪·菲尔普斯的 20%时间项目过渡到后来被称为 t 2 谷歌 T4 TPU T5 的项目。

据我所知，我是这个项目的第二个工程师，而不是第五个或第十个，这纯粹是运气。我想看看把一个项目从概念变成现实是什么样子。我在 Centaur 有一种感觉，但我从事的每个项目要么是 CPU 的一部分，要么是一个目标是使 CPU 开发更好的工具。这是我第一次从一开始就在一个重要的项目上工作，我不只是在项目的一部分上工作，而是在整个项目上工作。

不管用什么方法，这都是有教育意义的，但由于设计是如何完成的，这是一次特别棒的学习经历。我们开始就我们将要使用的核心算法进行了长时间的讨论。在我们找到一种能给我们带来可接受的性能的算法后，我们在认真实施之前，为每个主要模块编写了设计文档。

许多人认为现在写设计文档是浪费时间，但是经历这个耗时数月的过程有几个很大的好处。第一个是，通过合作完成设计，团队中的每个人都会学到其他人的技巧。这很像结对编程中的技能转移，但应用于设计。这对我来说很棒，因为作为一个只有十年经验的人，我是这个房间里经验最少的人之一。

第二个是在设计阶段迭代速度要快得多，扔掉一个设计仅仅意味着擦掉一块白板。一旦你开始编码，迭代设计就意味着扔掉代码；对于基础设施项目来说，这很容易是人-年甚至几十人-年的工作。自从在 TPU 项目中工作以来，我已经看到了几个类似项目的团队坚持尽快得到“工作”代码。在每一种情况下，这都会导致大量的延迟，因为大量的代码必须重写，在少数情况下，项目存在根本性的缺陷，需要团队从头开始。

我在 product-y 项目中得到了这一点，在那里你不知道你将从某事中获得多少牵引力，你可能想要得到一个 [MVP](https://en.wikipedia.org/wiki/Minimum_viable_product) 出门并迭代，但是对于纯基础设施，通常可以预测某事在设计阶段将有多有用。

我从这份工作中得到的另一件大事是更好地理解了当一家公司真正努力提高工程师的生产力时会发生什么。我在 Centaur 反复看到的事情是，有人会进来，四处看看，发现工具是一个巨大的生产力接收器，然后进行一系列的改进。他们会对自己的进步感到满意，然后转向其他问题。然后下一个新员工会进来，有同样的反应，做同样的事情。结果是工具在我在那里的时候有了很大的改进，但是还没有达到让进来的人满意的程度。与外部世界相比，谷歌是我工作过的唯一一个很多工具看起来像魔法的地方。当然，人们抱怨很多工具都被淘汰了，没有足够的文档，而且很多都过时了。都是真的。但是情况比我工作过的任何其他公司都要好。这似乎并不是谷歌业务的竞争优势，但它让开发体验变得非常愉快。

### 第三份真正的工作(2015 - 2017)

这是一次令人惊讶的经历。我想我离它太近了，以至于不知道我从这次经历中得到了什么，所以完整地填写这一部分是一件要做的事情。

一件非常有趣的事情是，有很多我曾经认为是“桌面赌注”的东西，用来完成看起来没有的事情。版本控制就是一个例子。我过去和现在都强烈支持使用版本控制，但是我和一个强烈反对版本控制的 TL 一起工作的项目基本上还是成功的。在我们开始使用版本控制之前，我们听到了很多，但是处理没有版本控制和人们没有真正同步变更的后果只花费了我一周一到两天的时间，在我的私人回购中手动合并变更，以使构建一致地工作。这显然与理想相差甚远，但是，对于整个团队来说，这个成本不足以决定成败。

上一份工作之后，我已经精疲力尽了，所以我回到 RC 做一些有趣的编程相关的事情，养精蓄锐。我还没有写下我所做的大部分工作(例如，Terra Mystica 上 80k 游戏的分析，MTA (NYC)地铁数据分析，等等。).我写了一些东西，比如对[电脑](//danluu.com/input-lag/)、[终端](//danluu.com/term-latency/)、[键盘](//danluu.com/keyboard-latency/)和[网站](//danluu.com/web-bloat/)的延迟分析。

我在 RC 的一段时间让我思考的一件事是，为什么拿高薪写作如此困难。对“好”写作的需求似乎很大，但公司似乎不太愿意为会编程但想写作的人创造角色。Steve Klabnik 通过他的作品对 Rust 产生了巨大的影响，可能比大多数项目中的普通程序员产生的影响都要大，但我的印象是，为了做这件真正有用和重要的事情，他正在大幅削减作为程序员的工资。

我曾尝试在几个地方推销这种角色，迄今为止得到的回应大多是以下几种情况的结合:

*   我们重视写作！我认为全职甚至半职写作是没有意义的，但是你加入我的团队，我们支持写作，你可以把写作作为一个 20%时间的项目或者在你的业余时间！
*   嗯，我们可以想出办法，但是为什么会编程的人会想写东西呢？

这些回答都没有让我认为在那些团队中，写作实际上会和编程一样有价值，即使相对于大多数团队来说，写作在那些团队中更有价值。有一些“开发人员传道者”的角色涉及到写作，但是当我阅读由有这个头衔的人写的工程博客时，大多数的写作看起来都是几乎不加掩饰的新闻稿(这显然有例外，但是即使在博客有有趣的工程输出的情况下，有趣的输出也经常与伪新闻稿交织在一起)。除了无聊之外，那种东西似乎也没什么用。在我工作的一家公司，我比较了他们的开发者 evanglist 博客和我自己的博客的流量，有好几个月我的博客获得的流量超过了他们所有托管的布道者博客的总和。我认为发现程序员更愿意阅读解释/分析/历史而不是 PR 并不奇怪，但似乎很难说服合适的人相信这一点，所以在这之后我可能会回到编程工作中。我们走着瞧。

顺便说一句，这并不是说我不喜欢编程或者认为编程不重要。只是写作似乎被低估了，这使得写作相对容易产生巨大的影响。但是，同样的力量使得产生巨大的影响变得容易，也使得获得丰厚的报酬变得困难！

### 不好的东西呢？

当我想到我的职业生涯时，在我看来，这是一个接一个的幸运事件。我曾经不幸过几次，但我真的不知道该从那些不幸的时光中拿走什么。

例如，我会认为我的教养是轻度虐待。我记得有几个晚上我睡不着，因为每次我睡着的时候都会做关于我父亲的噩梦。白天醒着也不是什么好经历。这显然不好，回想起来，这似乎与我搬出去之前的学术问题有很直接的关系，但我不知道我能给年轻时的自己提供有用的建议。不要出生在一个虐待狂的家庭？如果人们能控制这件事，他们早就这么做了。

或者举一个最近的例子，我曾经加入一个团队，在 Joel 测试中得了 1 分。乔尔测试现在被认为是过时的，因为它奖励像“你有测试人员吗？”以及“在编写新代码之前，你会修复 bug 吗？”，这并不被当今大多数开发人员认为是最佳实践。在没有争议的项目中，许多看起来如此明显，以至于不值得询问，比如:

*   你使用源代码控制吗？
*   你能一步到位吗？
*   你(至少)每天都做构建吗？
*   你有 bug 数据库吗？

对于任何关心这类事情的人来说，加入一个最多只做 Joel 清单上的一项的团队显然不是一个好主意(而这一项不是上面的任何一项)。在一个得分为 1 的团队中获得第一手经验并没有给我任何新的信息，让我重新考虑我的观点。

你可能会说我应该问一下那些事情。是真的！我应该有，而且将来可能也会有。然而，当我被雇佣时，反对版本控制和其他形式的自动化的 TL 还没有被雇佣，所以如果我问的话，我也不会发现这一点。此外，即使他已经被雇佣了，我仍然不确定我会发现这一点——这是我唯一一次加入一个团队，然后发现招聘过程中做出的大多数事实陈述是不真实的。我一定要问一些关于项目状态、过程、已经运行的实验等具体的问题。但是结果证明这些答案都是假的。当我在那个团队的时候，每天都有一个团队成员之间的笑话，说招聘广告是多么的虚假！

我可以通过询问真实说法的具体证据来防止未来出现类似问题(例如，如果有人声称流失率为 X，我可以要求进入人力资源数据库进行核实)，但考虑到我的时间有限，而且被告知完全错误的概率相对较低，我认为在考虑工作时，我会继续优先寻找其他信息，并接受未来我有极小的可能会陷入类似情况。

当我审视自己经历过的与职业相关的糟糕事情时，几乎所有的事情都可以归为两类:基本上不可避免的明显糟糕的事情，或者在资源有限的情况下，我不知道如何合理避免的明显糟糕的事情。我看不出有什么可学的。这并不是说我没有犯错误，没有从错误中吸取教训。我犯了很多错误，也因为这些错误做了很多不同的事情！但是我最糟糕的经历来自于我不知道如何用任何合理的方式去阻止的事情。

我认识的大多数人似乎也是如此。例如，我经常看到的一件事是，我的一个朋友最终会和一位经理在一起，他的观点是，经理是发放奖励和惩罚的人(而不是那些认为经理应该尽可能提高团队效率的人，或者那些认为经理应该帮助人们成长的人)。当你有一个这样的经理时，一个常见的失败模式是给你一个不适合的工作，然后也许你没有做好工作，因为工作不适合。如果你要求更合适的东西，就会被拒绝(为什么当你没有做好工作时，你应该被奖励去做你想做的事情，相反，你应该被惩罚去做更多你不喜欢的事情)，这导致了一个螺旋，最终导致这个人离开或被解雇。在我最近看到的一个案例中，解雇对被解雇的人和他们最亲密的同事来说都是一个惊喜:尽管管理层尽了最大努力，我的朋友还是设法找到了一个非常合适的角色；当管理层决定解雇我的朋友时，他们没有征求新项目同事的意见，他们认为我的朋友做得很好，而且几个月来一直做得很好！

我听到很多这样的故事，我很乐意听，因为我喜欢故事，但我不知道这里有什么可操作的。避开那些喜欢惩罚而不是帮助员工的经理？显而易见但不可行。

### 结论

我看到的最常见的职业建议是“你应该做我做过的事情，因为我很成功”。它通常有不同的措辞，但这是它的主旨。这基本上是行不通的。当我与朋友和熟人交换意见时，很明显我的职业生涯在很多方面都不寻常，但不清楚为什么。

举个例子，我几乎总是有一个支持我的经理，他不仅愿意让我自己学习任何我想学的东西，而且愿意花费大量的时间和精力来帮助我提高作为一名工程师的水平。我交谈过的大多数人从未有过这种感觉。为什么不同？我不知道。

一个[故事](https://www.youtube.com/watch?v=RoEEDKwzNBw)可能是:我有两次遇到不支持我的经理，我很快找到了其他职位，而我的许多朋友会在不适合的职位上呆上几年。也许我可以转述一下，让它听起来像是这个故事的寓意是，你应该比你想象的更早地离开角色，但我最终陷入的两个糟糕的情况都是因为我比我应该的更早地离开角色，所以建议不能是“宁愿比你想象的更早地离开角色”。也许这个故事的寓意应该是“更快地离开坏角色，更长时间地呆在好角色中”，但这太明显了，甚至不值得陈述。这可能不是显而易见的，因为事实上，人们确实会呆在他们感到痛苦的角色中，但当我想到这样做的人时，他们可以分为两类。要么他们因为外在原因(例如，需要等到签证时间结束)而坚持下来，要么他们知道他们应该离开，但不能让自己这样做。对于前一种情况没什么可做的，对于后一种情况，知道他们应该离开不是问题。我能想到的每一个策略要么在一般情况下都是不正确的，要么太明显了，没有理由去谈论它。

另一个故事可能是:我学到了很多有价值的元技能，所以你应该学习这些技能。但是你可能不应该。我选择的这套元技能对我来说非常有用，因为这些技能我可以在我工作的地方轻松学到(通常是因为我有一个很好的导师)，也因为这些是我非常坚信要做的事情。你的环境和核心信念可能与我的不同，你必须自己找出学习什么有意义。

另一个故事可能是:虽然很多机会来自意外，但我有很多机会，因为我花了很多时间来创造可能的机会。当我把这篇文章的草稿传给一些朋友时，基本上每个人都告诉我，我在叙述中过于强调运气，我所有的幸运都来自于努力工作和试图创造机会的结合。虽然从某种意义上说这是对的，但我的许多机会也来自于做出彻头彻尾的错误决定。

例如，我最终去了 Centaur，因为我因为一个可怕的原因拒绝了去 IBM 工作的机会！实习结束时，我的经理试图说服我继续做全职员工，但我拒绝了，因为我要去读研究生。但我去读研只是因为我想得到一个微处理器逻辑设计的职位，我认为光有学士学位是得不到的。但是如果我没有拒绝我的经理，我可能会得到那个职位！我只是忘记了我决定去读研的原因，错误地用缓存的决定作为拒绝工作的理由。非常幸运的是，这种情况发生得很好，我得到了比我认识的决定去 IBM 工作的实习生更好的机会。我“大部分”是幸运还是有所准备？难说；甚至可能是不可能的。

职业没有你需要的记录基础设施来确定个人决定的影响。总之是编程方面的职业。现在，许多体育项目都在追踪一场场比赛的数据，这样就有可能试图确定在任何一场比赛或任何一个赛季中，有多少成功是运气，有多少是技巧。

以棒球为例，这是一项比较好理解的运动。如果我们看看我们今天对表现的统计理解，很明显，20 年前几乎没有人知道是什么因素让球员成功。我发现特别有趣的一件事是，我们现在对哪些因素是根本的，哪些因素是运气有了更好的理解，这完全不是 20 年前几乎任何人都会想到的。我们现在可以看着一名投手，说一些类似“他们这个赛季运气不佳，但他们的 foo，bar 和 baz 率都很高，所以这似乎是在比赛中运气不好，而不是技术下降”，我们也可以说“他们这个赛季做得很好，但他们的基本数据没有变化，所以他们未来的表现很可能不会比他们在这个赛季之前的表现好”。20 年前我们不可能做出这样的声明。这项运动已经有了详细的视频，看起来像是永远的，详细的数据已经保存了一个世纪，等等。

在这项衡量一切的运动中，直到最近，我们才能够区分运气导致的成绩波动和技术变化导致的波动。然后是编程，人们普遍认为不可能衡量人们的表现，给人们的表现打分的最先进的方法是，你询问五个人对某个人的评价，然后汇总这些评价。如果我们现在才能够对一项运动中哪些归因于运气，哪些归因于技巧做出评论，而这项运动中每个人的工作细节都是可用的，那么我们怎么可能接近于对编程生涯这样模糊的事情中哪些归因于运气而哪些归因于其他因素做出断言呢？

总之，生活很乱，我没有任何建议。

#### 证明文件

我曾经和 Jared Davis 一起工作过，他是一个文档向导，他的文档非常好，以至于在我和模块的所有者交谈之前，我会去找他了解模块是如何工作的。据我所知，他写下了他试图理解的东西的文档，以使自己的生活更轻松，但他的文档是如此之好，以至于它是整个公司的力量倍增器。

后来，在谷歌，我注意到最初设计文件的质量和项目的成功之间有一种奇怪的强烈关联。从那以后，我试着为我的项目写可靠的设计文档，但是我还有一段路要走。

到目前为止，我只在情况比平均水平好得多的团队和情况比平均水平差得多的团队着陆。你可能会认为，因为在比平均水平差得多的团队中有这么多唾手可得的果实，所以在糟糕的团队中改进事情应该更容易，但事实恰恰相反。那些有很多问题的地方之所以有问题，是因为有些事情让解决问题变得很困难。

当我加入在 Joel 测试中得了 1 分的团队时，仅仅是让每个人使用版本控制就花了几个月的时间。

我从未见过一个环境从“坏”变“好”，我很想知道那是什么样子，以及它是如何发生的。Yossi Kreinin 的观点是只有管理层才能解决问题。那可能是真的，但是我还没有准备好去相信它，即使我没有任何相反的证据。

### 附录 B:其他“我如何成为程序员”的故事

[克拉根](https://www.mail-archive.com/kragen-tol@canonical.org/msg00184.html)。描述了学习编程的 27 年。非常强调开发的概念阶段(例如，理解如何使用提供的函数与理解您可以编写任意函数)

朱莉娅·埃文斯。2004 年开始在 TI-83 上编程。直到大学(2006-2011)才涉足编程，从那以后一直从事职业程序员的工作。有些强调“旅程”和需要多长时间来提高。

[菲利普郭](http://pgbovine.net/how-i-learned-programming.htm)。这是一个学习编程的非传统故事，如果你知道 Philip 的职业道路是麻省理工学院- >斯坦福- >谷歌，这可能会令人惊讶。

塔维什·阿姆斯特朗。从大学四年级开始。强调特定技术(如 LaTeX 或 Python)。

凯铁·麦卡弗里。开始在 AP 计算机科学中编程。强调兴趣如何导致编程生涯。

[马特·德伯德](http://mattdeboard.net/2011/11/23/how-i-became-a-programmer/)。在导师的帮助下花了 12 周学习 Django。强调没有编程背景也有可能成为一名程序员。

克里斯蒂娜·乔多罗。从大学开始。强调选择(数学，研究生院)。

迈克尔·伯恩斯坦。多年来学习 Haskell 的故事。强调达到最低程度的熟练程度需要多长时间。

感谢 Leah Hanson、Lindsey Kuper、Kelley Eskridge、Jeshua Smith、Tejas Sapre、Joe Wilder、Adrien Lamarque、周曼、Lisa Neigut、Steve McCarthy、Darius Bacon、Kaylyn Gibilterra、Sarah Ransohoff、@HamsterRaging 和“biktian”的评论/批评/讨论。

</main>