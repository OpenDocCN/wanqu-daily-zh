# 如何创建一个最小的，可重复的例子-帮助中心栈溢出

> 原文：<https://stackoverflow.com/help/mcve?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website>

当提出问题时，如果您提供的代码能够让人们容易理解并用于重现问题，他们将能够更好地提供帮助。这被机构群体成员称为创建一个最小的、可复制的示例( **reprex** )、一个最小的、完整的、可验证的示例( **mcve** )或一个最小的、可行的示例( **mwe** )。不管它是如何传达给您的，最终都要确保您重现问题的代码遵循以下准则:

您的代码示例应该是…

*   …最小化–使用尽可能少的仍然会产生相同问题的代码
*   …完整——在问题本身中提供其他人重现您的问题*所需的所有部分*
*   …可重现–测试您将要提供的代码，确保它重现了问题

这篇帮助文章的其余部分提供了关于编写一个最小的、可重复的例子的这些方面的指导。

## 最小的

要检查的代码越多，人们发现你的问题的可能性就越小。以两种方式之一简化您的示例:

1.  **从头开始。创建一个新程序，只添加发现问题所需的内容。对函数和变量使用简单的、描述性的名字——不要复制你在现有代码中使用的名字。**
2.  **分而治之。**如果你不确定问题的根源是什么，开始一次删除一点代码，直到问题消失——然后再添加最后一部分。

### 最小的*和*可读

当创建一个最小的例子时，不要为了简洁而牺牲清晰。使用一致的命名和缩进，并在需要时包含代码注释。使用代码编辑器的快捷键来格式化代码。此外，使用**空格代替制表符**-在堆栈溢出时制表符可能不会被正确格式化。

## 完成

确保重现问题所需的所有信息都包含在问题本身的**中:**

*   如果问题需要一些服务器端代码和一些基于 XML 的配置，**包括两者的代码**。如果一个网页问题需要 HTML、一些 JavaScript 和一个样式表，**包含了这三者的代码。**问题可能不在您认为的代码中。

*   为您包含的每个文件或代码片段使用*单独的* **[代码块](https://stackoverflow.com/editing-help#code)** 。为每个模块的用途提供描述。

*   使用 **[堆栈片段](https://meta.stackoverflow.com/questions/358992/ive-been-told-to-create-a-runnable-example-with-stack-snippets-how-do-i-do)** 来包含可运行的 HTML、JavaScript 或 CSS。

*   **不要**使用代码的图像。从你的代码编辑器中复制实际文本，粘贴到问题中，然后[将其格式化为代码](https://stackoverflow.com/editing-help#code)。这有助于其他人更容易地阅读和测试您的代码。

## 可再生的

为了帮助您解决问题，其他人需要验证它*是否存在:*

*   **描述问题。“它不起作用”不足以帮助人们理解你的问题。相反，告诉其他读者预期的行为应该是什么。告诉其他读者错误信息的确切措辞，以及哪一行代码产生了它。用一个简短但描述性的问题总结作为你问题的标题。**

*   消除任何与问题无关的问题。如果你的问题不是*关于*一个编译器错误，确保没有编译时错误。使用像 [JSLint](https://www.jslint.com/) 这样的程序来验证解释语言。验证任何 HTML 或 XML。

*   再次检查您的示例是否重现了问题！如果您在编写示例时无意中修复了问题，但没有再次测试，那么在请求他人帮助之前，您应该想知道这一点。

这可能有助于关闭并重新启动系统，或者将示例转移到一个新的环境中，以确认它确实提供了问题的示例。

* * *

关于如何调试程序的更多信息，你可以创建一个最小化的例子， [Eric Lippert](https://stackoverflow.com/users/88656/eric-lippert) 写了一篇关于这个主题的精彩博文: *[如何调试小程序](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)* 。

使用“reprex”代表“T2”的例子是受到了“T4”珍妮·布莱恩的“T5”代表“T7”的启发。

你可能被告知要附上 MCVE——他们指的是最少的、完整的、可证实的例子。MCVE 也是你现在正在阅读的页面的前一个名称，偶尔会拼错为 MVCE，然后被重命名为最小的、可复制的示例(有时称为“代表”、“最小代表”、“再现”或只是“示例”)。