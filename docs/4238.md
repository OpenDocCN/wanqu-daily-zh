# app canary——简单不容易，但困难也不简单:离开 Clojure 去找 Ruby

> 原文:[https://blog . app canary . com/2017/hard-uns-simple-ruby-clo jure . html？UTM _ source = Wanqu . co&UTM _ campaign = Wanqu+Daily&UTM _ medium = website](https://blog.appcanary.com/2017/hard-isnt-simple-ruby-clojure.html?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)

2016 年 11 月，我在 RubyConf 发表了一次演讲，讲述了我们如何在 Clojure 中构建 Appcanary 的第一个版本，然后扔掉它的故事。

下面是我的演讲:

<iframe src="https://www.youtube.com/embed/doZ0XAc9Wtc?ecver=2" frameborder="0" allowfullscreen="">视频</iframe>

跳到 12:10，从我开始谈论 Clojure 的具体问题的部分开始。

但是，那个演讲有半个多小时，谁有时间听呢？

### 你应该带走的三个重要想法:

1.  如果你开始一个项目，而你确实时间紧迫，你应该偏向于你非常了解的工具。如果你有一家初创公司，你应该解决一个商业问题。不要因为不得不学习新工具而让你的生活变得更加艰难。

2.  尽可能避免构建分布式系统。它们引入了许多小团队难以支付的昂贵的复杂性。微服务对大型团队很有用，但你编写和部署应用程序的方式应该反映你的团队的组织和协调能力。

3.  我个人觉得进入 Clojure 真的很难。我有一种感觉，Clojure 作为一个社区并不重视“开发者快乐”，我认为它应该重视！工具应该尽一切可能让你的生活变得更轻松。

* * *

我们在之前已经[提到过这个演讲，但是我实际上没有把它放在这个博客上，原因有二:](/2016/missing-clojure.html)

1.  我已经重新看了很多次，现在可以想出半打我会以不同方式做的事情。
2.  Clojure 社区的一些人真的很生气。

## 哎哟

许多原本善意的人看了这个演讲，认为我 a)有点混蛋，b)可能不称职。如此多的人表达了这样的观点，以至于我不得不要求会议成员关闭评论 <sup id="fnref1">[1](#fn1)</sup> 。

我真的不怪他们。

开发者工具不是孤立存在的；它们通常只有在周围有一个活生生的社区时才有用。这需要如此程度的投资，以至于许多程序员将不可避免地将他们最喜爱的编程语言融入他们身份的一部分。当一些局外人出现并批评你的社区和身份时，你很难对他们所说的话表现出宽容。

不过，这是一次很好的学习经历。我开始明白我没有足够努力去证明我来自一个善良的地方，我的演讲是 T2 而不是去你的！给社区。

我带着开放的心态进入这种语言及其环境，并在其中投入了大量资源，但是，很大程度上是因为我的特定环境和我们早期犯的一些错误，继续投资 Clojure 对我们来说没有意义。

* * *

## 进一步讨论

因此，令我惊讶的是，最近当 Clojure 社区中的一些人环顾四周并做了一个观察时，我的演讲变得很有意义:

由于 Twitter 最近决定不将用户名计入字符限制，这个线程获得了完整的生命。我不知道如何公正地对待所讨论的全部话题；Twitter 自己也没有弄清楚如何正确显示线程。

我认为提出的一些想法值得进一步研究，因此我总结了讨论的部分内容以解决这些问题。这是这样的:

### 线

炒作周期已经远离 Clojure，[社区感觉它正在缩小](https://twitter.com/ZackMaril/status/863916529674354688) - [，尽管有更多的工作机会即将到来](https://twitter.com/ztellman/status/864243503999602688)。

为 Clojure 做一个[好的商业案例](https://twitter.com/ztellman/status/864244372933443585)实际上有点困难，因为[JVM 让小工具令人望而却步](https://twitter.com/ZackMaril/status/864244440931500033)，如果你确实喜欢 JVM，[你现在有很多选择](https://twitter.com/cemerick/status/864931671388409856)。理论上，[你应该在 Clojure](https://twitter.com/ericnormand/status/864940158159912960) 中更有效率，但是很难说这有多真实。

也就是说，[人们真的会离开 Clojure](https://twitter.com/mark_engelberg/status/865370061489356800) 吗？嗯，[最近有一个关于这个话题的演讲](https://twitter.com/ztellman/status/865372517786984448)，虽然它可能是由一个[无能](https://twitter.com/timbaldridge/status/865640256220962816)和[卑鄙的混蛋](https://twitter.com/timbaldridge/status/865654433870356480) <sup id="fnref2">[2](#fn2)</sup> 写的，但它有一些[的优点](https://twitter.com/cemerick/status/865657364317298690)。

到底什么*是对新加入 Clojure 的开发者的[合理预期？Lisps 是一种](https://twitter.com/phillmv/status/865690983274430464)[非常不同的](https://twitter.com/timbaldridge/status/865667405862715392)范式。这里的情况有所不同。开发人员通过解决问题或使问题自动化而获得报酬，而人们浪费大量的时间试图变得“快乐”。Clojure 鼓励人们反思他们的工作，并积极削减工作。毕竟[简单不容易](https://twitter.com/potetm/status/866027314009829376)！*

 ** * *

好吧，哇，你还在听吗？难以置信。

我现在很难写 Clojureland，因为距离我上次键入`lein repl`已经过去了整整一年，但我即将说一些稍微夸张和稍微苛刻的话，因为它更令人难忘，所以请原谅我。有点夸张，但我保证我来自一个充满爱的地方。

开始了。准备好了吗？

## “简单！= Easy”是有史以来引入编程的最有害的思想之一

对于 Clojureland 之外的人来说，这是对 2011 年著名的 Rich Hickey 演讲的引用，题目是“[简单变得容易](https://www.infoq.com/presentations/Simple-Made-Easy)”。

Rich 的论点是，对一个问题最好的、概念上最简单的解决方案不会自动变得简单易用。

通常，当我们说某样东西很容易时，我们实际上只是说它对我们来说很熟悉，而且我们以前用过类似的东西。仅仅因为我们不需要动用我们的大脑，并不意味着一个概念或框架或人工制品不是复杂的*。*

 *通常，最简单的解决方案可能与你所期望的大相径庭，因此可能需要一些额外的努力。

我第一次看的时候觉得那个演讲真的很有见地。例如，数学是一个你可以将一生的精神能量奉献给简单但困难的事情的地方。的确，许多简单的事情是不必要的复杂。但是，看到这些年来人们是如何称呼它的，我已经对这个概念产生了反感。

### 实际上，“简单变得容易”是制造难以使用的软件的一个精心设计的借口。

通过将“简单性”与“易用性”分开，然后确立简单性的首要地位，它给了人们一种意识形态上的折扣来改善我们的工具和工件的用户界面。

如果你的主要目标是简单、美丽和优雅，那么如果人们没有“理解”这一点，那就不是你的错。它让我们看不到对我们软件的批评:如果我们不重视我们工具的可访问性，那么就很难区分“有许多任意的障碍阻止了我的理解”和“我很懒，懒得去努力” <sup id="fnref3">[3](#fn3)</sup> 。

将“简单性”与“易用性”完全分开，这种狭隘的观点阻碍了我们优化易用性，也就是开发人员的体验。

在我的演讲中，我称 Clojureland 生态系统为“用户敌对”。这与社区形成了鲜明的对比，社区的人总的来说都很可爱，很有风度，也很善良。

毫无疑问，我生气是因为 Clojureland 工具不熟悉，是的。但是过了某一点，他们也变得*不友好*，因为在他们的错误消息、启示和失败条件中，他们对挖掘代码和 Clojure 的概念、习惯用法和运行时怪癖的高级知识有相当高的容忍度。

所以我们回到了 Ruby，我们非常了解它。

但是问题就在这里:Ruby 的工具很糟糕。解释器又慢又挑剔，它过去像筛子一样漏内存。没有静态的自省，元编程的特性是基本的和缓慢的，并且很容易耗尽状态和完成你的程序。与 2004 年的 Java 或 PHP 相比，这已经很棒了。2017 年，世界不同了。

但是，你知道 Ruby 真正得到了什么吗？Ruby 是为了好玩和让程序员开心而设计的。我认为这是一个很棒的设计理念，我会更进一步:

## 所有的编程语言都应该力求有趣，让程序员开心。

我认为这是 Ruby 给编程带来的最重要的贡献，随着 Ruby 变得稳定，变得不那么令人兴奋，人们继续前进，前 Ruby 爱好者将这些价值观带到他们的新社区令人难以置信。

你可以在《仙丹》、《铁锈》和《灰烬》中看到这种态度。我们的工具将帮助您取得成功。我们的工具应该不碍事。我们的工具应该可以工作。

事实是，编程可能很复杂，但也常常是不必要的困难。程序员是编程工具的最终用户，忽视他们使用工具的体验是非常糟糕的设计。我们应该尽最大努力欢迎每一个层次的体验。**